<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contributing To Ruby On Rails - Rails Dokümantasyonu - Türkçe</title>
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">
                    <a href="/">Rails Kılavuzları</a>
                </h1>
                <nav class="nav">
                    <a href="/">Ana Sayfa</a>
                    <a href="https://dilankaya127.github.io">Portföy</a>
                    <a href="https://github.com/dilankaya127/rails-tr-TR">GitHub</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div class="guide-container">
    <aside class="guide-sidebar">
        <div class="guide-toc">
            <h3>İçindekiler</h3>
            <div id="toc"></div>
        </div>
        
        <div class="guide-nav">
            <h3>Diğer Kılavuzlar</h3>
            <ul>
                <li><a href="/rails-tr-TR/guides/tr/getting_started">Rails ile Başlarken</a></li>
                <li><a href="/rails-tr-TR/guides/en/active_record_basics">Active Record Temelleri</a></li>
                <li><a href="/rails-tr-TR/guides//en/action_controller_overview">Action Controller</a></li>
                <li><a href="/rails-tr-TR/guides/tr/action_cable_overview">Action Cable</a></li>
            </ul>
        </div>
    </aside>

    <article class="guide-content">
        <header class="guide-header">
            <h1>Contributing To Ruby On Rails</h1>
            
        </header>

        <div class="guide-body">
            <p><strong>DO NOT READ THIS FILE ON GITHUB, GUIDES ARE PUBLISHED ON <a href="https://guides.rubyonrails.org">https://guides.rubyonrails.org</a>.</strong></p>

<h1 id="contributing-to-ruby-on-rails">Contributing to Ruby on Rails</h1>

<p>This guide covers how <em>you</em> can become a part of the ongoing development of Ruby on Rails.</p>

<p>After reading this guide, you will know:</p>

<ul>
  <li>How to use GitHub to report issues.</li>
  <li>How to clone main and run the test suite.</li>
  <li>How to help resolve existing issues.</li>
  <li>How to contribute to the Ruby on Rails documentation.</li>
  <li>How to contribute to the Ruby on Rails code.</li>
</ul>

<p>Ruby on Rails is not “someone else’s framework”. Over the years, thousands of people have contributed to Ruby on Rails ranging from a single character to massive architectural changes or significant documentation - all to make Ruby on Rails better for everyone. Even if you don’t feel up to writing code or documentation yet, there are various other ways that you can contribute, from reporting issues to testing patches.</p>

<p>As mentioned in <a href="https://github.com/rails/rails/blob/main/README.md">Rails’
README</a>, everyone interacting in Rails and its sub-projects’ codebases, issue trackers, chat rooms, discussion boards, and mailing lists is expected to follow the Rails <a href="https://rubyonrails.org/conduct">code of conduct</a>.</p>

<hr />

<h2 id="reporting-an-issue">Reporting an Issue</h2>

<p>Ruby on Rails uses <a href="https://github.com/rails/rails/issues">GitHub Issue Tracking</a> to track issues (primarily bugs and contributions of new code). If you’ve found a bug in Ruby on Rails, this is the place to start. You’ll need to create a (free) GitHub account to submit an issue, comment on issues, or create pull requests.</p>

<p>NOTE: Bugs in the most recent released version of Ruby on Rails will likely get the most attention. Additionally, the Rails core team is always interested in feedback from those who can take the time to test <em>edge Rails</em> (the code for the version of Rails that is currently under development). Later in this guide, you’ll find out how to get edge Rails for testing. See our <a href="maintenance_policy.html">maintenance policy</a> for information on which versions are supported. Never report a security issue on the GitHub issues tracker.</p>

<h3 id="creating-a-bug-report">Creating a Bug Report</h3>

<p>If you’ve found a problem in Ruby on Rails that is not a security risk, search the <a href="https://github.com/rails/rails/issues">Issues</a> on GitHub, in case it has already been reported. If you cannot find any open GitHub issues addressing the problem you found, your next step will be to <a href="https://github.com/rails/rails/issues/new">open a new issue</a>. (See the next section for reporting security issues.)</p>

<p>We’ve provided an issue template for you so that when creating an issue you include all the information needed to determine whether there is a bug in the framework. Each issue needs to include a title and clear description of the problem. Make sure to include as much relevant information as possible, including a code sample or failing test that demonstrates the expected behavior, as well as your system configuration. Your goal should be to make it easy for yourself - and others - to reproduce the bug and figure out a fix.</p>

<p>Once you open an issue, it may or may not see activity right away unless it is a “Code Red, Mission Critical, the World is Coming to an End” kind of bug. That doesn’t mean we don’t care about your bug, just that there are a lot of issues and pull requests to get through. Other people with the same problem can find your issue, and confirm the bug, and may collaborate with you on fixing it. If you know how to fix the bug, go ahead and open a pull request.</p>

<h3 id="create-an-executable-test-case">Create an Executable Test Case</h3>

<p>Having a way to reproduce your issue will help people confirm, investigate, and ultimately fix your issue. You can do this by providing an executable test case. To make this process easier, we have prepared several bug report templates for you to use as a starting point:</p>

<ul>
  <li><a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_record.rb">Template for Active Record (models, encryption, database) issues</a></li>
  <li><a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_record_migrations.rb">Template for testing Active Record (migration) issues</a></li>
  <li><a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/action_controller.rb">Template for Action Pack (controllers, routing) issues</a></li>
  <li><a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/action_view.rb">Template for Action View (views, helpers) issues</a></li>
  <li><a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_job.rb">Template for Active Job issues</a></li>
  <li><a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_storage.rb">Template for Active Storage issues</a></li>
  <li><a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/action_mailer.rb">Template for Action Mailer issues</a></li>
  <li><a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/action_mailbox.rb">Template for Action Mailbox issues</a></li>
  <li><a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/generic.rb">Generic template for other issues</a></li>
</ul>

<p>These templates include the boilerplate code to set up a test case. Copy the content of the appropriate template into a <code class="language-plaintext highlighter-rouge">.rb</code> file and make the necessary changes to demonstrate the issue. You can execute it by running <code class="language-plaintext highlighter-rouge">ruby the_file.rb</code> in your terminal. If all goes well, you should see your test case failing.</p>

<p>You can then share your executable test case as a <a href="https://gist.github.com">gist</a> or paste the content into the issue description.</p>

<h3 id="special-treatment-for-security-issues">Special Treatment for Security Issues</h3>

<p>WARNING: Please do not report security vulnerabilities with public GitHub issue reports. The <a href="https://rubyonrails.org/security">Rails security policy page</a> details the procedure to follow for security issues.</p>

<h3 id="what-about-feature-requests">What about Feature Requests?</h3>

<p>Please don’t put “feature request” items into GitHub Issues. If there’s a new
feature that you want to see added to Ruby on Rails, you’ll need to write the
code yourself - or convince someone else to partner with you to write the code.
Later in this guide, you’ll find detailed instructions for proposing a patch to
Ruby on Rails. If you enter a wish list item in GitHub Issues with no code, you
can expect it to be marked “invalid” as soon as it’s reviewed.</p>

<p>Sometimes, the line between ‘bug’ and ‘feature’ is a hard one to draw.
Generally, a feature is anything that adds new behavior, while a bug
is anything that causes incorrect behavior. Sometimes, the Core team will have
to make a judgment call. That said, the distinction generally determines which
patch your change is released with; we love feature submissions! They just
won’t get backported to maintenance branches.</p>

<p>If you’d like feedback on an idea for a feature before doing the work to make
a patch, please start a discussion on the <a href="https://discuss.rubyonrails.org/c/rubyonrails-core">rails-core discussion board</a>. You
might get no response, which means that everyone is indifferent. You might find
someone who’s also interested in building that feature. You might get a “This
won’t be accepted”. But it’s the proper place to discuss new ideas. GitHub
Issues are not a particularly good venue for the sometimes long and involved
discussions new features require.</p>

<h2 id="helping-to-resolve-existing-issues">Helping to Resolve Existing Issues</h2>

<p>Beyond reporting issues, you can help the core team resolve existing ones by providing feedback about them. If you are new to Rails core development, providing feedback will help you get familiar with the codebase and the processes.</p>

<p>If you check the <a href="https://github.com/rails/rails/issues">issues list</a> in GitHub Issues, you’ll find lots of issues already requiring attention. What can you do about these? Quite a bit, actually:</p>

<h3 id="verifying-bug-reports">Verifying Bug Reports</h3>

<p>For starters, it helps just to verify bug reports. Can you reproduce the reported issue on your computer? If so, you can add a comment to the issue saying that you’re seeing the same thing.</p>

<p>If an issue is very vague, can you help narrow it down to something more specific? Maybe you can provide additional information to reproduce the bug, or maybe you can eliminate unnecessary steps that aren’t required to demonstrate the problem.</p>

<p>If you find a bug report without a test, it’s very useful to contribute a failing test. This is also a great way to explore the source code: looking at the existing test files will teach you how to write more tests. New tests are best contributed in the form of a patch, as explained later on in the <a href="#contributing-to-the-rails-code">Contributing to the Rails Code</a> section.</p>

<p>Anything you can do to make bug reports more succinct or easier to reproduce helps folks trying to write code to fix those bugs - whether you end up writing the code yourself or not.</p>

<h3 id="testing-patches">Testing Patches</h3>

<p>You can also help out by examining pull requests that have been submitted to Ruby on Rails via GitHub. In order to apply someone’s changes, first create a dedicated branch:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout <span class="nt">-b</span> testing_branch
</code></pre></div></div>

<p>Then, you can use their remote branch to update your codebase. For example, let’s say the GitHub user JohnSmith has forked and pushed to a topic branch “orange” located at https://github.com/JohnSmith/rails.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git remote add JohnSmith https://github.com/JohnSmith/rails.git
<span class="nv">$ </span>git pull JohnSmith orange
</code></pre></div></div>

<p>An alternative to adding their remote to your checkout is to use the <a href="https://cli.github.com/">GitHub CLI tool</a> to checkout their pull request.</p>

<p>After applying their branch, test it out! Here are some things to think about:</p>

<ul>
  <li>Does the change actually work?</li>
  <li>Are you happy with the tests? Can you follow what they’re testing? Are there any tests missing?</li>
  <li>Does it have the proper documentation coverage? Should documentation elsewhere be updated?</li>
  <li>Do you like the implementation? Can you think of a nicer or faster way to implement a part of their change?</li>
</ul>

<p>Once you’re happy that the pull request contains a good change, comment on the GitHub issue indicating your findings. Your comment should indicate that you like the change and what you like about it. Something like:</p>

<blockquote>
  <p>I like the way you’ve restructured that code in generate_finder_sql - much nicer. The tests look good too.</p>
</blockquote>

<p>If your comment simply reads “+1”, then odds are that other reviewers aren’t going to take it too seriously. Show that you took the time to review the pull request.</p>

<h2 id="contributing-to-the-rails-documentation">Contributing to the Rails Documentation</h2>

<p>Ruby on Rails has two main sets of documentation: the guides, which help you
learn about Ruby on Rails, and the API, which serves as a reference.</p>

<p>You can help improve the Rails guides or the API reference by making them more coherent, consistent, or readable, adding missing information, correcting factual errors, fixing typos, or bringing them up to date with the latest edge Rails.</p>

<p>To do so, make changes to Rails guides source files (located <a href="https://github.com/rails/rails/tree/main/guides/source">here</a> on GitHub) or RDoc comments in source code. Then open a pull request to apply your changes to the main branch.</p>

<p>Use <code class="language-plaintext highlighter-rouge">[ci skip]</code> in your pull request title to avoid running the CI build for documentation changes.</p>

<p>Once you open a PR, a preview of the documentation will be deployed for easy review and collaboration. At the bottom of the Pull Request page, you should see a list of status checks, look for the <code class="language-plaintext highlighter-rouge">buildkite/docs-preview</code> and click “details”.</p>

<p><img src="images/docs_preview/status_checks.png" alt="GitHub rails/rails Pull Request status checks" /></p>

<p>This will bring you to the Buildkite build page. If the job was successful, there will be an annotation with links to the generated API and Guides above the job list.</p>

<p><img src="images/docs_preview/annotation.png" alt="Buildkite rails/docs-preview annotation API &amp; Guides links" /></p>

<p>When working with documentation, please take into account the <a href="api_documentation_guidelines.html">API Documentation Guidelines</a> and the <a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a>.</p>

<h2 id="translating-rails-guides">Translating Rails Guides</h2>

<p>We are happy to have people volunteer to translate the Rails guides. Just follow these steps:</p>

<ul>
  <li>Fork https://github.com/rails/rails.</li>
  <li>Add a source folder for your language, for example: <em>guides/source/it-IT</em> for Italian.</li>
  <li>Copy the contents of <em>guides/source</em> into your language directory and translate them.</li>
  <li>Do NOT translate the HTML files, as they are automatically generated.</li>
</ul>

<p>Note that translations are not submitted to the Rails repository; your work lives in your fork, as described above. This is because, in practice, documentation maintenance via patches is only sustainable in English.</p>

<p>To generate the guides in HTML format, you will need to install the guides dependencies, <code class="language-plaintext highlighter-rouge">cd</code> into the <em>guides</em> directory, and then run (e.g., for it-IT):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ BUNDLE_ONLY</span><span class="o">=</span>default:doc bundle <span class="nb">install</span>
<span class="nv">$ </span><span class="nb">cd </span>guides/
<span class="nv">$ BUNDLE_ONLY</span><span class="o">=</span>default:doc bundle <span class="nb">exec </span>rake guides:generate:html <span class="nv">GUIDES_LANGUAGE</span><span class="o">=</span>it-IT
</code></pre></div></div>

<p>This will generate the guides in an <em>output</em> directory.</p>

<p>NOTE: The Redcarpet Gem doesn’t work with JRuby.</p>

<h2 id="contributing-to-the-rails-code">Contributing to the Rails Code</h2>

<h3 id="setting-up-a-development-environment">Setting Up a Development Environment</h3>

<p>To move on from submitting bugs to helping resolve existing issues or contributing your own code to Ruby on Rails, you <em>must</em> be able to run its test suite. In this section of the guide, you’ll learn how to set up the tests on your computer.</p>

<h4 id="using-github-codespaces">Using GitHub Codespaces</h4>

<p>If you’re a member of an organization that has codespaces enabled, you can fork Rails into that organization and use codespaces on GitHub. The Codespace will be initialized with all required dependencies and allows you to run all tests.</p>

<h4 id="using-vs-code-remote-containers">Using VS Code Remote Containers</h4>

<p>If you have <a href="https://code.visualstudio.com">Visual Studio Code</a> and <a href="https://www.docker.com">Docker</a> installed, you can use the <a href="https://code.visualstudio.com/docs/remote/containers-tutorial">VS Code remote containers plugin</a>. The plugin will read the <a href="https://github.com/rails/rails/tree/main/.devcontainer"><code class="language-plaintext highlighter-rouge">.devcontainer</code></a> configuration in the repository and build the Docker container locally.</p>

<h4 id="using-dev-container-cli">Using Dev Container CLI</h4>

<p>With <a href="https://github.com/npm/cli">npm</a> and <a href="https://www.docker.com">Docker</a> installed, you can run <a href="https://github.com/devcontainers/cli">Dev Container CLI</a> to utilize the <a href="https://github.com/rails/rails/tree/main/.devcontainer"><code class="language-plaintext highlighter-rouge">.devcontainer</code></a> configuration from the command line.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>npm <span class="nb">install</span> <span class="nt">-g</span> @devcontainers/cli
<span class="nv">$ </span><span class="nb">cd </span>rails
<span class="nv">$ </span>devcontainer up <span class="nt">--workspace-folder</span> <span class="nb">.</span>
<span class="nv">$ </span>devcontainer <span class="nb">exec</span> <span class="nt">--workspace-folder</span> <span class="nb">.</span> bash
</code></pre></div></div>

<h4 id="using-dev-container-with-podman">Using Dev Container with Podman</h4>

<p>You can use the <a href="https://github.com/rails/rails/tree/main/.devcontainer"><code class="language-plaintext highlighter-rouge">.devcontainer</code></a> configuration with <a href="https://podman.io/">Podman</a>. This method does not require any other tools besides Podman.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>podman machine init
<span class="nv">$ </span>podman machine start
<span class="nv">$ </span>tools/devcontainer up
</code></pre></div></div>

<p>Then in a separate terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>tools/devcontainer run-user-commands
<span class="nv">$ </span>tools/devcontainer sh
</code></pre></div></div>

<h4 id="using-rails-dev-box">Using rails-dev-box</h4>

<p>It’s also possible to use the <a href="https://github.com/rails/rails-dev-box">rails-dev-box</a> to get a development environment ready. However, the rails-dev-box uses Vagrant and Virtual Box which will not work on Macs with Apple silicon.</p>

<h4 id="local-development">Local Development</h4>

<p>When you can’t use GitHub Codespaces, see <a href="development_dependencies_install.html">this other guide</a> for how to set up local development. This is considered the hard way because installing dependencies may be OS specific.</p>

<h3 id="clone-the-rails-repository">Clone the Rails Repository</h3>

<p>To be able to contribute code, you need to clone the Rails repository:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git clone https://github.com/rails/rails.git
</code></pre></div></div>

<p>and create a dedicated branch:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>rails
<span class="nv">$ </span>git checkout <span class="nt">-b</span> my_new_branch
</code></pre></div></div>

<p>It doesn’t matter much what name you use because this branch will only exist on your local computer and your personal repository on GitHub. It won’t be part of the Rails Git repository.</p>

<h3 id="bundle-install">Bundle install</h3>

<p>Install the required gems.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bundle <span class="nb">install</span>
</code></pre></div></div>

<h3 id="running-an-application-against-your-local-branch">Running an Application Against Your Local Branch</h3>

<p>In case you need a dummy Rails app to test changes, the <code class="language-plaintext highlighter-rouge">--dev</code> flag of <code class="language-plaintext highlighter-rouge">rails new</code> generates an application that uses your local branch:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>rails
<span class="nv">$ </span>bundle <span class="nb">exec </span>rails new ~/my-test-app <span class="nt">--dev</span>
</code></pre></div></div>

<p>The application generated in <code class="language-plaintext highlighter-rouge">~/my-test-app</code> runs against your local branch
and, in particular, sees any modifications upon server reboot.</p>

<p>For JavaScript packages, you can use <a href="https://yarnpkg.com/cli/link"><code class="language-plaintext highlighter-rouge">yarn link</code></a> to source your local branch in a generated application:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>rails/activestorage
<span class="nv">$ </span>yarn <span class="nb">link</span>
<span class="nv">$ </span><span class="nb">cd</span> ~/my-test-app
<span class="nv">$ </span>yarn <span class="nb">link</span> <span class="s2">"@rails/activestorage"</span>
</code></pre></div></div>

<h3 id="write-your-code">Write Your Code</h3>

<p>Now it’s time to write some code! When making changes for Rails, here are some things to keep in mind:</p>

<ul>
  <li>Follow Rails style and conventions.</li>
  <li>Use Rails idioms and helpers.</li>
  <li>Include tests that fail without your code, and pass with it.</li>
  <li>Update the (surrounding) documentation, examples elsewhere, and the guides: whatever is affected by your contribution.</li>
  <li>If the change adds, removes, or changes a feature, be sure to include a CHANGELOG entry. If your change is a bug fix, a CHANGELOG entry is not necessary.</li>
</ul>

<p>TIP: Changes that are cosmetic and do not add anything substantial to the stability, functionality, or testability of Rails will generally not be accepted (read more about <a href="https://github.com/rails/rails/pull/13771#issuecomment-32746700">our rationale behind this decision</a>).</p>

<h4 id="follow-the-coding-conventions">Follow the Coding Conventions</h4>

<p>Rails follows a simple set of coding style conventions:</p>

<ul>
  <li>Two spaces, no tabs (for indentation).</li>
  <li>No trailing whitespace. Blank lines should not have any spaces.</li>
  <li>Indent and no blank line after private/protected.</li>
  <li>Use Ruby &gt;= 1.9 syntax for hashes. Prefer <code class="language-plaintext highlighter-rouge">{ a: :b }</code> over <code class="language-plaintext highlighter-rouge">{ :a =&gt; :b }</code>.</li>
  <li>Prefer <code class="language-plaintext highlighter-rouge">&amp;&amp;</code>/<code class="language-plaintext highlighter-rouge">||</code> over <code class="language-plaintext highlighter-rouge">and</code>/<code class="language-plaintext highlighter-rouge">or</code>.</li>
  <li>Prefer <code class="language-plaintext highlighter-rouge">class &lt;&lt; self</code> over <code class="language-plaintext highlighter-rouge">self.method</code> for class methods.</li>
  <li>Use <code class="language-plaintext highlighter-rouge">my_method(my_arg)</code> not <code class="language-plaintext highlighter-rouge">my_method( my_arg )</code> or <code class="language-plaintext highlighter-rouge">my_method my_arg</code>.</li>
  <li>Use <code class="language-plaintext highlighter-rouge">a = b</code> and not <code class="language-plaintext highlighter-rouge">a=b</code>.</li>
  <li>Use <code class="language-plaintext highlighter-rouge">assert_not</code> methods instead of <code class="language-plaintext highlighter-rouge">refute</code>.</li>
  <li>Prefer <code class="language-plaintext highlighter-rouge">method { do_stuff }</code> instead of <code class="language-plaintext highlighter-rouge">method{do_stuff}</code> for single-line blocks.</li>
  <li>Follow the conventions in the source you see used already.</li>
</ul>

<p>The above are guidelines - please use your best judgment in using them.</p>

<p>Additionally, we have <a href="https://www.rubocop.org/">RuboCop</a> rules defined to codify some of our coding conventions. You can run RuboCop locally against the file that you have modified before submitting a pull request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bundle <span class="nb">exec </span>rubocop actionpack/lib/action_controller/metal/strong_parameters.rb
Inspecting 1 file
<span class="nb">.</span>

1 file inspected, no offenses detected
</code></pre></div></div>

<h3 id="benchmark-your-code">Benchmark Your Code</h3>

<p>For changes that might have an impact on performance, please benchmark your
code and measure the impact. Please share the benchmark script you used as well
as the results. You should consider including this information in your commit
message to allow future contributors to easily verify your findings and
determine if they are still relevant. (For example, future optimizations in the
Ruby VM might render certain optimizations unnecessary.)</p>

<p>When optimizing for a specific scenario that you care about, it is easy to
regress performance for other common cases.
Therefore, you should test your change against a list of representative
scenarios, ideally extracted from real-world production applications.</p>

<p>You can use the <a href="https://github.com/rails/rails/blob/main/guides/bug_report_templates/benchmark.rb">benchmark template</a>
as a starting point. It includes the boilerplate code to set up a benchmark
using the <a href="https://github.com/evanphx/benchmark-ips">benchmark-ips</a> gem. The
template is designed for testing relatively self-contained changes that can be
inlined into the script.</p>

<h3 id="running-tests">Running Tests</h3>

<p>It is not customary in Rails to run the full test suite before pushing
changes. The railties test suite, in particular, takes a long time, and will take an
especially long time if the source code is mounted in <code class="language-plaintext highlighter-rouge">/vagrant</code> as happens in
the recommended workflow with the <a href="https://github.com/rails/rails-dev-box">rails-dev-box</a>.</p>

<p>As a compromise, test what your code obviously affects, and if the change is
not in railties, run the whole test suite of the affected component. If all
tests are passing, that’s enough to propose your contribution. We have
<a href="https://buildkite.com/rails/rails">Buildkite</a> as a safety net for catching
unexpected breakages elsewhere.</p>

<h4 id="entire-rails">Entire Rails:</h4>

<p>To run all the tests, do:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>rails
<span class="nv">$ </span>bundle <span class="nb">exec </span>rake <span class="nb">test</span>
</code></pre></div></div>

<h4 id="for-a-particular-component">For a Particular Component</h4>

<p>You can run tests only for a particular component (e.g., Action Pack). For example,
to run Action Mailer tests:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>actionmailer
<span class="nv">$ </span>bin/test
</code></pre></div></div>

<h4 id="for-a-specific-directory">For a Specific Directory</h4>

<p>You can run tests only for a specific directory of a particular component
(e.g., models in Active Storage). For example, to run tests in <code class="language-plaintext highlighter-rouge">/activestorage/test/models</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>activestorage
<span class="nv">$ </span>bin/test models
</code></pre></div></div>

<h4 id="for-a-specific-file">For a Specific File</h4>

<p>You can run the tests for a particular file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>actionview
<span class="nv">$ </span>bin/test <span class="nb">test</span>/template/form_helper_test.rb
</code></pre></div></div>

<h4 id="running-a-single-test">Running a Single Test</h4>

<p>You can run a single test by name using the <code class="language-plaintext highlighter-rouge">-n</code> option:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>actionmailer
<span class="nv">$ </span>bin/test <span class="nb">test</span>/mail_layout_test.rb <span class="nt">-n</span> test_explicit_class_layout
</code></pre></div></div>

<h4 id="for-a-specific-line">For a Specific Line</h4>

<p>Figuring out the name is not always easy, but if you know the line number your test starts at, this option is for you:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>railties
<span class="nv">$ </span>bin/test <span class="nb">test</span>/application/asset_debugging_test.rb:69
</code></pre></div></div>

<h4 id="for-a-specific-line-range">For a Specific Line Range</h4>

<p>Similar tests are often defined in nearby locations. You can run tests in a specific line range.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>railties
<span class="nv">$ </span>bin/test <span class="nb">test</span>/application/asset_debugging_test.rb:69-100
</code></pre></div></div>

<h4 id="running-tests-with-a-specific-seed">Running Tests with a Specific Seed</h4>

<p>Test execution is randomized with a randomization seed. If you are experiencing random
test failures, you can more accurately reproduce a failing test scenario by specifically
setting the randomization seed.</p>

<p>Running all tests for a component:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>actionmailer
<span class="nv">$ SEED</span><span class="o">=</span>15002 bin/test
</code></pre></div></div>

<p>Running a single test file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>actionmailer
<span class="nv">$ SEED</span><span class="o">=</span>15002 bin/test <span class="nb">test</span>/mail_layout_test.rb
</code></pre></div></div>

<h4 id="running-tests-in-serial">Running Tests in Serial</h4>

<p>Action Pack and Action View unit tests run in parallel by default. If you are experiencing random
test failures, you can set the randomization seed and let these unit tests run in serial by setting <code class="language-plaintext highlighter-rouge">PARALLEL_WORKERS=1</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>actionview
<span class="nv">$ PARALLEL_WORKERS</span><span class="o">=</span>1 <span class="nv">SEED</span><span class="o">=</span>53708 bin/test <span class="nb">test</span>/template/test_case_test.rb
</code></pre></div></div>

<h4 id="testing-active-record">Testing Active Record</h4>

<p>First, create the databases you’ll need. You can find a list of the required
table names, usernames, and passwords in <code class="language-plaintext highlighter-rouge">activerecord/test/config.example.yml</code>.</p>

<p>For MySQL and PostgreSQL, it is sufficient to run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>activerecord
<span class="nv">$ </span>bundle <span class="nb">exec </span>rake db:mysql:build
</code></pre></div></div>

<p>Or:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>activerecord
<span class="nv">$ </span>bundle <span class="nb">exec </span>rake db:postgresql:build
</code></pre></div></div>

<p>This is not necessary for SQLite3.</p>

<p>This is how you run the Active Record test suite only for SQLite3:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>activerecord
<span class="nv">$ </span>bundle <span class="nb">exec </span>rake <span class="nb">test</span>:sqlite3
</code></pre></div></div>

<p>You can now run the tests as you did for <code class="language-plaintext highlighter-rouge">sqlite3</code>. The tasks are respectively:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bundle <span class="nb">exec </span>rake <span class="nb">test</span>:mysql2
<span class="nv">$ </span>bundle <span class="nb">exec </span>rake <span class="nb">test</span>:trilogy
<span class="nv">$ </span>bundle <span class="nb">exec </span>rake <span class="nb">test</span>:postgresql
</code></pre></div></div>

<p>Finally,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bundle <span class="nb">exec </span>rake <span class="nb">test</span>
</code></pre></div></div>

<p>will now run the three of them in turn.</p>

<p>You can also run any single test separately:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ ARCONN</span><span class="o">=</span>mysql2 bundle <span class="nb">exec </span>ruby <span class="nt">-Itest</span> <span class="nb">test</span>/cases/associations/has_many_associations_test.rb
</code></pre></div></div>

<p>To run a single test against all adapters, use:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bundle <span class="nb">exec </span>rake <span class="nv">TEST</span><span class="o">=</span><span class="nb">test</span>/cases/associations/has_many_associations_test.rb
</code></pre></div></div>

<p>You can invoke <code class="language-plaintext highlighter-rouge">test_jdbcmysql</code>, <code class="language-plaintext highlighter-rouge">test_jdbcsqlite3</code> or <code class="language-plaintext highlighter-rouge">test_jdbcpostgresql</code> also. See the file <code class="language-plaintext highlighter-rouge">activerecord/RUNNING_UNIT_TESTS.rdoc</code> for information on running more targeted database tests.</p>

<h4 id="using-debuggers-with-test">Using Debuggers with Test</h4>

<p>To use an external debugger (pry, byebug, etc), install the debugger and use it as normal.  If debugger issues occur, run tests in serial by setting <code class="language-plaintext highlighter-rouge">PARALLEL_WORKERS=1</code> or run a single test with <code class="language-plaintext highlighter-rouge">-n test_long_test_name</code>.</p>

<p>If running tests against generators, you will need to set <code class="language-plaintext highlighter-rouge">RAILS_LOG_TO_STDOUT=true</code> in order for debugging tools to work.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">RAILS_LOG_TO_STDOUT</span><span class="o">=</span><span class="nb">true</span> ./bin/test <span class="nb">test</span>/generators/actions_test.rb
</code></pre></div></div>

<h3 id="warnings">Warnings</h3>

<p>The test suite runs with warnings enabled. Ideally, Ruby on Rails should issue no warnings, but there may be a few, as well as some from third-party libraries. Please ignore (or fix!) them, if any, and submit patches that do not issue new warnings.</p>

<p>Rails CI will raise if warnings are introduced. To implement the same behavior locally, set <code class="language-plaintext highlighter-rouge">RAILS_STRICT_WARNINGS=1</code> when running the test suite.</p>

<h3 id="updating-the-documentation">Updating the Documentation</h3>

<p>The Ruby on Rails <a href="https://guides.rubyonrails.org/">guides</a> provide a high-level overview of Rails’ features, while the <a href="https://api.rubyonrails.org/">API documentation</a> delves into specifics.</p>

<p>If your PR adds a new feature or changes how an existing feature behaves, check the relevant documentation and update it or add to it as necessary.</p>

<p>For example, if you modify Active Storage’s image analyzer to add a new metadata field, you should update the <a href="active_storage_overview.html#analyzing-files">Analyzing Files</a> section of the Active Storage guide to reflect that.</p>

<h3 id="updating-the-changelog">Updating the CHANGELOG</h3>

<p>The CHANGELOG is an important part of every release. It keeps the list of changes for every Rails version.</p>

<p>You should add an entry <strong>to the top</strong> of the CHANGELOG of the framework you modified if you’re adding or removing a feature, or adding deprecation notices. Refactorings, minor bug fixes, and documentation changes generally should not go to the CHANGELOG.</p>

<p>A CHANGELOG entry should summarize what was changed and should end with the author’s name. You can use multiple lines if you need more space, and you can attach code examples indented with 4 spaces. If a change is related to a specific issue, you should attach the issue’s number. Here is an example CHANGELOG entry:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">*</span>   Summary of a change that briefly describes what was changed. You can use multiple
    lines and wrap them at around 80 characters. Code examples are ok, too, if needed:<span class="sb">

        class Foo
          def bar
            puts 'baz'
          end
        end

    You can continue after the code example, and you can attach the issue number.

    Fixes #1234.

    *Your Name*
</span></code></pre></div></div>

<h3 id="breaking-changes">Breaking Changes</h3>

<p>Anytime a change could break existing applications, it’s considered a breaking
change. To ease upgrading Rails applications, breaking changes require a
deprecation cycle.</p>

<h4 id="removing-behavior">Removing Behavior</h4>

<p>If your breaking change removes existing behavior, you’ll first need to add a
deprecation warning while keeping the existing behavior.</p>

<p>As an example, let’s say you want to remove a public method on
<code class="language-plaintext highlighter-rouge">ActiveRecord::Base</code>. If the main branch points to the unreleased 7.0 version,
Rails 7.0 will need to show a deprecation warning. This makes sure anyone
upgrading to any Rails 7.0 version will see the deprecation warning.
In Rails 7.1 the method can be deleted.</p>

<p>You could add the following deprecation warning:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">deprecated_method</span>
  <span class="no">ActiveRecord</span><span class="p">.</span><span class="nf">deprecator</span><span class="p">.</span><span class="nf">warn</span><span class="p">(</span><span class="o">&lt;&lt;-</span><span class="no">MSG</span><span class="p">.</span><span class="nf">squish</span><span class="p">)</span><span class="sh">
    `ActiveRecord::Base.deprecated_method` is deprecated and will be removed in Rails 7.1.
</span><span class="no">  MSG</span>
  <span class="c1"># Existing behavior</span>
<span class="k">end</span>
</code></pre></div></div>

<h4 id="changing-behavior">Changing Behavior</h4>

<p>If your breaking change changes existing behavior, you’ll need to add a
framework default. Framework defaults ease Rails upgrades by allowing apps
to switch to the new defaults one by one.</p>

<p>To implement a new framework default, first create a configuration by adding an
accessor on the target framework. Set the default value to the existing
behavior to make sure nothing breaks during an upgrade.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">ActiveJob</span>
  <span class="n">mattr_accessor</span> <span class="ss">:existing_behavior</span><span class="p">,</span> <span class="ss">default: </span><span class="kp">true</span>
<span class="k">end</span>
</code></pre></div></div>

<p>The new configuration allows you to conditionally implement the new behavior:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">changed_method</span>
  <span class="k">if</span> <span class="no">ActiveJob</span><span class="p">.</span><span class="nf">existing_behavior</span>
    <span class="c1"># Existing behavior</span>
  <span class="k">else</span>
    <span class="c1"># New behavior</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>To set the new framework default, set the new value in
<code class="language-plaintext highlighter-rouge">Rails::Application::Configuration#load_defaults</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">load_defaults</span><span class="p">(</span><span class="n">target_version</span><span class="p">)</span>
  <span class="k">case</span> <span class="n">target_version</span><span class="p">.</span><span class="nf">to_s</span>
  <span class="k">when</span> <span class="s2">"7.1"</span>
    <span class="c1"># ...</span>
    <span class="k">if</span> <span class="nb">respond_to?</span><span class="p">(</span><span class="ss">:active_job</span><span class="p">)</span>
      <span class="n">active_job</span><span class="p">.</span><span class="nf">existing_behavior</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="k">end</span>
    <span class="c1"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>To ease the upgrade it’s required to add the new default to the
<code class="language-plaintext highlighter-rouge">new_framework_defaults</code> template. Add a commented out section, setting the new
value:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># new_framework_defaults_8_1.rb.tt</span>

<span class="c1"># Rails.application.config.active_job.existing_behavior = false</span>
</code></pre></div></div>

<p>As a last step, add the new configuration to configuration guide in
<code class="language-plaintext highlighter-rouge">configuration.md</code>:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gu">#### `config.active_job.existing_behavior</span>

| Starting with version | The default value is |
| --------------------- | -------------------- |
| (original)            | <span class="sb">`true`</span>               |
| 7.1                   | <span class="sb">`false`</span>              |
</code></pre></div></div>

<h3 id="ignoring-files-created-by-your-editor--ide">Ignoring Files Created by Your Editor / IDE</h3>

<p>Some editors and IDEs will create hidden files or folders inside the <code class="language-plaintext highlighter-rouge">rails</code> folder. Instead of manually excluding those from each commit or adding them to Rails’ <code class="language-plaintext highlighter-rouge">.gitignore</code>, you should add them to your own <a href="https://docs.github.com/en/get-started/getting-started-with-git/ignoring-files#configuring-ignored-files-for-all-repositories-on-your-computer">global gitignore file</a>.</p>

<h3 id="updating-the-gemfilelock">Updating the Gemfile.lock</h3>

<p>Some changes require dependency upgrades. In these cases, make sure you run <code class="language-plaintext highlighter-rouge">bundle update</code> to get the correct version of the dependency and commit the <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> file within your changes.</p>

<h3 id="commit-your-changes">Commit Your Changes</h3>

<p>When you’re happy with the code on your computer, you need to commit the changes to Git:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git commit <span class="nt">-a</span>
</code></pre></div></div>

<p>This should fire up your editor to write a commit message. When you have
finished, save, and close to continue.</p>

<p>A well-formatted and descriptive commit message is very helpful to others for
understanding why the change was made, so please take the time to write it.</p>

<p>A good commit message looks like this:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Short summary (ideally 50 characters or less)

More detailed description, if necessary. Each line should wrap at
72 characters. Try to be as descriptive as you can. Even if you
think that the commit content is obvious, it may not be obvious
to others. Add any description that is already present in the
relevant issues; it should not be necessary to visit a webpage
to check the history.

The description section can have multiple paragraphs.

Code examples can be embedded by indenting them with 4 spaces:<span class="sb">

    class ArticlesController
      def index
        render json: Article.limit(10)
      end
    end

</span>You can also add bullet points:
<span class="p">
-</span> make a bullet point by starting a line with either a dash (-)
  or an asterisk (<span class="err">*</span>)
<span class="p">
-</span> wrap lines at 72 characters, and indent any additional lines
  with 2 spaces for readability
</code></pre></div></div>

<p>TIP. Please squash your commits into a single commit when appropriate. This
simplifies future cherry picks and keeps the git log clean.</p>

<h3 id="update-your-branch">Update Your Branch</h3>

<p>It’s pretty likely that other changes to main have happened while you were working. To get new changes in main:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout main
<span class="nv">$ </span>git pull <span class="nt">--rebase</span>
</code></pre></div></div>

<p>Now reapply your patch on top of the latest changes:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout my_new_branch
<span class="nv">$ </span>git rebase main
</code></pre></div></div>

<p>No conflicts? Tests still pass? Change still seems reasonable to you? Then push the rebased changes to GitHub:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git push <span class="nt">--force-with-lease</span>
</code></pre></div></div>

<p>We disallow force pushing on the rails/rails repository base, but you are able to force push to your fork. When rebasing, this is a requirement since the history has changed.</p>

<h3 id="fork">Fork</h3>

<p>Navigate to the Rails <a href="https://github.com/rails/rails">GitHub repository</a> and press “Fork” in the upper right-hand corner.</p>

<p>Add the new remote to your local repository on your local machine:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git remote add fork https://github.com/&lt;your username&gt;/rails.git
</code></pre></div></div>

<p>You may have cloned your local repository from rails/rails, or you may have cloned from your forked repository. The following git commands assume that you have made a “rails” remote that points to rails/rails.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git remote add rails https://github.com/rails/rails.git
</code></pre></div></div>

<p>Download new commits and branches from the official repository:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git fetch rails
</code></pre></div></div>

<p>Merge the new content:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout main
<span class="nv">$ </span>git rebase rails/main
<span class="nv">$ </span>git checkout my_new_branch
<span class="nv">$ </span>git rebase rails/main
</code></pre></div></div>

<p>Update your fork:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git push fork main
<span class="nv">$ </span>git push fork my_new_branch
</code></pre></div></div>

<h3 id="open-a-pull-request">Open a Pull Request</h3>

<p>Navigate to the Rails repository you just pushed to (e.g.,
https://github.com/your-user-name/rails) and click on “Pull Requests” in the top bar (just above the code).
On the next page, click “New pull request” in the upper right-hand corner.</p>

<p>The pull request should target the base repository <code class="language-plaintext highlighter-rouge">rails/rails</code> and the branch <code class="language-plaintext highlighter-rouge">main</code>.
The head repository will be your work (<code class="language-plaintext highlighter-rouge">your-user-name/rails</code>), and the branch will be
whatever name you gave your branch. Click “create pull request” when you’re ready.</p>

<p>Ensure the changesets you introduced are included. Fill in some details about
your potential patch, using the pull request template provided. When finished, click “Create
pull request”.</p>

<h3 id="get-some-feedback">Get Some Feedback</h3>

<p>Most pull requests will go through a few iterations before they get merged.
Different contributors will sometimes have different opinions, and often
patches will need to be revised before they can get merged.</p>

<p>Some contributors to Rails have email notifications from GitHub turned on, but
others do not. Furthermore, (almost) everyone who works on Rails is a
volunteer, and so it may take a few days for you to get your first feedback on
a pull request. Don’t despair! Sometimes it’s quick; sometimes it’s slow. Such
is the open source life.</p>

<p>If it’s been over a week, and you haven’t heard anything, you might want to try
and nudge things along. You can use the <em>contributions</em> channel in the <a href="https://discord.gg/d8N68BCw49">Ruby on Rails Discord server</a>,
or the <a href="https://discuss.rubyonrails.org/c/rubyonrails-core">rubyonrails-core discussion board</a> for this.
You can also leave another comment on the pull request. It’s best to avoid pinging
individual maintainers directly as we have limited bandwidth and may not
be able to look at your PR.</p>

<p>While you’re waiting for feedback on your pull request, open up a few other
pull requests and give someone else some! They’ll appreciate it in
the same way that you appreciate feedback on your patches.</p>

<p>Note that only the Core and Committers teams are permitted to merge code changes.
If someone gives feedback and “approves” your changes, they may not have the ability
or final say to merge your change.</p>

<h3 id="iterate-as-necessary">Iterate as Necessary</h3>

<p>It’s entirely possible that the feedback you get will suggest changes. Don’t get discouraged: the whole point of contributing to an active open source project is to tap into the community’s knowledge. If people encourage you to tweak your code, then it’s worth making the tweaks and resubmitting. If the feedback is that your code won’t be merged, you might still think about releasing it as a gem.</p>

<h4 id="squashing-commits">Squashing Commits</h4>

<p>One of the things that we may ask you to do is to “squash your commits”, which
will combine all of your commits into a single commit. We prefer pull requests
that are a single commit. This makes it easier to backport changes to stable
branches, squashing makes it easier to revert bad commits, and the git history
can be a bit easier to follow. Rails is a large project, and a bunch of
extraneous commits can add a lot of noise.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git fetch rails
<span class="nv">$ </span>git checkout my_new_branch
<span class="nv">$ </span>git rebase <span class="nt">-i</span> rails/main

&lt; Choose <span class="s1">'squash'</span> <span class="k">for </span>all of your commits except the first one. <span class="o">&gt;</span>
&lt; Edit the commit message to make sense, and describe all your changes. <span class="o">&gt;</span>

<span class="nv">$ </span>git push fork my_new_branch <span class="nt">--force-with-lease</span>
</code></pre></div></div>

<p>You should be able to refresh the pull request on GitHub and see that it has
been updated.</p>

<h4 id="updating-a-pull-request">Updating a Pull Request</h4>

<p>Sometimes you will be asked to make some changes to the code you have
already committed. This can include amending existing commits. In this
case Git will not allow you to push the changes as the pushed branch
and local branch do not match. Instead of opening a new pull request,
you can force push to your branch on GitHub as described earlier in
squashing commits section:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git commit <span class="nt">--amend</span>
<span class="nv">$ </span>git push fork my_new_branch <span class="nt">--force-with-lease</span>
</code></pre></div></div>

<p>This will update the branch and pull request on GitHub with your new code.
By force pushing with <code class="language-plaintext highlighter-rouge">--force-with-lease</code>, git will more safely update
the remote than with a typical <code class="language-plaintext highlighter-rouge">-f</code>, which can delete work from the remote
that you don’t already have.</p>

<h3 id="older-versions-of-ruby-on-rails">Older Versions of Ruby on Rails</h3>

<p>If you want to add a fix to versions of Ruby on Rails older than the next release, you’ll need to set up and switch to your own local tracking branch. Here is an example to switch to the 7-0-stable branch:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git branch <span class="nt">--track</span> 7-0-stable rails/7-0-stable
<span class="nv">$ </span>git checkout 7-0-stable
</code></pre></div></div>

<p>NOTE: Before working on older versions, please check the <a href="maintenance_policy.html">maintenance policy</a>. Changes will not be accepted to versions that have reached end of life.</p>

<h4 id="backporting">Backporting</h4>

<p>Changes that are merged into main are intended for the next major release of Rails. Sometimes, it might be beneficial to propagate your changes back to stable branches for inclusion in maintenance releases. Generally, security fixes and bug fixes are good candidates for a backport, while new features and patches that change expected behavior will not be accepted. When in doubt, it is best to consult a Rails team member before backporting your changes to avoid wasted effort.</p>

<p>First, make sure your main branch is up to date.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout main
<span class="nv">$ </span>git pull <span class="nt">--rebase</span>
</code></pre></div></div>

<p>Check out the branch you’re backporting to, for example, <code class="language-plaintext highlighter-rouge">7-0-stable</code> and make sure it’s up to date:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout 7-0-stable
<span class="nv">$ </span>git reset <span class="nt">--hard</span> origin/7-0-stable
<span class="nv">$ </span>git checkout <span class="nt">-b</span> my-backport-branch
</code></pre></div></div>

<p>If you’re backporting a merged pull request, find the commit for the merge and cherry-pick it:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git cherry-pick <span class="nt">-m1</span> MERGE_SHA
</code></pre></div></div>

<p>Fix any conflicts that occurred in the cherry-pick, push your changes, then open a PR pointing at the stable branch you’re backporting to. If you have a more complex set of changes, the <a href="https://git-scm.com/docs/git-cherry-pick">cherry-pick</a> documentation can help.</p>

<h2 id="rails-contributors">Rails Contributors</h2>

<p>All contributions get credit in <a href="https://contributors.rubyonrails.org">Rails Contributors</a>.</p>

        </div>

        <footer class="guide-footer">
            <div class="feedback">
                <h3>Geri Bildirim</h3>
                <p>Bu kılavuzun kalitesini artırmamıza yardımcı olmak için geri bildirimlerinizi bekliyoruz.</p>
                <p>Lütfen <a href="https://github.com/dilankaya127/rails-tr-TR">GitHub Issues</a> üzerinden katkıda bulunun.</p>
            </div>
        </footer>
    </article>
</div>

<script>
// İçindekiler tablosunu otomatik oluştur
document.addEventListener('DOMContentLoaded', function() {
    const toc = document.getElementById('toc');
    const headings = document.querySelectorAll('.guide-content h2, .guide-content h3, .guide-content h4');
    
    if (headings.length > 0) {
        const tocList = document.createElement('ul');
        
        headings.forEach(function(heading, index) {
            const id = 'heading-' + index;
            heading.id = id;
            
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = '#' + id;
            a.textContent = heading.textContent;
            a.className = 'toc-' + heading.tagName.toLowerCase();
            
            li.appendChild(a);
            tocList.appendChild(li);
        });
        
        toc.appendChild(tocList);
    }
});
</script>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Rails Kılavuzları Türkçe Çevirisi. Gönüllüler tarafından hazırlanmıştır.</p>
            <p>Orijinal dokümantasyon <a href="https://guides.rubyonrails.org">Ruby on Rails</a> ekibine aittir.</p>
        </div>
    </footer>

    <script>hljs.highlightAll();</script>
</body>
</html>