<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4 2 Release Notes - Rails Dokümantasyonu - Türkçe</title>
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">
                    <a href="/">Rails Kılavuzları</a>
                </h1>
                <nav class="nav">
                    <a href="/">Ana Sayfa</a>
                    <a href="https://dilankaya127.github.io">Portföy</a>
                    <a href="https://github.com/dilankaya127/rails-tr-TR">GitHub</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div class="guide-container">
    <aside class="guide-sidebar">
        <div class="guide-toc">
            <h3>İçindekiler</h3>
            <div id="toc"></div>
        </div>
        
        <div class="guide-nav">
            <h3>Diğer Kılavuzlar</h3>
            <ul>
                <li><a href="/rails-tr-TR/guides/tr/getting_started">Rails ile Başlarken</a></li>
                <li><a href="/rails-tr-TR/guides/en/active_record_basics">Active Record Temelleri</a></li>
                <li><a href="/rails-tr-TR/guides//en/action_controller_overview">Action Controller</a></li>
                <li><a href="/rails-tr-TR/guides/tr/action_cable_overview">Action Cable</a></li>
            </ul>
        </div>
    </aside>

    <article class="guide-content">
        <header class="guide-header">
            <h1>4 2 Release Notes</h1>
            
        </header>

        <div class="guide-body">
            <p><strong>DO NOT READ THIS FILE ON GITHUB, GUIDES ARE PUBLISHED ON <a href="https://guides.rubyonrails.org">https://guides.rubyonrails.org</a>.</strong></p>

<h1 id="ruby-on-rails-42-release-notes">Ruby on Rails 4.2 Release Notes</h1>

<p>Highlights in Rails 4.2:</p>

<ul>
  <li>Active Job</li>
  <li>Asynchronous mails</li>
  <li>Adequate Record</li>
  <li>Web Console</li>
  <li>Foreign key support</li>
</ul>

<p>These release notes cover only the major changes. To learn about other
features, bug fixes, and changes, please refer to the changelogs or check out
the <a href="https://github.com/rails/rails/commits/4-2-stable">list of commits</a> in
the main Rails repository on GitHub.</p>

<hr />

<h2 id="upgrading-to-rails-42">Upgrading to Rails 4.2</h2>

<p>If you’re upgrading an existing application, it’s a great idea to have good test
coverage before going in. You should also first upgrade to Rails 4.1 in case you
haven’t and make sure your application still runs as expected before attempting
to upgrade to Rails 4.2. A list of things to watch out for when upgrading is
available in the guide <a href="upgrading_ruby_on_rails.html#upgrading-from-rails-4-1-to-rails-4-2">Upgrading Ruby on
Rails</a>.</p>

<h2 id="major-features">Major Features</h2>

<h3 id="active-job">Active Job</h3>

<p>Active Job is a new framework in Rails 4.2. It is a common interface on top of
queuing systems like <a href="https://github.com/resque/resque">Resque</a>, <a href="https://github.com/collectiveidea/delayed_job">Delayed
Job</a>,
<a href="https://github.com/mperham/sidekiq">Sidekiq</a>, and more.</p>

<p>Jobs written with the Active Job API run on any of the supported queues thanks
to their respective adapters. Active Job comes pre-configured with an inline
runner that executes jobs right away.</p>

<p>Jobs often need to take Active Record objects as arguments. Active Job passes
object references as URIs (uniform resource identifiers) instead of marshalling
the object itself. The new <a href="https://github.com/rails/globalid">Global ID</a>
library builds URIs and looks up the objects they reference. Passing Active
Record objects as job arguments just works by using Global ID internally.</p>

<p>For example, if <code class="language-plaintext highlighter-rouge">trashable</code> is an Active Record object, then this job runs
just fine with no serialization involved:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TrashableCleanupJob</span> <span class="o">&lt;</span> <span class="no">ActiveJob</span><span class="o">::</span><span class="no">Base</span>
  <span class="k">def</span> <span class="nf">perform</span><span class="p">(</span><span class="n">trashable</span><span class="p">,</span> <span class="n">depth</span><span class="p">)</span>
    <span class="n">trashable</span><span class="p">.</span><span class="nf">cleanup</span><span class="p">(</span><span class="n">depth</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>See the <a href="active_job_basics.html">Active Job Basics</a> guide for more
information.</p>

<h3 id="asynchronous-mails">Asynchronous Mails</h3>

<p>Building on top of Active Job, Action Mailer now comes with a <code class="language-plaintext highlighter-rouge">deliver_later</code>
method that sends emails via the queue, so it doesn’t block the controller or
model if the queue is asynchronous (the default inline queue blocks).</p>

<p>Sending emails right away is still possible with <code class="language-plaintext highlighter-rouge">deliver_now</code>.</p>

<h3 id="adequate-record">Adequate Record</h3>

<p>Adequate Record is a set of performance improvements in Active Record that makes
common <code class="language-plaintext highlighter-rouge">find</code> and <code class="language-plaintext highlighter-rouge">find_by</code> calls and some association queries up to 2x faster.</p>

<p>It works by caching common SQL queries as prepared statements and reusing them
on similar calls, skipping most of the query-generation work on subsequent
calls. For more details, please refer to <a href="http://tenderlovemaking.com/2014/02/19/adequaterecord-pro-like-activerecord.html">Aaron Patterson’s blog
post</a>.</p>

<p>Active Record will automatically take advantage of this feature on
supported operations without any user involvement or code changes. Here are
some examples of supported operations:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Post</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># First call generates and cache the prepared statement</span>
<span class="no">Post</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Subsequent calls reuse the cached prepared statement</span>

<span class="no">Post</span><span class="p">.</span><span class="nf">find_by_title</span><span class="p">(</span><span class="s1">'first post'</span><span class="p">)</span>
<span class="no">Post</span><span class="p">.</span><span class="nf">find_by_title</span><span class="p">(</span><span class="s1">'second post'</span><span class="p">)</span>

<span class="no">Post</span><span class="p">.</span><span class="nf">find_by</span><span class="p">(</span><span class="ss">title: </span><span class="s1">'first post'</span><span class="p">)</span>
<span class="no">Post</span><span class="p">.</span><span class="nf">find_by</span><span class="p">(</span><span class="ss">title: </span><span class="s1">'second post'</span><span class="p">)</span>

<span class="n">post</span><span class="p">.</span><span class="nf">comments</span>
<span class="n">post</span><span class="p">.</span><span class="nf">comments</span><span class="p">(</span><span class="kp">true</span><span class="p">)</span>
</code></pre></div></div>

<p>It’s important to highlight that, as the examples above suggest, the prepared
statements do not cache the values passed in the method calls; rather, they
have placeholders for them.</p>

<p>Caching is not used in the following scenarios:</p>

<ul>
  <li>The model has a default scope</li>
  <li>The model uses single table inheritance</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">find</code> with a list of ids, e.g.:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1"># not cached</span>
  <span class="no">Post</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
  <span class="no">Post</span><span class="p">.</span><span class="nf">find</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">find_by</code> with SQL fragments:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="no">Post</span><span class="p">.</span><span class="nf">find_by</span><span class="p">(</span><span class="s1">'published_at &lt; ?'</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="nf">weeks</span><span class="p">.</span><span class="nf">ago</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="web-console">Web Console</h3>

<p>New applications generated with Rails 4.2 now come with the <a href="https://github.com/rails/web-console">Web
Console</a> gem by default. Web Console adds
an interactive Ruby console on every error page and provides a <code class="language-plaintext highlighter-rouge">console</code> view
and controller helpers.</p>

<p>The interactive console on error pages lets you execute code in the context of
the place where the exception originated. The <code class="language-plaintext highlighter-rouge">console</code> helper, if called
anywhere in a view or controller, launches an interactive console with the final
context, once rendering has completed.</p>

<h3 id="foreign-key-support">Foreign Key Support</h3>

<p>The migration DSL now supports adding and removing foreign keys. They are dumped
to <code class="language-plaintext highlighter-rouge">schema.rb</code> as well. At this time, only the <code class="language-plaintext highlighter-rouge">mysql</code>, <code class="language-plaintext highlighter-rouge">mysql2</code> and <code class="language-plaintext highlighter-rouge">postgresql</code>
adapters support foreign keys.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># add a foreign key to `articles.author_id` referencing `authors.id`</span>
<span class="n">add_foreign_key</span> <span class="ss">:articles</span><span class="p">,</span> <span class="ss">:authors</span>

<span class="c1"># add a foreign key to `articles.author_id` referencing `users.lng_id`</span>
<span class="n">add_foreign_key</span> <span class="ss">:articles</span><span class="p">,</span> <span class="ss">:users</span><span class="p">,</span> <span class="ss">column: :author_id</span><span class="p">,</span> <span class="ss">primary_key: </span><span class="s2">"lng_id"</span>

<span class="c1"># remove the foreign key on `accounts.branch_id`</span>
<span class="n">remove_foreign_key</span> <span class="ss">:accounts</span><span class="p">,</span> <span class="ss">:branches</span>

<span class="c1"># remove the foreign key on `accounts.owner_id`</span>
<span class="n">remove_foreign_key</span> <span class="ss">:accounts</span><span class="p">,</span> <span class="ss">column: :owner_id</span>
</code></pre></div></div>

<p>See the API documentation on
<a href="https://api.rubyonrails.org/v4.2.0/classes/ActiveRecord/ConnectionAdapters/SchemaStatements.html#method-i-add_foreign_key">add_foreign_key</a>
and
<a href="https://api.rubyonrails.org/v4.2.0/classes/ActiveRecord/ConnectionAdapters/SchemaStatements.html#method-i-remove_foreign_key">remove_foreign_key</a>
for a full description.</p>

<h2 id="incompatibilities">Incompatibilities</h2>

<p>Previously deprecated functionality has been removed. Please refer to the
individual components for new deprecations in this release.</p>

<p>The following changes may require immediate action upon upgrade.</p>

<h3 id="render-with-a-string-argument"><code class="language-plaintext highlighter-rouge">render</code> with a String Argument</h3>

<p>Previously, calling <code class="language-plaintext highlighter-rouge">render "foo/bar"</code> in a controller action was equivalent to
<code class="language-plaintext highlighter-rouge">render file: "foo/bar"</code>. In Rails 4.2, this has been changed to mean
<code class="language-plaintext highlighter-rouge">render template: "foo/bar"</code> instead. If you need to render a file, please
change your code to use the explicit form (<code class="language-plaintext highlighter-rouge">render file: "foo/bar"</code>) instead.</p>

<h3 id="respond_with--class-level-respond_to"><code class="language-plaintext highlighter-rouge">respond_with</code> / Class-Level <code class="language-plaintext highlighter-rouge">respond_to</code></h3>

<p><code class="language-plaintext highlighter-rouge">respond_with</code> and the corresponding class-level <code class="language-plaintext highlighter-rouge">respond_to</code> have been moved
to the <a href="https://github.com/plataformatec/responders">responders</a> gem. Add
<code class="language-plaintext highlighter-rouge">gem "responders", "~&gt; 2.0"</code> to your <code class="language-plaintext highlighter-rouge">Gemfile</code> to use it:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># app/controllers/users_controller.rb</span>

<span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="n">respond_to</span> <span class="ss">:html</span><span class="p">,</span> <span class="ss">:json</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="n">respond_with</span> <span class="vi">@user</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Instance-level <code class="language-plaintext highlighter-rouge">respond_to</code> is unaffected:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># app/controllers/users_controller.rb</span>

<span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
      <span class="nb">format</span><span class="p">.</span><span class="nf">html</span>
      <span class="nb">format</span><span class="p">.</span><span class="nf">json</span> <span class="p">{</span> <span class="n">render</span> <span class="ss">json: </span><span class="vi">@user</span> <span class="p">}</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="default-host-for-rails-server">Default Host for <code class="language-plaintext highlighter-rouge">rails server</code></h3>

<p>Due to a <a href="https://github.com/rack/rack/commit/28b014484a8ac0bbb388e7eaeeef159598ec64fc">change in Rack</a>,
<code class="language-plaintext highlighter-rouge">rails server</code> now listens on <code class="language-plaintext highlighter-rouge">localhost</code> instead of <code class="language-plaintext highlighter-rouge">0.0.0.0</code> by default. This
should have minimal impact on the standard development workflow as both
http://127.0.0.1:3000 and http://localhost:3000 will continue to work as before
on your own machine.</p>

<p>However, with this change you will no longer be able to access the Rails
server from a different machine, for example if your development environment
is in a virtual machine and you would like to access it from the host machine.
In such cases, please start the server with <code class="language-plaintext highlighter-rouge">rails server -b 0.0.0.0</code> to
restore the old behavior.</p>

<p>If you do this, be sure to configure your firewall properly such that only
trusted machines on your network can access your development server.</p>

<h3 id="changed-status-option-symbols-for-render">Changed status option symbols for <code class="language-plaintext highlighter-rouge">render</code></h3>

<p>Due to a <a href="https://github.com/rack/rack/commit/be28c6a2ac152fe4adfbef71f3db9f4200df89e8">change in Rack</a>, the symbols that the <code class="language-plaintext highlighter-rouge">render</code> method accepts for the <code class="language-plaintext highlighter-rouge">:status</code> option have changed:</p>

<ul>
  <li>306: <code class="language-plaintext highlighter-rouge">:reserved</code> has been removed.</li>
  <li>413: <code class="language-plaintext highlighter-rouge">:request_entity_too_large</code> has been renamed to <code class="language-plaintext highlighter-rouge">:payload_too_large</code>.</li>
  <li>414: <code class="language-plaintext highlighter-rouge">:request_uri_too_long</code> has been renamed to <code class="language-plaintext highlighter-rouge">:uri_too_long</code>.</li>
  <li>416: <code class="language-plaintext highlighter-rouge">:requested_range_not_satisfiable</code> has been renamed to <code class="language-plaintext highlighter-rouge">:range_not_satisfiable</code>.</li>
</ul>

<p>Keep in mind that if calling <code class="language-plaintext highlighter-rouge">render</code> with an unknown symbol, the response status will default to 500.</p>

<h3 id="html-sanitizer">HTML Sanitizer</h3>

<p>The HTML sanitizer has been replaced with a new, more robust, implementation
built upon <a href="https://github.com/flavorjones/loofah">Loofah</a> and
<a href="https://github.com/sparklemotion/nokogiri">Nokogiri</a>. The new sanitizer is
more secure and its sanitization is more powerful and flexible.</p>

<p>Due to the new algorithm, the sanitized output may be different for certain
pathological inputs.</p>

<p>If you have a particular need for the exact output of the old sanitizer, you
can add the <a href="https://github.com/kaspth/rails-deprecated_sanitizer">rails-deprecated_sanitizer</a>
gem to the <code class="language-plaintext highlighter-rouge">Gemfile</code>, to have the old behavior. The gem does not issue
deprecation warnings because it is opt-in.</p>

<p><code class="language-plaintext highlighter-rouge">rails-deprecated_sanitizer</code> will be supported for Rails 4.2 only; it will not
be maintained for Rails 5.0.</p>

<p>See <a href="https://blog.plataformatec.com.br/2014/07/the-new-html-sanitizer-in-rails-4-2/">this blog post</a>
for more details on the changes in the new sanitizer.</p>

<h3 id="assert_select"><code class="language-plaintext highlighter-rouge">assert_select</code></h3>

<p><code class="language-plaintext highlighter-rouge">assert_select</code> is now based on <a href="https://github.com/sparklemotion/nokogiri">Nokogiri</a>.
As a result, some previously-valid selectors are now unsupported. If your
application is using any of these spellings, you will need to update them:</p>

<ul>
  <li>
    <p>Values in attribute selectors may need to be quoted if they contain
non-alphanumeric characters.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># before</span>
<span class="n">a</span><span class="p">[</span><span class="n">href</span><span class="o">=</span><span class="sr">/]
a[href$=/</span><span class="p">]</span>

<span class="c1"># now</span>
<span class="n">a</span><span class="p">[</span><span class="n">href</span><span class="o">=</span><span class="s2">"/"</span><span class="p">]</span>
<span class="n">a</span><span class="p">[</span><span class="n">href</span><span class="vg">$=</span><span class="s2">"/"</span><span class="p">]</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>DOMs built from HTML source containing invalid HTML with improperly
nested elements may differ.</p>

    <p>For example:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># content: &lt;div&gt;&lt;i&gt;&lt;p&gt;&lt;/i&gt;&lt;/div&gt;</span>

<span class="c1"># before:</span>
<span class="n">assert_select</span><span class="p">(</span><span class="s1">'div &gt; i'</span><span class="p">)</span>  <span class="c1"># =&gt; true</span>
<span class="n">assert_select</span><span class="p">(</span><span class="s1">'div &gt; p'</span><span class="p">)</span>  <span class="c1"># =&gt; false</span>
<span class="n">assert_select</span><span class="p">(</span><span class="s1">'i &gt; p'</span><span class="p">)</span>    <span class="c1"># =&gt; true</span>

<span class="c1"># now:</span>
<span class="n">assert_select</span><span class="p">(</span><span class="s1">'div &gt; i'</span><span class="p">)</span>  <span class="c1"># =&gt; true</span>
<span class="n">assert_select</span><span class="p">(</span><span class="s1">'div &gt; p'</span><span class="p">)</span>  <span class="c1"># =&gt; true</span>
<span class="n">assert_select</span><span class="p">(</span><span class="s1">'i &gt; p'</span><span class="p">)</span>    <span class="c1"># =&gt; false</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>If the data selected contains entities, the value selected for comparison
used to be raw (e.g. <code class="language-plaintext highlighter-rouge">AT&amp;amp;T</code>), and now is evaluated
(e.g. <code class="language-plaintext highlighter-rouge">AT&amp;T</code>).</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># content: &lt;p&gt;AT&amp;amp;T&lt;/p&gt;</span>

<span class="c1"># before:</span>
<span class="n">assert_select</span><span class="p">(</span><span class="s1">'p'</span><span class="p">,</span> <span class="s1">'AT&amp;amp;T'</span><span class="p">)</span>  <span class="c1"># =&gt; true</span>
<span class="n">assert_select</span><span class="p">(</span><span class="s1">'p'</span><span class="p">,</span> <span class="s1">'AT&amp;T'</span><span class="p">)</span>      <span class="c1"># =&gt; false</span>

<span class="c1"># now:</span>
<span class="n">assert_select</span><span class="p">(</span><span class="s1">'p'</span><span class="p">,</span> <span class="s1">'AT&amp;T'</span><span class="p">)</span>      <span class="c1"># =&gt; true</span>
<span class="n">assert_select</span><span class="p">(</span><span class="s1">'p'</span><span class="p">,</span> <span class="s1">'AT&amp;amp;T'</span><span class="p">)</span>  <span class="c1"># =&gt; false</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>Furthermore substitutions have changed syntax.</p>

<p>Now you have to use a <code class="language-plaintext highlighter-rouge">:match</code> CSS-like selector:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">assert_select</span> <span class="s2">":match('id', ?)"</span><span class="p">,</span> <span class="s1">'comment_1'</span>
</code></pre></div></div>

<p>Additionally Regexp substitutions look different when the assertion fails.
Notice how <code class="language-plaintext highlighter-rouge">/hello/</code> here:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">assert_select</span><span class="p">(</span><span class="s2">":match('id', ?)"</span><span class="p">,</span> <span class="sr">/hello/</span><span class="p">)</span>
</code></pre></div></div>

<p>becomes <code class="language-plaintext highlighter-rouge">"(?-mix:hello)"</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Expected at least 1 element matching "div:match('id', "(?-mix:hello)")", found 0..
Expected 0 to be &gt;= 1.
</code></pre></div></div>

<p>See the <a href="https://github.com/rails/rails-dom-testing/tree/8798b9349fb9540ad8cb9a0ce6cb88d1384a210b">Rails Dom Testing</a> documentation for more on <code class="language-plaintext highlighter-rouge">assert_select</code>.</p>

<h2 id="railties">Railties</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/4-2-stable/railties/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals">Removals</h3>

<ul>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">--skip-action-view</code> option has been removed from the
app generator. (<a href="https://github.com/rails/rails/pull/17042">Pull Request</a>)</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">rails application</code> command has been removed without replacement.
(<a href="https://github.com/rails/rails/pull/11616">Pull Request</a>)</p>
  </li>
</ul>

<h3 id="deprecations">Deprecations</h3>

<ul>
  <li>
    <p>Deprecated missing <code class="language-plaintext highlighter-rouge">config.log_level</code> for production environments.
(<a href="https://github.com/rails/rails/pull/16622">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">rake test:all</code> in favor of <code class="language-plaintext highlighter-rouge">rake test</code> as it now run all tests
in the <code class="language-plaintext highlighter-rouge">test</code> folder.
(<a href="https://github.com/rails/rails/pull/17348">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">rake test:all:db</code> in favor of <code class="language-plaintext highlighter-rouge">rake test:db</code>.
(<a href="https://github.com/rails/rails/pull/17348">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">Rails::Rack::LogTailer</code> without replacement.
(<a href="https://github.com/rails/rails/commit/84a13e019e93efaa8994b3f8303d635a7702dbce">Commit</a>)</p>
  </li>
</ul>

<h3 id="notable-changes">Notable changes</h3>

<ul>
  <li>
    <p>Introduced <code class="language-plaintext highlighter-rouge">web-console</code> in the default application <code class="language-plaintext highlighter-rouge">Gemfile</code>.
(<a href="https://github.com/rails/rails/pull/11667">Pull Request</a>)</p>
  </li>
  <li>
    <p>Added a <code class="language-plaintext highlighter-rouge">required</code> option to the model generator for associations.
(<a href="https://github.com/rails/rails/pull/16062">Pull Request</a>)</p>
  </li>
  <li>
    <p>Introduced the <code class="language-plaintext highlighter-rouge">x</code> namespace for defining custom configuration options:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># config/environments/production.rb</span>
<span class="n">config</span><span class="p">.</span><span class="nf">x</span><span class="p">.</span><span class="nf">payment_processing</span><span class="p">.</span><span class="nf">schedule</span> <span class="o">=</span> <span class="ss">:daily</span>
<span class="n">config</span><span class="p">.</span><span class="nf">x</span><span class="p">.</span><span class="nf">payment_processing</span><span class="p">.</span><span class="nf">retries</span>  <span class="o">=</span> <span class="mi">3</span>
<span class="n">config</span><span class="p">.</span><span class="nf">x</span><span class="p">.</span><span class="nf">super_debugger</span>              <span class="o">=</span> <span class="kp">true</span>
</code></pre></div>    </div>

    <p>These options are then available through the configuration object:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Rails</span><span class="p">.</span><span class="nf">configuration</span><span class="p">.</span><span class="nf">x</span><span class="p">.</span><span class="nf">payment_processing</span><span class="p">.</span><span class="nf">schedule</span> <span class="c1"># =&gt; :daily</span>
<span class="no">Rails</span><span class="p">.</span><span class="nf">configuration</span><span class="p">.</span><span class="nf">x</span><span class="p">.</span><span class="nf">payment_processing</span><span class="p">.</span><span class="nf">retries</span>  <span class="c1"># =&gt; 3</span>
<span class="no">Rails</span><span class="p">.</span><span class="nf">configuration</span><span class="p">.</span><span class="nf">x</span><span class="p">.</span><span class="nf">super_debugger</span>              <span class="c1"># =&gt; true</span>
</code></pre></div>    </div>

    <p>(<a href="https://github.com/rails/rails/commit/611849772dd66c2e4d005dcfe153f7ce79a8a7db">Commit</a>)</p>
  </li>
  <li>
    <p>Introduced <code class="language-plaintext highlighter-rouge">Rails::Application.config_for</code> to load a configuration for the
current environment.</p>

    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># config/exception_notification.yml</span>
<span class="na">production</span><span class="pi">:</span>
  <span class="na">url</span><span class="pi">:</span> <span class="s">http://127.0.0.1:8080</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">my_app_production</span>
<span class="na">development</span><span class="pi">:</span>
  <span class="na">url</span><span class="pi">:</span> <span class="s">http://localhost:3001</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">my_app_development</span>
</code></pre></div>    </div>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># config/environments/production.rb</span>
<span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">configure</span> <span class="k">do</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">middleware</span><span class="p">.</span><span class="nf">use</span> <span class="no">ExceptionNotifier</span><span class="p">,</span> <span class="n">config_for</span><span class="p">(</span><span class="ss">:exception_notification</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>    </div>

    <p>(<a href="https://github.com/rails/rails/pull/16129">Pull Request</a>)</p>
  </li>
  <li>
    <p>Introduced a <code class="language-plaintext highlighter-rouge">--skip-turbolinks</code> option in the app generator to not generate
turbolinks integration.
(<a href="https://github.com/rails/rails/commit/bf17c8a531bc8059d50ad731398002a3e7162a7d">Commit</a>)</p>
  </li>
  <li>
    <p>Introduced a <code class="language-plaintext highlighter-rouge">bin/setup</code> script as a convention for automated setup code when
bootstrapping an application.
(<a href="https://github.com/rails/rails/pull/15189">Pull Request</a>)</p>
  </li>
  <li>
    <p>Changed the default value for <code class="language-plaintext highlighter-rouge">config.assets.digest</code> to <code class="language-plaintext highlighter-rouge">true</code> in development.
(<a href="https://github.com/rails/rails/pull/15155">Pull Request</a>)</p>
  </li>
  <li>
    <p>Introduced an API to register new extensions for <code class="language-plaintext highlighter-rouge">rake notes</code>.
(<a href="https://github.com/rails/rails/pull/14379">Pull Request</a>)</p>
  </li>
  <li>
    <p>Introduced an <code class="language-plaintext highlighter-rouge">after_bundle</code> callback for use in Rails templates.
(<a href="https://github.com/rails/rails/pull/16359">Pull Request</a>)</p>
  </li>
  <li>
    <p>Introduced <code class="language-plaintext highlighter-rouge">Rails.gem_version</code> as a convenience method to return
<code class="language-plaintext highlighter-rouge">Gem::Version.new(Rails.version)</code>.
(<a href="https://github.com/rails/rails/pull/14101">Pull Request</a>)</p>
  </li>
</ul>

<h2 id="action-pack">Action Pack</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/4-2-stable/actionpack/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-1">Removals</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">respond_with</code> and the class-level <code class="language-plaintext highlighter-rouge">respond_to</code> have been removed from Rails and
moved to the <code class="language-plaintext highlighter-rouge">responders</code> gem (version 2.0). Add <code class="language-plaintext highlighter-rouge">gem "responders", "~&gt; 2.0"</code>
to your <code class="language-plaintext highlighter-rouge">Gemfile</code> to continue using these features.
(<a href="https://github.com/rails/rails/pull/16526">Pull Request</a>,
 <a href="https://guides.rubyonrails.org/v4.2/upgrading_ruby_on_rails.html#responders">More Details</a>)</p>
  </li>
  <li>
    <p>Removed deprecated <code class="language-plaintext highlighter-rouge">AbstractController::Helpers::ClassMethods::MissingHelperError</code>
in favor of <code class="language-plaintext highlighter-rouge">AbstractController::Helpers::MissingHelperError</code>.
(<a href="https://github.com/rails/rails/commit/a1ddde15ae0d612ff2973de9cf768ed701b594e8">Commit</a>)</p>
  </li>
</ul>

<h3 id="deprecations-1">Deprecations</h3>

<ul>
  <li>
    <p>Deprecated the <code class="language-plaintext highlighter-rouge">only_path</code> option on <code class="language-plaintext highlighter-rouge">*_path</code> helpers.
(<a href="https://github.com/rails/rails/commit/aa1fadd48fb40dd9396a383696134a259aa59db9">Commit</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">assert_tag</code>, <code class="language-plaintext highlighter-rouge">assert_no_tag</code>, <code class="language-plaintext highlighter-rouge">find_tag</code> and <code class="language-plaintext highlighter-rouge">find_all_tag</code> in
favor of <code class="language-plaintext highlighter-rouge">assert_select</code>.
(<a href="https://github.com/rails/rails-dom-testing/commit/b12850bc5ff23ba4b599bf2770874dd4f11bf750">Commit</a>)</p>
  </li>
  <li>
    <p>Deprecated support for setting the <code class="language-plaintext highlighter-rouge">:to</code> option of a router to a symbol or a
string that does not contain a “#” character:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">get</span> <span class="s1">'/posts'</span><span class="p">,</span> <span class="ss">to: </span><span class="no">MyRackApp</span>    <span class="o">=&gt;</span> <span class="p">(</span><span class="no">No</span> <span class="n">change</span> <span class="n">necessary</span><span class="p">)</span>
<span class="n">get</span> <span class="s1">'/posts'</span><span class="p">,</span> <span class="ss">to: </span><span class="s1">'post#index'</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="no">No</span> <span class="n">change</span> <span class="n">necessary</span><span class="p">)</span>
<span class="n">get</span> <span class="s1">'/posts'</span><span class="p">,</span> <span class="ss">to: </span><span class="s1">'posts'</span>      <span class="o">=&gt;</span> <span class="n">get</span> <span class="s1">'/posts'</span><span class="p">,</span> <span class="ss">controller: :posts</span>
<span class="n">get</span> <span class="s1">'/posts'</span><span class="p">,</span> <span class="ss">to: :index</span>       <span class="o">=&gt;</span> <span class="n">get</span> <span class="s1">'/posts'</span><span class="p">,</span> <span class="ss">action: :index</span>
</code></pre></div>    </div>

    <p>(<a href="https://github.com/rails/rails/commit/cc26b6b7bccf0eea2e2c1a9ebdcc9d30ca7390d9">Commit</a>)</p>
  </li>
  <li>
    <p>Deprecated support for string keys in URL helpers:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># bad</span>
<span class="n">root_path</span><span class="p">(</span><span class="s1">'controller'</span> <span class="o">=&gt;</span> <span class="s1">'posts'</span><span class="p">,</span> <span class="s1">'action'</span> <span class="o">=&gt;</span> <span class="s1">'index'</span><span class="p">)</span>

<span class="c1"># good</span>
<span class="n">root_path</span><span class="p">(</span><span class="ss">controller: </span><span class="s1">'posts'</span><span class="p">,</span> <span class="ss">action: </span><span class="s1">'index'</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>(<a href="https://github.com/rails/rails/pull/17743">Pull Request</a>)</p>
  </li>
</ul>

<h3 id="notable-changes-1">Notable changes</h3>

<ul>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">*_filter</code> family of methods have been removed from the documentation. Their
usage is discouraged in favor of the <code class="language-plaintext highlighter-rouge">*_action</code> family of methods:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>after_filter          =&gt; after_action
append_after_filter   =&gt; append_after_action
append_around_filter  =&gt; append_around_action
append_before_filter  =&gt; append_before_action
around_filter         =&gt; around_action
before_filter         =&gt; before_action
prepend_after_filter  =&gt; prepend_after_action
prepend_around_filter =&gt; prepend_around_action
prepend_before_filter =&gt; prepend_before_action
skip_after_filter     =&gt; skip_after_action
skip_around_filter    =&gt; skip_around_action
skip_before_filter    =&gt; skip_before_action
skip_filter           =&gt; skip_action_callback
</code></pre></div>    </div>

    <p>If your application currently depends on these methods, you should use the
replacement <code class="language-plaintext highlighter-rouge">*_action</code> methods instead. These methods will be deprecated in
the future and will eventually be removed from Rails.</p>

    <p>(Commit <a href="https://github.com/rails/rails/commit/6c5f43bab8206747a8591435b2aa0ff7051ad3de">1</a>,
<a href="https://github.com/rails/rails/commit/489a8f2a44dc9cea09154ee1ee2557d1f037c7d4">2</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">render nothing: true</code> or rendering a <code class="language-plaintext highlighter-rouge">nil</code> body no longer add a single
space padding to the response body.
(<a href="https://github.com/rails/rails/pull/14883">Pull Request</a>)</p>
  </li>
  <li>
    <p>Rails now automatically includes the template’s digest in ETags.
(<a href="https://github.com/rails/rails/pull/16527">Pull Request</a>)</p>
  </li>
  <li>
    <p>Segments that are passed into URL helpers are now automatically escaped.
(<a href="https://github.com/rails/rails/commit/5460591f0226a9d248b7b4f89186bd5553e7768f">Commit</a>)</p>
  </li>
  <li>
    <p>Introduced the <code class="language-plaintext highlighter-rouge">always_permitted_parameters</code> option to configure which
parameters are permitted globally. The default value of this configuration
is <code class="language-plaintext highlighter-rouge">['controller', 'action']</code>.
(<a href="https://github.com/rails/rails/pull/15933">Pull Request</a>)</p>
  </li>
  <li>
    <p>Added the HTTP method <code class="language-plaintext highlighter-rouge">MKCALENDAR</code> from <a href="https://tools.ietf.org/html/rfc4791">RFC 4791</a>.
(<a href="https://github.com/rails/rails/pull/15121">Pull Request</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">*_fragment.action_controller</code> notifications now include the controller
and action name in the payload.
(<a href="https://github.com/rails/rails/pull/14137">Pull Request</a>)</p>
  </li>
  <li>
    <p>Improved the Routing Error page with fuzzy matching for route search.
(<a href="https://github.com/rails/rails/pull/14619">Pull Request</a>)</p>
  </li>
  <li>
    <p>Added an option to disable logging of CSRF failures.
(<a href="https://github.com/rails/rails/pull/14280">Pull Request</a>)</p>
  </li>
  <li>
    <p>When the Rails server is set to serve static assets, gzip assets will now be
served if the client supports it and a pre-generated gzip file (<code class="language-plaintext highlighter-rouge">.gz</code>) is on disk.
By default the asset pipeline generates <code class="language-plaintext highlighter-rouge">.gz</code> files for all compressible assets.
Serving gzip files minimizes data transfer and speeds up asset requests. Always
<a href="https://guides.rubyonrails.org/v4.2/asset_pipeline.html#cdns">use a CDN</a> if you are
serving assets from your Rails server in production.
(<a href="https://github.com/rails/rails/pull/16466">Pull Request</a>)</p>
  </li>
  <li>
    <p>When calling the <code class="language-plaintext highlighter-rouge">process</code> helpers in an integration test the path needs to have
a leading slash. Previously you could omit it but that was a byproduct of the
implementation and not an intentional feature, e.g.:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">test</span> <span class="s2">"list all posts"</span> <span class="k">do</span>
  <span class="n">get</span> <span class="s2">"/posts"</span>
  <span class="n">assert_response</span> <span class="ss">:success</span>
<span class="k">end</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="action-view">Action View</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/4-2-stable/actionview/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="deprecations-2">Deprecations</h3>

<ul>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">AbstractController::Base.parent_prefixes</code>.
Override <code class="language-plaintext highlighter-rouge">AbstractController::Base.local_prefixes</code> when you want to change
where to find views.
(<a href="https://github.com/rails/rails/pull/15026">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">ActionView::Digestor#digest(name, format, finder, options = {})</code>.
Arguments should be passed as a hash instead.
(<a href="https://github.com/rails/rails/pull/14243">Pull Request</a>)</p>
  </li>
</ul>

<h3 id="notable-changes-2">Notable changes</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">render "foo/bar"</code> now expands to <code class="language-plaintext highlighter-rouge">render template: "foo/bar"</code> instead of
<code class="language-plaintext highlighter-rouge">render file: "foo/bar"</code>.
(<a href="https://github.com/rails/rails/pull/16888">Pull Request</a>)</p>
  </li>
  <li>
    <p>The form helpers no longer generate a <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> element with inline CSS around
the hidden fields.
(<a href="https://github.com/rails/rails/pull/14738">Pull Request</a>)</p>
  </li>
  <li>
    <p>Introduced a <code class="language-plaintext highlighter-rouge">#{partial_name}_iteration</code> special local variable for use with
partials that are rendered with a collection. It provides access to the
current state of the iteration via the <code class="language-plaintext highlighter-rouge">index</code>, <code class="language-plaintext highlighter-rouge">size</code>, <code class="language-plaintext highlighter-rouge">first?</code> and
<code class="language-plaintext highlighter-rouge">last?</code> methods.
(<a href="https://github.com/rails/rails/pull/7698">Pull Request</a>)</p>
  </li>
  <li>
    <p>Placeholder I18n follows the same convention as <code class="language-plaintext highlighter-rouge">label</code> I18n.
(<a href="https://github.com/rails/rails/pull/16438">Pull Request</a>)</p>
  </li>
</ul>

<h2 id="action-mailer">Action Mailer</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/4-2-stable/actionmailer/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="deprecations-3">Deprecations</h3>

<ul>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">*_path</code> helpers in mailers. Always use <code class="language-plaintext highlighter-rouge">*_url</code> helpers instead.
(<a href="https://github.com/rails/rails/pull/15840">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">deliver</code> / <code class="language-plaintext highlighter-rouge">deliver!</code> in favor of <code class="language-plaintext highlighter-rouge">deliver_now</code> / <code class="language-plaintext highlighter-rouge">deliver_now!</code>.
(<a href="https://github.com/rails/rails/pull/16582">Pull Request</a>)</p>
  </li>
</ul>

<h3 id="notable-changes-3">Notable changes</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">link_to</code> and <code class="language-plaintext highlighter-rouge">url_for</code> generate absolute URLs by default in templates,
it is no longer needed to pass <code class="language-plaintext highlighter-rouge">only_path: false</code>.
(<a href="https://github.com/rails/rails/commit/9685080a7677abfa5d288a81c3e078368c6bb67c">Commit</a>)</p>
  </li>
  <li>
    <p>Introduced <code class="language-plaintext highlighter-rouge">deliver_later</code> which enqueues a job on the application’s queue
to deliver emails asynchronously.
(<a href="https://github.com/rails/rails/pull/16485">Pull Request</a>)</p>
  </li>
  <li>
    <p>Added the <code class="language-plaintext highlighter-rouge">show_previews</code> configuration option for enabling mailer previews
outside of the development environment.
(<a href="https://github.com/rails/rails/pull/15970">Pull Request</a>)</p>
  </li>
</ul>

<h2 id="active-record">Active Record</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/4-2-stable/activerecord/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-2">Removals</h3>

<ul>
  <li>
    <p>Removed <code class="language-plaintext highlighter-rouge">cache_attributes</code> and friends. All attributes are cached.
(<a href="https://github.com/rails/rails/pull/15429">Pull Request</a>)</p>
  </li>
  <li>
    <p>Removed deprecated method <code class="language-plaintext highlighter-rouge">ActiveRecord::Base.quoted_locking_column</code>.
(<a href="https://github.com/rails/rails/pull/15612">Pull Request</a>)</p>
  </li>
  <li>
    <p>Removed deprecated <code class="language-plaintext highlighter-rouge">ActiveRecord::Migrator.proper_table_name</code>. Use the
<code class="language-plaintext highlighter-rouge">proper_table_name</code> instance method on <code class="language-plaintext highlighter-rouge">ActiveRecord::Migration</code> instead.
(<a href="https://github.com/rails/rails/pull/15512">Pull Request</a>)</p>
  </li>
  <li>
    <p>Removed unused <code class="language-plaintext highlighter-rouge">:timestamp</code> type. Transparently alias it to <code class="language-plaintext highlighter-rouge">:datetime</code>
in all cases. Fixes inconsistencies when column types are sent outside of
Active Record, such as for XML serialization.
(<a href="https://github.com/rails/rails/pull/15184">Pull Request</a>)</p>
  </li>
</ul>

<h3 id="deprecations-4">Deprecations</h3>

<ul>
  <li>
    <p>Deprecated swallowing of errors inside <code class="language-plaintext highlighter-rouge">after_commit</code> and <code class="language-plaintext highlighter-rouge">after_rollback</code>.
(<a href="https://github.com/rails/rails/pull/16537">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated broken support for automatic detection of counter caches on
<code class="language-plaintext highlighter-rouge">has_many :through</code> associations. You should instead manually specify the
counter cache on the <code class="language-plaintext highlighter-rouge">has_many</code> and <code class="language-plaintext highlighter-rouge">belongs_to</code> associations for the
through records.
(<a href="https://github.com/rails/rails/pull/15754">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated passing Active Record objects to <code class="language-plaintext highlighter-rouge">.find</code> or <code class="language-plaintext highlighter-rouge">.exists?</code>. Call
<code class="language-plaintext highlighter-rouge">id</code> on the objects first.
(Commit <a href="https://github.com/rails/rails/commit/d92ae6ccca3bcfd73546d612efaea011270bd270">1</a>,
<a href="https://github.com/rails/rails/commit/d35f0033c7dec2b8d8b52058fb8db495d49596f7">2</a>)</p>
  </li>
  <li>
    <p>Deprecated half-baked support for PostgreSQL range values with excluding
beginnings. We currently map PostgreSQL ranges to Ruby ranges. This conversion
is not fully possible because Ruby ranges do not support excluded beginnings.</p>

    <p>The current solution of incrementing the beginning is not correct
and is now deprecated. For subtypes where we don’t know how to increment
(e.g. <code class="language-plaintext highlighter-rouge">succ</code> is not defined) it will raise an <code class="language-plaintext highlighter-rouge">ArgumentError</code> for ranges
with excluding beginnings.
(<a href="https://github.com/rails/rails/commit/91949e48cf41af9f3e4ffba3e5eecf9b0a08bfc3">Commit</a>)</p>
  </li>
  <li>
    <p>Deprecated calling <code class="language-plaintext highlighter-rouge">DatabaseTasks.load_schema</code> without a connection. Use
<code class="language-plaintext highlighter-rouge">DatabaseTasks.load_schema_current</code> instead.
(<a href="https://github.com/rails/rails/commit/f15cef67f75e4b52fd45655d7c6ab6b35623c608">Commit</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">sanitize_sql_hash_for_conditions</code> without replacement. Using a
<code class="language-plaintext highlighter-rouge">Relation</code> for performing queries and updates is the preferred API.
(<a href="https://github.com/rails/rails/commit/d5902c9e">Commit</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">add_timestamps</code> and <code class="language-plaintext highlighter-rouge">t.timestamps</code> without passing the <code class="language-plaintext highlighter-rouge">:null</code>
option. The default of <code class="language-plaintext highlighter-rouge">null: true</code> will change in Rails 5 to <code class="language-plaintext highlighter-rouge">null: false</code>.
(<a href="https://github.com/rails/rails/pull/16481">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">Reflection#source_macro</code> without replacement as it is no longer
needed in Active Record.
(<a href="https://github.com/rails/rails/pull/16373">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">serialized_attributes</code> without replacement.
(<a href="https://github.com/rails/rails/pull/15704">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated returning <code class="language-plaintext highlighter-rouge">nil</code> from <code class="language-plaintext highlighter-rouge">column_for_attribute</code> when no column
exists. It will return a null object in Rails 5.0.
(<a href="https://github.com/rails/rails/pull/15878">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated using <code class="language-plaintext highlighter-rouge">.joins</code>, <code class="language-plaintext highlighter-rouge">.preload</code> and <code class="language-plaintext highlighter-rouge">.eager_load</code> with associations
that depend on the instance state (i.e. those defined with a scope that
takes an argument) without replacement.
(<a href="https://github.com/rails/rails/commit/ed56e596a0467390011bc9d56d462539776adac1">Commit</a>)</p>
  </li>
</ul>

<h3 id="notable-changes-4">Notable changes</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">SchemaDumper</code> uses <code class="language-plaintext highlighter-rouge">force: :cascade</code> on <code class="language-plaintext highlighter-rouge">create_table</code>. This makes it
possible to reload a schema when foreign keys are in place.</p>
  </li>
  <li>
    <p>Added a <code class="language-plaintext highlighter-rouge">:required</code> option to singular associations, which defines a
presence validation on the association.
(<a href="https://github.com/rails/rails/pull/16056">Pull Request</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveRecord::Dirty</code> now detects in-place changes to mutable values.
Serialized attributes on Active Record models are no longer saved when
unchanged. This also works with other types such as string columns and json
columns on PostgreSQL.
(Pull Requests <a href="https://github.com/rails/rails/pull/15674">1</a>,
<a href="https://github.com/rails/rails/pull/15786">2</a>,
<a href="https://github.com/rails/rails/pull/15788">3</a>)</p>
  </li>
  <li>
    <p>Introduced the <code class="language-plaintext highlighter-rouge">db:purge</code> Rake task to empty the database for the
current environment.
(<a href="https://github.com/rails/rails/commit/e2f232aba15937a4b9d14bd91e0392c6d55be58d">Commit</a>)</p>
  </li>
  <li>
    <p>Introduced <code class="language-plaintext highlighter-rouge">ActiveRecord::Base#validate!</code> that raises
<code class="language-plaintext highlighter-rouge">ActiveRecord::RecordInvalid</code> if the record is invalid.
(<a href="https://github.com/rails/rails/pull/8639">Pull Request</a>)</p>
  </li>
  <li>
    <p>Introduced <code class="language-plaintext highlighter-rouge">validate</code> as an alias for <code class="language-plaintext highlighter-rouge">valid?</code>.
(<a href="https://github.com/rails/rails/pull/14456">Pull Request</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">touch</code> now accepts multiple attributes to be touched at once.
(<a href="https://github.com/rails/rails/pull/14423">Pull Request</a>)</p>
  </li>
  <li>
    <p>The PostgreSQL adapter now supports the <code class="language-plaintext highlighter-rouge">jsonb</code> datatype in PostgreSQL 9.4+.
(<a href="https://github.com/rails/rails/pull/16220">Pull Request</a>)</p>
  </li>
  <li>
    <p>The PostgreSQL and SQLite adapters no longer add a default limit of 255
characters on string columns.
(<a href="https://github.com/rails/rails/pull/14579">Pull Request</a>)</p>
  </li>
  <li>
    <p>Added support for the <code class="language-plaintext highlighter-rouge">citext</code> column type in the PostgreSQL adapter.
(<a href="https://github.com/rails/rails/pull/12523">Pull Request</a>)</p>
  </li>
  <li>
    <p>Added support for user-created range types in the PostgreSQL adapter.
(<a href="https://github.com/rails/rails/commit/4cb47167e747e8f9dc12b0ddaf82bdb68c03e032">Commit</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">sqlite3:///some/path</code> now resolves to the absolute system path
<code class="language-plaintext highlighter-rouge">/some/path</code>. For relative paths, use <code class="language-plaintext highlighter-rouge">sqlite3:some/path</code> instead.
(Previously, <code class="language-plaintext highlighter-rouge">sqlite3:///some/path</code> resolved to the relative path
<code class="language-plaintext highlighter-rouge">some/path</code>. This behavior was deprecated on Rails 4.1).
(<a href="https://github.com/rails/rails/pull/14569">Pull Request</a>)</p>
  </li>
  <li>
    <p>Added support for fractional seconds for MySQL 5.6 and above.
(Pull Request <a href="https://github.com/rails/rails/pull/8240">1</a>,
<a href="https://github.com/rails/rails/pull/14359">2</a>)</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">ActiveRecord::Base#pretty_print</code> to pretty print models.
(<a href="https://github.com/rails/rails/pull/15172">Pull Request</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveRecord::Base#reload</code> now behaves the same as <code class="language-plaintext highlighter-rouge">m = Model.find(m.id)</code>,
meaning that it no longer retains the extra attributes from custom
<code class="language-plaintext highlighter-rouge">SELECT</code>s.
(<a href="https://github.com/rails/rails/pull/15866">Pull Request</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveRecord::Base#reflections</code> now returns a hash with string keys instead
of symbol keys. (<a href="https://github.com/rails/rails/pull/17718">Pull Request</a>)</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">references</code> method in migrations now supports a <code class="language-plaintext highlighter-rouge">type</code> option for
specifying the type of the foreign key (e.g. <code class="language-plaintext highlighter-rouge">:uuid</code>).
(<a href="https://github.com/rails/rails/pull/16231">Pull Request</a>)</p>
  </li>
</ul>

<h2 id="active-model">Active Model</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/4-2-stable/activemodel/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-3">Removals</h3>

<ul>
  <li>Removed deprecated <code class="language-plaintext highlighter-rouge">Validator#setup</code> without replacement.
(<a href="https://github.com/rails/rails/pull/10716">Pull Request</a>)</li>
</ul>

<h3 id="deprecations-5">Deprecations</h3>

<ul>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">reset_#{attribute}</code> in favor of <code class="language-plaintext highlighter-rouge">restore_#{attribute}</code>.
(<a href="https://github.com/rails/rails/pull/16180">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">ActiveModel::Dirty#reset_changes</code> in favor of
<code class="language-plaintext highlighter-rouge">clear_changes_information</code>.
(<a href="https://github.com/rails/rails/pull/16180">Pull Request</a>)</p>
  </li>
</ul>

<h3 id="notable-changes-5">Notable changes</h3>

<ul>
  <li>
    <p>Introduced <code class="language-plaintext highlighter-rouge">validate</code> as an alias for <code class="language-plaintext highlighter-rouge">valid?</code>.
(<a href="https://github.com/rails/rails/pull/14456">Pull Request</a>)</p>
  </li>
  <li>
    <p>Introduced the <code class="language-plaintext highlighter-rouge">restore_attributes</code> method in <code class="language-plaintext highlighter-rouge">ActiveModel::Dirty</code> to restore
the changed (dirty) attributes to their previous values.
(Pull Request <a href="https://github.com/rails/rails/pull/14861">1</a>,
<a href="https://github.com/rails/rails/pull/16180">2</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">has_secure_password</code> no longer disallows blank passwords (i.e. passwords
that contains only spaces) by default.
(<a href="https://github.com/rails/rails/pull/16412">Pull Request</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">has_secure_password</code> now verifies that the given password is less than 72
characters if validations are enabled.
(<a href="https://github.com/rails/rails/pull/15708">Pull Request</a>)</p>
  </li>
</ul>

<h2 id="active-support">Active Support</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/4-2-stable/activesupport/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-4">Removals</h3>

<ul>
  <li>
    <p>Removed deprecated <code class="language-plaintext highlighter-rouge">Numeric#ago</code>, <code class="language-plaintext highlighter-rouge">Numeric#until</code>, <code class="language-plaintext highlighter-rouge">Numeric#since</code>,
<code class="language-plaintext highlighter-rouge">Numeric#from_now</code>.
(<a href="https://github.com/rails/rails/commit/f1eddea1e3f6faf93581c43651348f48b2b7d8bb">Commit</a>)</p>
  </li>
  <li>
    <p>Removed deprecated string based terminators for <code class="language-plaintext highlighter-rouge">ActiveSupport::Callbacks</code>.
(<a href="https://github.com/rails/rails/pull/15100">Pull Request</a>)</p>
  </li>
</ul>

<h3 id="deprecations-6">Deprecations</h3>

<ul>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">Kernel#silence_stderr</code>, <code class="language-plaintext highlighter-rouge">Kernel#capture</code> and <code class="language-plaintext highlighter-rouge">Kernel#quietly</code>
without replacement.
(<a href="https://github.com/rails/rails/pull/13392">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">Class#superclass_delegating_accessor</code>, use
<code class="language-plaintext highlighter-rouge">Class#class_attribute</code> instead.
(<a href="https://github.com/rails/rails/pull/14271">Pull Request</a>)</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">ActiveSupport::SafeBuffer#prepend!</code> as
<code class="language-plaintext highlighter-rouge">ActiveSupport::SafeBuffer#prepend</code> now performs the same function.
(<a href="https://github.com/rails/rails/pull/14529">Pull Request</a>)</p>
  </li>
</ul>

<h3 id="notable-changes-6">Notable changes</h3>

<ul>
  <li>
    <p>Introduced a new configuration option <code class="language-plaintext highlighter-rouge">active_support.test_order</code> for
specifying the order test cases are executed. This option currently defaults
to <code class="language-plaintext highlighter-rouge">:sorted</code> but will be changed to <code class="language-plaintext highlighter-rouge">:random</code> in Rails 5.0.
(<a href="https://github.com/rails/rails/commit/53e877f7d9291b2bf0b8c425f9e32ef35829f35b">Commit</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Object#try</code> and <code class="language-plaintext highlighter-rouge">Object#try!</code> can now be used without an explicit receiver in the block.
(<a href="https://github.com/rails/rails/commit/5e51bdda59c9ba8e5faf86294e3e431bd45f1830">Commit</a>,
<a href="https://github.com/rails/rails/pull/17361">Pull Request</a>)</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">travel_to</code> test helper now truncates the <code class="language-plaintext highlighter-rouge">usec</code> component to 0.
(<a href="https://github.com/rails/rails/commit/9f6e82ee4783e491c20f5244a613fdeb4024beb5">Commit</a>)</p>
  </li>
  <li>
    <p>Introduced <code class="language-plaintext highlighter-rouge">Object#itself</code> as an identity function.
(Commit <a href="https://github.com/rails/rails/commit/702ad710b57bef45b081ebf42e6fa70820fdd810">1</a>,
<a href="https://github.com/rails/rails/commit/64d91122222c11ad3918cc8e2e3ebc4b0a03448a">2</a>)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Object#with_options</code> can now be used without an explicit receiver in the block.
(<a href="https://github.com/rails/rails/pull/16339">Pull Request</a>)</p>
  </li>
  <li>
    <p>Introduced <code class="language-plaintext highlighter-rouge">String#truncate_words</code> to truncate a string by a number of words.
(<a href="https://github.com/rails/rails/pull/16190">Pull Request</a>)</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">Hash#transform_values</code> and <code class="language-plaintext highlighter-rouge">Hash#transform_values!</code> to simplify a
common pattern where the values of a hash must change, but the keys are left
the same.
(<a href="https://github.com/rails/rails/pull/15819">Pull Request</a>)</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">humanize</code> inflector helper now strips any leading underscores.
(<a href="https://github.com/rails/rails/commit/daaa21bc7d20f2e4ff451637423a25ff2d5e75c7">Commit</a>)</p>
  </li>
  <li>
    <p>Introduced <code class="language-plaintext highlighter-rouge">Concern#class_methods</code> as an alternative to
<code class="language-plaintext highlighter-rouge">module ClassMethods</code>, as well as <code class="language-plaintext highlighter-rouge">Kernel#concern</code> to avoid the
<code class="language-plaintext highlighter-rouge">module Foo; extend ActiveSupport::Concern; end</code> boilerplate.
(<a href="https://github.com/rails/rails/commit/b16c36e688970df2f96f793a759365b248b582ad">Commit</a>)</p>
  </li>
  <li>
    <p>New <a href="autoloading_and_reloading_constants_classic_mode.html">guide</a> about constant autoloading and reloading.</p>
  </li>
</ul>

<h2 id="credits">Credits</h2>

<p>See the
<a href="https://contributors.rubyonrails.org/">full list of contributors to Rails</a> for
the many people who spent many hours making Rails the stable and robust
framework it is today. Kudos to all of them.</p>


        </div>

        <footer class="guide-footer">
            <div class="feedback">
                <h3>Geri Bildirim</h3>
                <p>Bu kılavuzun kalitesini artırmamıza yardımcı olmak için geri bildirimlerinizi bekliyoruz.</p>
                <p>Lütfen <a href="https://github.com/dilankaya127/rails-tr-TR">GitHub Issues</a> üzerinden katkıda bulunun.</p>
            </div>
        </footer>
    </article>
</div>

<script>
// İçindekiler tablosunu otomatik oluştur
document.addEventListener('DOMContentLoaded', function() {
    const toc = document.getElementById('toc');
    const headings = document.querySelectorAll('.guide-content h2, .guide-content h3, .guide-content h4');
    
    if (headings.length > 0) {
        const tocList = document.createElement('ul');
        
        headings.forEach(function(heading, index) {
            const id = 'heading-' + index;
            heading.id = id;
            
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = '#' + id;
            a.textContent = heading.textContent;
            a.className = 'toc-' + heading.tagName.toLowerCase();
            
            li.appendChild(a);
            tocList.appendChild(li);
        });
        
        toc.appendChild(tocList);
    }
});
</script>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Rails Kılavuzları Türkçe Çevirisi. Gönüllüler tarafından hazırlanmıştır.</p>
            <p>Orijinal dokümantasyon <a href="https://guides.rubyonrails.org">Ruby on Rails</a> ekibine aittir.</p>
        </div>
    </footer>

    <script>hljs.highlightAll();</script>
</body>
</html>