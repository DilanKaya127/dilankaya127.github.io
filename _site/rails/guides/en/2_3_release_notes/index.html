<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      2 3 Release Notes - Rails Dokümantasyonu - Türkçe
    </title>
    <link
      rel="stylesheet"
      href="/assets/css/rails.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css"
    />

    <link
      rel="icon"
      type="image/svg"
      href="/assets/images/logo_rails-circle.svg"
    />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-Y6Q8S53SSQ"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-Y6Q8S53SSQ");
    </script>
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="header-content">
          <h1 class="logo">
            <a href="/rails/">
              <img
                src="/assets/images/logo_rails-circle.svg"
                alt="Rails Logo"
                class="logo-image"
              />
            </a>
          </h1>
          <nav class="nav">
            <a href="/">Ana Sayfa</a>
            <!-- <a href="https://dilankaya127.github.io">Portföy</a> -->

            <div class="dropdown">
              <a class="dropbtn">Kılavuzlar</a>
              <div class="dropdown-content multi-column">
                 
                <div class="dropdown-column">
                  <h4>Buradan Başlayın</h4>
                  
                  <a href="/rails/guides/tr/getting_started">Rails ile Başlarken</a>
                  
                  <a href="/rails/guides/tr/install_ruby_on_rails">Ruby on Rails İndirme Kılavuzu</a>
                  
                </div>
                      
                <div class="dropdown-column">
                  <h4>Controllers</h4>
                  
                  <a href="/rails/guides/tr/action_controller_overview">Action Controller</a>
                  
                </div>
                  
                <div class="dropdown-column">
                  <h4>Diğer Bileşenler</h4>
                  
                  <a href="/rails/guides/tr/action_cable_overview">Action Cable</a>
                  
                </div>
                               
              </div>
            </div>
            <a href="https://github.com/dilankaya127/rails-tr-TR">GitHub</a>
          </nav>
        </div>
      </div>
    </header>

    <main class="main">
      <div class="container">
        <div class="guide-container">
  <button id="toc-toggle" class="toc-toggle">☰ İçindekiler</button>

  <aside class="guide-sidebar">
    <div class="guide-toc">
      <!-- <h3>İçindekiler</h3> -->
      <div id="toc"></div>
      <button class="toc-close" aria-label="İçindekileri Kapat">✕</button>
    </div>

    <!-- <div class="guide-nav">
            <h3>Diğer(Tüm) Kılavuzlar</h3>
            <ul>
                <li><a href="/rails/guides/tr/getting_started">Rails ile Başlarken</a></li>
                <li><a href="/rails/guides/en/active_record_basics">Active Record Temelleri</a></li>
                <li><a href="/rails/guides//en/action_controller_overview">Action Controller</a></li>
                <li><a href="/rails/guides/tr/action_cable_overview">Action Cable</a></li>
            </ul>
        </div> -->
  </aside>

  <article class="guide-content">
    <!-- <header class="guide-header">
            <h1>2 3 Release Notes</h1>
            
        </header> -->

    <div class="guide-body"><p><strong>DO NOT READ THIS FILE ON GITHUB, GUIDES ARE PUBLISHED ON <a href="https://guides.rubyonrails.org">https://guides.rubyonrails.org</a>.</strong></p>

<h1 id="ruby-on-rails-23-release-notes">Ruby on Rails 2.3 Release Notes</h1>

<p>Rails 2.3 delivers a variety of new and improved features, including pervasive Rack integration, refreshed support for Rails Engines, nested transactions for Active Record, dynamic and default scopes, unified rendering, more efficient routing, application templates, and quiet backtraces. This list covers the major upgrades, but doesn’t include every little bug fix and change. If you want to see everything, check out the <a href="https://github.com/rails/rails/commits/2-3-stable">list of commits</a> in the main Rails repository on GitHub or review the <code class="language-plaintext highlighter-rouge">CHANGELOG</code> files for the individual Rails components.</p>

<hr />

<h2 id="application-architecture">Application Architecture</h2>

<p>There are two major changes in the architecture of Rails applications: complete integration of the <a href="https://rack.github.io/">Rack</a> modular web server interface, and renewed support for Rails Engines.</p>

<h3 id="rack-integration">Rack Integration</h3>

<p>Rails has now broken with its CGI past, and uses Rack everywhere. This required and resulted in a tremendous number of internal changes (but if you use CGI, don’t worry; Rails now supports CGI through a proxy interface). Still, this is a major change to Rails internals. After upgrading to 2.3, you should test on your local environment and your production environment. Some things to test:</p>

<ul>
  <li>Sessions</li>
  <li>Cookies</li>
  <li>File uploads</li>
  <li>JSON/XML APIs</li>
</ul>

<p>Here’s a summary of the rack-related changes:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">script/server</code> has been switched to use Rack, which means it supports any Rack compatible server. <code class="language-plaintext highlighter-rouge">script/server</code> will also pick up a rackup configuration file if one exists. By default, it will look for a <code class="language-plaintext highlighter-rouge">config.ru</code> file, but you can override this with the <code class="language-plaintext highlighter-rouge">-c</code> switch.</li>
  <li>The FCGI handler goes through Rack.</li>
  <li><code class="language-plaintext highlighter-rouge">ActionController::Dispatcher</code> maintains its own default middleware stack. Middlewares can be injected in, reordered, and removed. The stack is compiled into a chain on boot. You can configure the middleware stack in <code class="language-plaintext highlighter-rouge">environment.rb</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">rake middleware</code> task has been added to inspect the middleware stack. This is useful for debugging the order of the middleware stack.</li>
  <li>The integration test runner has been modified to execute the entire middleware and application stack. This makes integration tests perfect for testing Rack middleware.</li>
  <li><code class="language-plaintext highlighter-rouge">ActionController::CGIHandler</code> is a backwards compatible CGI wrapper around Rack. The <code class="language-plaintext highlighter-rouge">CGIHandler</code> is meant to take an old CGI object and convert its environment information into a Rack compatible form.</li>
  <li><code class="language-plaintext highlighter-rouge">CgiRequest</code> and <code class="language-plaintext highlighter-rouge">CgiResponse</code> have been removed.</li>
  <li>Session stores are now lazy loaded. If you never access the session object during a request, it will never attempt to load the session data (parse the cookie, load the data from memcache, or lookup an Active Record object).</li>
  <li>You no longer need to use <code class="language-plaintext highlighter-rouge">CGI::Cookie.new</code> in your tests for setting a cookie value. Assigning a <code class="language-plaintext highlighter-rouge">String</code> value to request.cookies[“foo”] now sets the cookie as expected.</li>
  <li><code class="language-plaintext highlighter-rouge">CGI::Session::CookieStore</code> has been replaced by <code class="language-plaintext highlighter-rouge">ActionController::Session::CookieStore</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">CGI::Session::MemCacheStore</code> has been replaced by <code class="language-plaintext highlighter-rouge">ActionController::Session::MemCacheStore</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">CGI::Session::ActiveRecordStore</code> has been replaced by <code class="language-plaintext highlighter-rouge">ActiveRecord::SessionStore</code>.</li>
  <li>You can still change your session store with <code class="language-plaintext highlighter-rouge">ActionController::Base.session_store = :active_record_store</code>.</li>
  <li>Default sessions options are still set with <code class="language-plaintext highlighter-rouge">ActionController::Base.session = { :key =&gt; "..." }</code>. However, the <code class="language-plaintext highlighter-rouge">:session_domain</code> option has been renamed to <code class="language-plaintext highlighter-rouge">:domain</code>.</li>
  <li>The mutex that normally wraps your entire request has been moved into middleware, <code class="language-plaintext highlighter-rouge">ActionController::Lock</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ActionController::AbstractRequest</code> and <code class="language-plaintext highlighter-rouge">ActionController::Request</code> have been unified. The new <code class="language-plaintext highlighter-rouge">ActionController::Request</code> inherits from <code class="language-plaintext highlighter-rouge">Rack::Request</code>. This affects access to <code class="language-plaintext highlighter-rouge">response.headers['type']</code> in test requests. Use <code class="language-plaintext highlighter-rouge">response.content_type</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">ActiveRecord::QueryCache</code> middleware is automatically inserted onto the middleware stack if <code class="language-plaintext highlighter-rouge">ActiveRecord</code> has been loaded. This middleware sets up and flushes the per-request Active Record query cache.</li>
  <li>The Rails router and controller classes follow the Rack spec. You can call a controller directly with <code class="language-plaintext highlighter-rouge">SomeController.call(env)</code>. The router stores the routing parameters in <code class="language-plaintext highlighter-rouge">rack.routing_args</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ActionController::Request</code> inherits from <code class="language-plaintext highlighter-rouge">Rack::Request</code>.</li>
  <li>Instead of <code class="language-plaintext highlighter-rouge">config.action_controller.session = { :session_key =&gt; 'foo', ...</code> use <code class="language-plaintext highlighter-rouge">config.action_controller.session = { :key =&gt; 'foo', ...</code>.</li>
  <li>Using the <code class="language-plaintext highlighter-rouge">ParamsParser</code> middleware preprocesses any XML, JSON, or YAML requests so they can be read normally with any <code class="language-plaintext highlighter-rouge">Rack::Request</code> object after it.</li>
</ul>

<h3 id="renewed-support-for-rails-engines">Renewed Support for Rails Engines</h3>

<table>
  <tbody>
    <tr>
      <td>After some versions without an upgrade, Rails 2.3 offers some new features for Rails Engines (Rails applications that can be embedded within other applications). First, routing files in engines are automatically loaded and reloaded now, just like your <code class="language-plaintext highlighter-rouge">routes.rb</code> file (this also applies to routing files in other plugins). Second, if your plugin has an app folder, then app/[models</td>
      <td>controllers</td>
      <td>helpers] will automatically be added to the Rails load path. Engines also support adding view paths now, and Action Mailer as well as Action View will use views from engines and other plugins.</td>
    </tr>
  </tbody>
</table>

<h2 id="documentation">Documentation</h2>

<p>The <a href="https://guides.rubyonrails.org/">Ruby on Rails guides</a> project has published several additional guides for Rails 2.3. In addition, a <a href="https://edgeguides.rubyonrails.org/">separate site</a> maintains updated copies of the Guides for Edge Rails. Other documentation efforts include a relaunch of the <a href="http://newwiki.rubyonrails.org/">Rails wiki</a> and early planning for a Rails Book.</p>

<ul>
  <li>More Information: <a href="https://rubyonrails.org/2009/1/15/rails-documentation-projects">Rails Documentation Projects</a></li>
</ul>

<h2 id="ruby-191-support">Ruby 1.9.1 Support</h2>

<p>Rails 2.3 should pass all of its own tests whether you are running on Ruby 1.8 or the now-released Ruby 1.9.1. You should be aware, though, that moving to 1.9.1 entails checking all of the data adapters, plugins, and other code that you depend on for Ruby 1.9.1 compatibility, as well as Rails core.</p>

<h2 id="active-record">Active Record</h2>

<p>Active Record gets quite a number of new features and bug fixes in Rails 2.3. The highlights include nested attributes, nested transactions, dynamic and default scopes, and batch processing.</p>

<h3 id="nested-attributes">Nested Attributes</h3>

<p>Active Record can now update the attributes on nested models directly, provided you tell it to do so:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Book</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">has_one</span> <span class="ss">:author</span>
  <span class="n">has_many</span> <span class="ss">:pages</span>

  <span class="n">accepts_nested_attributes_for</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:pages</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Turning on nested attributes enables a number of things: automatic (and atomic) saving of a record together with its associated children, child-aware validations, and support for nested forms (discussed later).</p>

<p>You can also specify requirements for any new records that are added via nested attributes using the <code class="language-plaintext highlighter-rouge">:reject_if</code> option:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">accepts_nested_attributes_for</span> <span class="ss">:author</span><span class="p">,</span>
  <span class="ss">:reject_if</span> <span class="o">=&gt;</span> <span class="nb">proc</span> <span class="p">{</span> <span class="o">|</span><span class="n">attributes</span><span class="o">|</span> <span class="n">attributes</span><span class="p">[</span><span class="s1">'name'</span><span class="p">].</span><span class="nf">blank?</span> <span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>Lead Contributor: <a href="http://superalloy.nl/">Eloy Duran</a></li>
  <li>More Information: <a href="https://rubyonrails.org/2009/1/26/nested-model-forms">Nested Model Forms</a></li>
</ul>

<h3 id="nested-transactions">Nested Transactions</h3>

<p>Active Record now supports nested transactions, a much-requested feature. Now you can write code like this:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">User</span><span class="p">.</span><span class="nf">transaction</span> <span class="k">do</span>
  <span class="no">User</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s1">'Admin'</span><span class="p">)</span>
  <span class="no">User</span><span class="p">.</span><span class="nf">transaction</span><span class="p">(</span><span class="ss">:requires_new</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span> <span class="k">do</span>
    <span class="no">User</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s1">'Regular'</span><span class="p">)</span>
    <span class="k">raise</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Rollback</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">User</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="ss">:all</span><span class="p">)</span>  <span class="c1"># =&gt; Returns only Admin</span>
</code></pre></div></div>

<p>Nested transactions let you roll back an inner transaction without affecting the state of the outer transaction. If you want a transaction to be nested, you must explicitly add the <code class="language-plaintext highlighter-rouge">:requires_new</code> option; otherwise, a nested transaction simply becomes part of the parent transaction (as it does currently on Rails 2.2). Under the covers, nested transactions are <a href="http://rails.lighthouseapp.com/projects/8994/tickets/383,">using savepoints</a> so they’re supported even on databases that don’t have true nested transactions. There is also a bit of magic going on to make these transactions play well with transactional fixtures during testing.</p>

<ul>
  <li>Lead Contributors: <a href="http://www.workingwithrails.com/person/4985-jonathan-viney">Jonathan Viney</a> and <a href="http://izumi.plan99.net/blog/">Hongli Lai</a></li>
</ul>

<h3 id="dynamic-scopes">Dynamic Scopes</h3>

<p>You know about dynamic finders in Rails (which allow you to concoct methods like <code class="language-plaintext highlighter-rouge">find_by_color_and_flavor</code> on the fly) and named scopes (which allow you to encapsulate reusable query conditions into friendly names like <code class="language-plaintext highlighter-rouge">currently_active</code>). Well, now you can have dynamic scope methods. The idea is to put together syntax that allows filtering on the fly <em>and</em> method chaining. For example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Order</span><span class="p">.</span><span class="nf">scoped_by_customer_id</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="no">Order</span><span class="p">.</span><span class="nf">scoped_by_customer_id</span><span class="p">(</span><span class="mi">12</span><span class="p">).</span><span class="nf">find</span><span class="p">(</span><span class="ss">:all</span><span class="p">,</span>
  <span class="ss">:conditions</span> <span class="o">=&gt;</span> <span class="s2">"status = 'open'"</span><span class="p">)</span>
<span class="no">Order</span><span class="p">.</span><span class="nf">scoped_by_customer_id</span><span class="p">(</span><span class="mi">12</span><span class="p">).</span><span class="nf">scoped_by_status</span><span class="p">(</span><span class="s2">"open"</span><span class="p">)</span>
</code></pre></div></div>

<p>There’s nothing to define to use dynamic scopes: they just work.</p>

<ul>
  <li>Lead Contributor: <a href="http://evilmartians.com/">Yaroslav Markin</a></li>
  <li>More Information: <a href="http://archives.ryandaigle.com/articles/2008/12/29/what-s-new-in-edge-rails-dynamic-scope-methods">What’s New in Edge Rails: Dynamic Scope Methods</a></li>
</ul>

<h3 id="default-scopes">Default Scopes</h3>

<p>Rails 2.3 will introduce the notion of <em>default scopes</em> similar to named scopes, but applying to all named scopes or find methods within the model. For example, you can write <code class="language-plaintext highlighter-rouge">default_scope :order =&gt; 'name ASC'</code> and any time you retrieve records from that model they’ll come out sorted by name (unless you override the option, of course).</p>

<ul>
  <li>Lead Contributor: Paweł Kondzior</li>
  <li>More Information: <a href="http://archives.ryandaigle.com/articles/2008/11/18/what-s-new-in-edge-rails-default-scoping">What’s New in Edge Rails: Default Scoping</a></li>
</ul>

<h3 id="batch-processing">Batch Processing</h3>

<p>You can now process large numbers of records from an Active Record model with less pressure on memory by using <code class="language-plaintext highlighter-rouge">find_in_batches</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Customer</span><span class="p">.</span><span class="nf">find_in_batches</span><span class="p">(</span><span class="ss">:conditions</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:active</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">})</span> <span class="k">do</span> <span class="o">|</span><span class="n">customer_group</span><span class="o">|</span>
  <span class="n">customer_group</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">customer</span><span class="o">|</span> <span class="n">customer</span><span class="p">.</span><span class="nf">update_account_balance!</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre></div></div>

<p>You can pass most of the <code class="language-plaintext highlighter-rouge">find</code> options into <code class="language-plaintext highlighter-rouge">find_in_batches</code>. However, you cannot specify the order that records will be returned in (they will always be returned in ascending order of primary key, which must be an integer), or use the <code class="language-plaintext highlighter-rouge">:limit</code> option. Instead, use the <code class="language-plaintext highlighter-rouge">:batch_size</code> option, which defaults to 1000, to set the number of records that will be returned in each batch.</p>

<p>The new <code class="language-plaintext highlighter-rouge">find_each</code> method provides a wrapper around <code class="language-plaintext highlighter-rouge">find_in_batches</code> that returns individual records, with the find itself being done in batches (of 1000 by default):</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Customer</span><span class="p">.</span><span class="nf">find_each</span> <span class="k">do</span> <span class="o">|</span><span class="n">customer</span><span class="o">|</span>
  <span class="n">customer</span><span class="p">.</span><span class="nf">update_account_balance!</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Note that you should only use this method for batch processing: for small numbers of records (less than 1000), you should just use the regular find methods with your own loop.</p>

<ul>
  <li>More Information (at that point the convenience method was called just <code class="language-plaintext highlighter-rouge">each</code>):
    <ul>
      <li><a href="http://afreshcup.com/2009/02/23/rails-23-batch-finding/">Rails 2.3: Batch Finding</a></li>
      <li><a href="http://archives.ryandaigle.com/articles/2009/2/23/what-s-new-in-edge-rails-batched-find">What’s New in Edge Rails: Batched Find</a></li>
    </ul>
  </li>
</ul>

<h3 id="multiple-conditions-for-callbacks">Multiple Conditions for Callbacks</h3>

<p>When using Active Record callbacks, you can now combine <code class="language-plaintext highlighter-rouge">:if</code> and <code class="language-plaintext highlighter-rouge">:unless</code> options on the same callback, and supply multiple conditions as an array:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">before_save</span> <span class="ss">:update_credit_rating</span><span class="p">,</span> <span class="ss">:if</span> <span class="o">=&gt;</span> <span class="ss">:active</span><span class="p">,</span>
  <span class="ss">:unless</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="ss">:admin</span><span class="p">,</span> <span class="ss">:cash_only</span><span class="p">]</span>
</code></pre></div></div>
<ul>
  <li>Lead Contributor: L. Caviola</li>
</ul>

<h3 id="find-with-having">Find with having</h3>

<p>Rails now has a <code class="language-plaintext highlighter-rouge">:having</code> option on find (as well as on <code class="language-plaintext highlighter-rouge">has_many</code> and <code class="language-plaintext highlighter-rouge">has_and_belongs_to_many</code> associations) for filtering records in grouped finds. As those with heavy SQL backgrounds know, this allows filtering based on grouped results:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">developers</span> <span class="o">=</span> <span class="no">Developer</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="ss">:all</span><span class="p">,</span> <span class="ss">:group</span> <span class="o">=&gt;</span> <span class="s2">"salary"</span><span class="p">,</span>
  <span class="ss">:having</span> <span class="o">=&gt;</span> <span class="s2">"sum(salary) &gt; 10000"</span><span class="p">,</span> <span class="ss">:select</span> <span class="o">=&gt;</span> <span class="s2">"salary"</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>Lead Contributor: <a href="https://github.com/miloops">Emilio Tagua</a></li>
</ul>

<h3 id="reconnecting-mysql-connections">Reconnecting MySQL Connections</h3>

<p>MySQL supports a reconnect flag in its connections - if set to true, then the client will try reconnecting to the server before giving up in case of a lost connection. You can now set <code class="language-plaintext highlighter-rouge">reconnect = true</code> for your MySQL connections in <code class="language-plaintext highlighter-rouge">database.yml</code> to get this behavior from a Rails application. The default is <code class="language-plaintext highlighter-rouge">false</code>, so the behavior of existing applications doesn’t change.</p>

<ul>
  <li>Lead Contributor: <a href="http://x.com/dubek">Dov Murik</a></li>
  <li>More information:
    <ul>
      <li><a href="http://dev.mysql.com/doc/refman/5.6/en/auto-reconnect.html">Controlling Automatic Reconnection Behavior</a></li>
      <li><a href="http://groups.google.com/group/rubyonrails-core/browse_thread/thread/49d2a7e9c96cb9f4">MySQL auto-reconnect revisited</a></li>
    </ul>
  </li>
</ul>

<h3 id="other-active-record-changes">Other Active Record Changes</h3>

<ul>
  <li>An extra <code class="language-plaintext highlighter-rouge">AS</code> was removed from the generated SQL for <code class="language-plaintext highlighter-rouge">has_and_belongs_to_many</code> preloading, making it work better for some databases.</li>
  <li><code class="language-plaintext highlighter-rouge">ActiveRecord::Base#new_record?</code> now returns <code class="language-plaintext highlighter-rouge">false</code> rather than <code class="language-plaintext highlighter-rouge">nil</code> when confronted with an existing record.</li>
  <li>A bug in quoting table names in some <code class="language-plaintext highlighter-rouge">has_many :through</code> associations was fixed.</li>
  <li>You can now specify a particular timestamp for <code class="language-plaintext highlighter-rouge">updated_at</code> timestamps: <code class="language-plaintext highlighter-rouge">cust = Customer.create(:name =&gt; "ABC Industries", :updated_at =&gt; 1.day.ago)</code></li>
  <li>Better error messages on failed <code class="language-plaintext highlighter-rouge">find_by_attribute!</code> calls.</li>
  <li>Active Record’s <code class="language-plaintext highlighter-rouge">to_xml</code> support gets just a little bit more flexible with the addition of a <code class="language-plaintext highlighter-rouge">:camelize</code> option.</li>
  <li>A bug in canceling callbacks from <code class="language-plaintext highlighter-rouge">before_update</code> or <code class="language-plaintext highlighter-rouge">before_create</code> was fixed.</li>
  <li>Rake tasks for testing databases via JDBC have been added.</li>
  <li><code class="language-plaintext highlighter-rouge">validates_length_of</code> will use a custom error message with the <code class="language-plaintext highlighter-rouge">:in</code> or <code class="language-plaintext highlighter-rouge">:within</code> options (if one is supplied).</li>
  <li>Counts on scoped selects now work properly, so you can do things like <code class="language-plaintext highlighter-rouge">Account.scoped(:select =&gt; "DISTINCT credit_limit").count</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ActiveRecord::Base#invalid?</code> now works as the opposite of <code class="language-plaintext highlighter-rouge">ActiveRecord::Base#valid?</code>.</li>
</ul>

<h2 id="action-controller">Action Controller</h2>

<p>Action Controller rolls out some significant changes to rendering, as well as improvements in routing and other areas, in this release.</p>

<h3 id="unified-rendering">Unified Rendering</h3>

<p><code class="language-plaintext highlighter-rouge">ActionController::Base#render</code> is a lot smarter about deciding what to render. Now you can just tell it what to render and expect to get the right results. In older versions of Rails, you often need to supply explicit information to render:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">render</span> <span class="ss">:file</span> <span class="o">=&gt;</span> <span class="s1">'/tmp/random_file.erb'</span>
<span class="n">render</span> <span class="ss">:template</span> <span class="o">=&gt;</span> <span class="s1">'other_controller/action'</span>
<span class="n">render</span> <span class="ss">:action</span> <span class="o">=&gt;</span> <span class="s1">'show'</span>
</code></pre></div></div>

<p>Now in Rails 2.3, you can just supply what you want to render:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">render</span> <span class="s1">'/tmp/random_file.erb'</span>
<span class="n">render</span> <span class="s1">'other_controller/action'</span>
<span class="n">render</span> <span class="s1">'show'</span>
<span class="n">render</span> <span class="ss">:show</span>
</code></pre></div></div>

<p>Rails chooses between file, template, and action depending on whether there is a leading slash, an embedded slash, or no slash at all in what’s to be rendered. Note that you can also use a symbol instead of a string when rendering an action. Other rendering styles (<code class="language-plaintext highlighter-rouge">:inline</code>, <code class="language-plaintext highlighter-rouge">:text</code>, <code class="language-plaintext highlighter-rouge">:update</code>, <code class="language-plaintext highlighter-rouge">:nothing</code>, <code class="language-plaintext highlighter-rouge">:json</code>, <code class="language-plaintext highlighter-rouge">:xml</code>, <code class="language-plaintext highlighter-rouge">:js</code>) still require an explicit option.</p>

<h3 id="application-controller-renamed">Application Controller Renamed</h3>

<p>If you’re one of the people who has always been bothered by the special-case naming of <code class="language-plaintext highlighter-rouge">application.rb</code>, rejoice! It’s been reworked to be <code class="language-plaintext highlighter-rouge">application_controller.rb</code> in Rails 2.3. In addition, there’s a new rake task, <code class="language-plaintext highlighter-rouge">rake rails:update:application_controller</code> to do this automatically for you - and it will be run as part of the normal <code class="language-plaintext highlighter-rouge">rake rails:update</code> process.</p>

<ul>
  <li>More Information:
    <ul>
      <li><a href="https://afreshcup.com/home/2008/11/17/rails-2x-the-death-of-applicationrb">The Death of Application.rb</a></li>
      <li><a href="http://archives.ryandaigle.com/articles/2008/11/19/what-s-new-in-edge-rails-application-rb-duality-is-no-more">What’s New in Edge Rails: Application.rb Duality is no More</a></li>
    </ul>
  </li>
</ul>

<h3 id="http-digest-authentication-support">HTTP Digest Authentication Support</h3>

<p>Rails now has built-in support for HTTP digest authentication. To use it, you call <code class="language-plaintext highlighter-rouge">authenticate_or_request_with_http_digest</code> with a block that returns the user’s password (which is then hashed and compared against the transmitted credentials):</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">PostsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="no">Users</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"dhh"</span> <span class="o">=&gt;</span> <span class="s2">"secret"</span><span class="p">}</span>
  <span class="n">before_filter</span> <span class="ss">:authenticate</span>

  <span class="k">def</span> <span class="nf">secret</span>
    <span class="n">render</span> <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">"Password Required!"</span>
  <span class="k">end</span>

  <span class="kp">private</span>
  <span class="k">def</span> <span class="nf">authenticate</span>
    <span class="n">realm</span> <span class="o">=</span> <span class="s2">"Application"</span>
    <span class="n">authenticate_or_request_with_http_digest</span><span class="p">(</span><span class="n">realm</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="nb">name</span><span class="o">|</span>
      <span class="no">Users</span><span class="p">[</span><span class="nb">name</span><span class="p">]</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<ul>
  <li>Lead Contributor: <a href="http://www.kellogg-assoc.com/">Gregg Kellogg</a></li>
  <li>More Information: <a href="http://archives.ryandaigle.com/articles/2009/1/30/what-s-new-in-edge-rails-http-digest-authentication">What’s New in Edge Rails: HTTP Digest Authentication</a></li>
</ul>

<h3 id="more-efficient-routing">More Efficient Routing</h3>

<p>There are a couple of significant routing changes in Rails 2.3. The <code class="language-plaintext highlighter-rouge">formatted_</code> route helpers are gone, in favor just passing in <code class="language-plaintext highlighter-rouge">:format</code> as an option. This cuts down the route generation process by 50% for any resource - and can save a substantial amount of memory (up to 100MB on large applications). If your code uses the <code class="language-plaintext highlighter-rouge">formatted_</code> helpers, it will still work for the time being - but that behavior is deprecated and your application will be more efficient if you rewrite those routes using the new standard. Another big change is that Rails now supports multiple routing files, not just <code class="language-plaintext highlighter-rouge">routes.rb</code>. You can use <code class="language-plaintext highlighter-rouge">RouteSet#add_configuration_file</code> to bring in more routes at any time - without clearing the currently loaded routes. While this change is most useful for Engines, you can use it in any application that needs to load routes in batches.</p>

<ul>
  <li>Lead Contributors: <a href="http://blog.hungrymachine.com/">Aaron Batalion</a></li>
</ul>

<h3 id="rack-based-lazy-loaded-sessions">Rack-based Lazy-loaded Sessions</h3>

<p>A big change pushed the underpinnings of Action Controller session storage down to the Rack level. This involved a good deal of work in the code, though it should be completely transparent to your Rails applications (as a bonus, some icky patches around the old CGI session handler got removed). It’s still significant, though, for one simple reason: non-Rails Rack applications have access to the same session storage handlers (and therefore the same session) as your Rails applications. In addition, sessions are now lazy-loaded (in line with the loading improvements to the rest of the framework). This means that you no longer need to explicitly disable sessions if you don’t want them; just don’t refer to them and they won’t load.</p>

<h3 id="mime-type-handling-changes">MIME Type Handling Changes</h3>

<p>There are a couple of changes to the code for handling MIME types in Rails. First, <code class="language-plaintext highlighter-rouge">MIME::Type</code> now implements the <code class="language-plaintext highlighter-rouge">=~</code> operator, making things much cleaner when you need to check for the presence of a type that has synonyms:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">content_type</span> <span class="o">&amp;&amp;</span> <span class="no">Mime</span><span class="o">::</span><span class="no">JS</span> <span class="o">=~</span> <span class="n">content_type</span>
  <span class="c1"># do something cool</span>
<span class="k">end</span>

<span class="no">Mime</span><span class="o">::</span><span class="no">JS</span> <span class="o">=~</span> <span class="s2">"text/javascript"</span>        <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="no">Mime</span><span class="o">::</span><span class="no">JS</span> <span class="o">=~</span> <span class="s2">"application/javascript"</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</code></pre></div></div>

<p>The other change is that the framework now uses the <code class="language-plaintext highlighter-rouge">Mime::JS</code> when checking for JavaScript in various spots, making it handle those alternatives cleanly.</p>

<ul>
  <li>Lead Contributor: <a href="http://www.workingwithrails.com/person/5510-seth-fitzsimmons">Seth Fitzsimmons</a></li>
</ul>

<h3 id="optimization-of-respond_to">Optimization of <code class="language-plaintext highlighter-rouge">respond_to</code></h3>

<p>In some of the first fruits of the Rails-Merb team merger, Rails 2.3 includes some optimizations for the <code class="language-plaintext highlighter-rouge">respond_to</code> method, which is of course heavily used in many Rails applications to allow your controller to format results differently based on the MIME type of the incoming request. After eliminating a call to <code class="language-plaintext highlighter-rouge">method_missing</code> and some profiling and tweaking, we’re seeing an 8% improvement in the number of requests per second served with a simple <code class="language-plaintext highlighter-rouge">respond_to</code> that switches between three formats. The best part? No change at all required to the code of your application to take advantage of this speedup.</p>

<h3 id="improved-caching-performance">Improved Caching Performance</h3>

<p>Rails now keeps a per-request local cache of read from the remote cache stores, cutting down on unnecessary reads and leading to better site performance. While this work was originally limited to <code class="language-plaintext highlighter-rouge">MemCacheStore</code>, it is available to any remote store than implements the required methods.</p>

<ul>
  <li>Lead Contributor: <a href="http://www.motionstandingstill.com/">Nahum Wild</a></li>
</ul>

<h3 id="localized-views">Localized Views</h3>

<p>Rails can now provide localized views, depending on the locale that you have set. For example, suppose you have a <code class="language-plaintext highlighter-rouge">Posts</code> controller with a <code class="language-plaintext highlighter-rouge">show</code> action. By default, this will render <code class="language-plaintext highlighter-rouge">app/views/posts/show.html.erb</code>. But if you set <code class="language-plaintext highlighter-rouge">I18n.locale = :da</code>, it will render <code class="language-plaintext highlighter-rouge">app/views/posts/show.da.html.erb</code>. If the localized template isn’t present, the undecorated version will be used. Rails also includes <code class="language-plaintext highlighter-rouge">I18n#available_locales</code> and <code class="language-plaintext highlighter-rouge">I18n::SimpleBackend#available_locales</code>, which return an array of the translations that are available in the current Rails project.</p>

<p>In addition, you can use the same scheme to localize the rescue files in the public directory: <code class="language-plaintext highlighter-rouge">public/500.da.html</code> or <code class="language-plaintext highlighter-rouge">public/404.en.html</code> work, for example.</p>

<h3 id="partial-scoping-for-translations">Partial Scoping for Translations</h3>

<p>A change to the translation API makes things easier and less repetitive to write key translations within partials. If you call <code class="language-plaintext highlighter-rouge">translate(".foo")</code> from the <code class="language-plaintext highlighter-rouge">people/index.html.erb</code> template, you’ll actually be calling <code class="language-plaintext highlighter-rouge">I18n.translate("people.index.foo")</code> If you don’t prepend the key with a period, then the API doesn’t scope, just as before.</p>

<h3 id="other-action-controller-changes">Other Action Controller Changes</h3>

<ul>
  <li>ETag handling has been cleaned up a bit: Rails will now skip sending an ETag header when there’s no body to the response or when sending files with <code class="language-plaintext highlighter-rouge">send_file</code>.</li>
  <li>The fact that Rails checks for IP spoofing can be a nuisance for sites that do heavy traffic with cell phones, because their proxies don’t generally set things up right. If that’s you, you can now set <code class="language-plaintext highlighter-rouge">ActionController::Base.ip_spoofing_check = false</code> to disable the check entirely.</li>
  <li><code class="language-plaintext highlighter-rouge">ActionController::Dispatcher</code> now implements its own middleware stack, which you can see by running <code class="language-plaintext highlighter-rouge">rake middleware</code>.</li>
  <li>Cookie sessions now have persistent session identifiers, with API compatibility with the server-side stores.</li>
  <li>You can now use symbols for the <code class="language-plaintext highlighter-rouge">:type</code> option of <code class="language-plaintext highlighter-rouge">send_file</code> and <code class="language-plaintext highlighter-rouge">send_data</code>, like this: <code class="language-plaintext highlighter-rouge">send_file("fabulous.png", :type =&gt; :png)</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">:only</code> and <code class="language-plaintext highlighter-rouge">:except</code> options for <code class="language-plaintext highlighter-rouge">map.resources</code> are no longer inherited by nested resources.</li>
  <li>The bundled memcached client has been updated to version 1.6.4.99.</li>
  <li>The <code class="language-plaintext highlighter-rouge">expires_in</code>, <code class="language-plaintext highlighter-rouge">stale?</code>, and <code class="language-plaintext highlighter-rouge">fresh_when</code> methods now accept a <code class="language-plaintext highlighter-rouge">:public</code> option to make them work well with proxy caching.</li>
  <li>The <code class="language-plaintext highlighter-rouge">:requirements</code> option now works properly with additional RESTful member routes.</li>
  <li>Shallow routes now properly respect namespaces.</li>
  <li><code class="language-plaintext highlighter-rouge">polymorphic_url</code> does a better job of handling objects with irregular plural names.</li>
</ul>

<h2 id="action-view">Action View</h2>

<p>Action View in Rails 2.3 picks up nested model forms, improvements to <code class="language-plaintext highlighter-rouge">render</code>, more flexible prompts for the date select helpers, and a speedup in asset caching, among other things.</p>

<h3 id="nested-object-forms">Nested Object Forms</h3>

<p>Provided the parent model accepts nested attributes for the child objects (as discussed in the Active Record section), you can create nested forms using <code class="language-plaintext highlighter-rouge">form_for</code> and <code class="language-plaintext highlighter-rouge">field_for</code>. These forms can be nested arbitrarily deep, allowing you to edit complex object hierarchies on a single view without excessive code. For example, given this model:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Customer</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">has_many</span> <span class="ss">:orders</span>

  <span class="n">accepts_nested_attributes_for</span> <span class="ss">:orders</span><span class="p">,</span> <span class="ss">:allow_destroy</span> <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="k">end</span>
</code></pre></div></div>

<p>You can write this view in Rails 2.3:</p>

<pre><code class="language-html+erb">&lt;% form_for @customer do |customer_form| %&gt;
  &lt;div&gt;
    &lt;%= customer_form.label :name, 'Customer Name:' %&gt;
    &lt;%= customer_form.text_field :name %&gt;
  &lt;/div&gt;

  &lt;!-- Here we call fields_for on the customer_form builder instance.
   The block is called for each member of the orders collection. --&gt;
  &lt;% customer_form.fields_for :orders do |order_form| %&gt;
    &lt;p&gt;
      &lt;div&gt;
        &lt;%= order_form.label :number, 'Order Number:' %&gt;
        &lt;%= order_form.text_field :number %&gt;
      &lt;/div&gt;

  &lt;!-- The allow_destroy option in the model enables deletion of
   child records. --&gt;
      &lt;% unless order_form.object.new_record? %&gt;
        &lt;div&gt;
          &lt;%= order_form.label :_delete, 'Remove:' %&gt;
          &lt;%= order_form.checkbox :_delete %&gt;
        &lt;/div&gt;
      &lt;% end %&gt;
    &lt;/p&gt;
  &lt;% end %&gt;

  &lt;%= customer_form.submit %&gt;
&lt;% end %&gt;
</code></pre>

<ul>
  <li>Lead Contributor: <a href="http://superalloy.nl/">Eloy Duran</a></li>
  <li>More Information:
    <ul>
      <li><a href="https://rubyonrails.org/2009/1/26/nested-model-forms">Nested Model Forms</a></li>
      <li><a href="https://github.com/alloy/complex-form-examples">complex-form-examples</a></li>
      <li><a href="http://archives.ryandaigle.com/articles/2009/2/1/what-s-new-in-edge-rails-nested-attributes">What’s New in Edge Rails: Nested Object Forms</a></li>
    </ul>
  </li>
</ul>

<h3 id="smart-rendering-of-partials">Smart Rendering of Partials</h3>

<p>The render method has been getting smarter over the years, and it’s even smarter now. If you have an object or a collection and an appropriate partial, and the naming matches up, you can now just render the object and things will work. For example, in Rails 2.3, these render calls will work in your view (assuming sensible naming):</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Equivalent of render :partial =&gt; 'articles/_article',</span>
<span class="c1"># :object =&gt; @article</span>
<span class="n">render</span> <span class="vi">@article</span>

<span class="c1"># Equivalent of render :partial =&gt; 'articles/_article',</span>
<span class="c1"># :collection =&gt; @articles</span>
<span class="n">render</span> <span class="vi">@articles</span>
</code></pre></div></div>

<ul>
  <li>More Information: <a href="http://archives.ryandaigle.com/articles/2008/11/20/what-s-new-in-edge-rails-render-stops-being-high-maintenance">What’s New in Edge Rails: render Stops Being High-Maintenance</a></li>
</ul>

<h3 id="prompts-for-date-select-helpers">Prompts for Date Select Helpers</h3>

<p>In Rails 2.3, you can supply custom prompts for the various date select helpers (<code class="language-plaintext highlighter-rouge">date_select</code>, <code class="language-plaintext highlighter-rouge">time_select</code>, and <code class="language-plaintext highlighter-rouge">datetime_select</code>), the same way you can with collection select helpers. You can supply a prompt string or a hash of individual prompt strings for the various components. You can also just set <code class="language-plaintext highlighter-rouge">:prompt</code> to <code class="language-plaintext highlighter-rouge">true</code> to use the custom generic prompt:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">select_datetime</span><span class="p">(</span><span class="no">DateTime</span><span class="p">.</span><span class="nf">now</span><span class="p">,</span> <span class="ss">:prompt</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span>

<span class="n">select_datetime</span><span class="p">(</span><span class="no">DateTime</span><span class="p">.</span><span class="nf">now</span><span class="p">,</span> <span class="ss">:prompt</span> <span class="o">=&gt;</span> <span class="s2">"Choose date and time"</span><span class="p">)</span>

<span class="n">select_datetime</span><span class="p">(</span><span class="no">DateTime</span><span class="p">.</span><span class="nf">now</span><span class="p">,</span> <span class="ss">:prompt</span> <span class="o">=&gt;</span>
  <span class="p">{</span><span class="ss">:day</span> <span class="o">=&gt;</span> <span class="s1">'Choose day'</span><span class="p">,</span> <span class="ss">:month</span> <span class="o">=&gt;</span> <span class="s1">'Choose month'</span><span class="p">,</span>
   <span class="ss">:year</span> <span class="o">=&gt;</span> <span class="s1">'Choose year'</span><span class="p">,</span> <span class="ss">:hour</span> <span class="o">=&gt;</span> <span class="s1">'Choose hour'</span><span class="p">,</span>
   <span class="ss">:minute</span> <span class="o">=&gt;</span> <span class="s1">'Choose minute'</span><span class="p">})</span>
</code></pre></div></div>

<ul>
  <li>Lead Contributor: <a href="http://samoliver.com/">Sam Oliver</a></li>
</ul>

<h3 id="assettag-timestamp-caching">AssetTag Timestamp Caching</h3>

<p>You’re likely familiar with Rails’ practice of adding timestamps to static asset paths as a “cache buster”. This helps ensure that stale copies of things like images and stylesheets don’t get served out of the user’s browser cache when you change them on the server. You can now modify this behavior with the <code class="language-plaintext highlighter-rouge">cache_asset_timestamps</code> configuration option for Action View. If you enable the cache, then Rails will calculate the timestamp once when it first serves an asset, and save that value. This means fewer (expensive) file system calls to serve static assets - but it also means that you can’t modify any of the assets while the server is running and expect the changes to get picked up by clients.</p>

<h3 id="asset-hosts-as-objects">Asset Hosts as Objects</h3>

<p>Asset hosts get more flexible in edge Rails with the ability to declare an asset host as a specific object that responds to a call. This allows you to implement any complex logic you need in your asset hosting.</p>

<ul>
  <li>More Information: <a href="https://github.com/dhh/asset-hosting-with-minimum-ssl/tree/master">asset-hosting-with-minimum-ssl</a></li>
</ul>

<h3 id="grouped_options_for_select-helper-method">grouped_options_for_select Helper Method</h3>

<p>Action View already had a bunch of helpers to aid in generating select controls, but now there’s one more: <code class="language-plaintext highlighter-rouge">grouped_options_for_select</code>. This one accepts an array or hash of strings, and converts them into a string of <code class="language-plaintext highlighter-rouge">option</code> tags wrapped with <code class="language-plaintext highlighter-rouge">optgroup</code> tags. For example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">grouped_options_for_select</span><span class="p">([[</span><span class="s2">"Hats"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"Baseball Cap"</span><span class="p">,</span><span class="s2">"Cowboy Hat"</span><span class="p">]]],</span>
  <span class="s2">"Cowboy Hat"</span><span class="p">,</span> <span class="s2">"Choose a product..."</span><span class="p">)</span>
</code></pre></div></div>

<p>returns</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">""</span><span class="nt">&gt;</span>Choose a product...<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;optgroup</span> <span class="na">label=</span><span class="s">"Hats"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"Baseball Cap"</span><span class="nt">&gt;</span>Baseball Cap<span class="nt">&lt;/option&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">selected=</span><span class="s">"selected"</span> <span class="na">value=</span><span class="s">"Cowboy Hat"</span><span class="nt">&gt;</span>Cowboy Hat<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/optgroup&gt;</span>
</code></pre></div></div>

<h3 id="disabled-option-tags-for-form-select-helpers">Disabled Option Tags for Form Select Helpers</h3>

<p>The form select helpers (such as <code class="language-plaintext highlighter-rouge">select</code> and <code class="language-plaintext highlighter-rouge">options_for_select</code>) now support a <code class="language-plaintext highlighter-rouge">:disabled</code> option, which can take a single value or an array of values to be disabled in the resulting tags:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">select</span><span class="p">(</span><span class="ss">:post</span><span class="p">,</span> <span class="ss">:category</span><span class="p">,</span> <span class="no">Post</span><span class="o">::</span><span class="no">CATEGORIES</span><span class="p">,</span> <span class="ss">:disabled</span> <span class="o">=&gt;</span> <span class="s1">'private'</span><span class="p">)</span>
</code></pre></div></div>

<p>returns</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;select</span> <span class="na">name=</span><span class="s">"post[category]"</span><span class="nt">&gt;</span>
<span class="nt">&lt;option&gt;</span>story<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;option&gt;</span>joke<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;option&gt;</span>poem<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;option</span> <span class="na">disabled=</span><span class="s">"disabled"</span><span class="nt">&gt;</span>private<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</code></pre></div></div>

<p>You can also use an anonymous function to determine at runtime which options from collections will be selected and/or disabled:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">options_from_collection_for_select</span><span class="p">(</span><span class="vi">@product</span><span class="p">.</span><span class="nf">sizes</span><span class="p">,</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:disabled</span> <span class="o">=&gt;</span> <span class="nb">lambda</span><span class="p">{</span><span class="o">|</span><span class="n">size</span><span class="o">|</span> <span class="n">size</span><span class="p">.</span><span class="nf">out_of_stock?</span><span class="p">})</span>
</code></pre></div></div>

<ul>
  <li>Lead Contributor: <a href="http://tekin.co.uk/">Tekin Suleyman</a></li>
  <li>More Information: <a href="https://tekin.co.uk/2009/03/new-in-rails-23-disabled-option-tags-and-lambdas-for-selecting-and-disabling-options-from-collections">New in Rails 2.3 - disabled option tags and lambdas for selecting and disabling options from collections</a></li>
</ul>

<h3 id="a-note-about-template-loading">A Note About Template Loading</h3>

<p>Rails 2.3 includes the ability to enable or disable cached templates for any particular environment. Cached templates give you a speed boost because they don’t check for a new template file when they’re rendered - but they also mean that you can’t replace a template “on the fly” without restarting the server.</p>

<p>In most cases, you’ll want template caching to be turned on in production, which you can do by making a setting in your <code class="language-plaintext highlighter-rouge">production.rb</code> file:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">config</span><span class="p">.</span><span class="nf">action_view</span><span class="p">.</span><span class="nf">cache_template_loading</span> <span class="o">=</span> <span class="kp">true</span>
</code></pre></div></div>

<p>This line will be generated for you by default in a new Rails 2.3 application. If you’ve upgraded from an older version of Rails, Rails will default to caching templates in production and test but not in development.</p>

<h3 id="other-action-view-changes">Other Action View Changes</h3>

<ul>
  <li>Token generation for CSRF protection has been simplified; now Rails uses a simple random string generated by <code class="language-plaintext highlighter-rouge">ActiveSupport::SecureRandom</code> rather than mucking around with session IDs.</li>
  <li><code class="language-plaintext highlighter-rouge">auto_link</code> now properly applies options (such as <code class="language-plaintext highlighter-rouge">:target</code> and <code class="language-plaintext highlighter-rouge">:class</code>) to generated e-mail links.</li>
  <li>The <code class="language-plaintext highlighter-rouge">autolink</code> helper has been refactored to make it a bit less messy and more intuitive.</li>
  <li><code class="language-plaintext highlighter-rouge">current_page?</code> now works properly even when there are multiple query parameters in the URL.</li>
</ul>

<h2 id="active-support">Active Support</h2>

<p>Active Support has a few interesting changes, including the introduction of <code class="language-plaintext highlighter-rouge">Object#try</code>.</p>

<h3 id="objecttry">Object#try</h3>

<p>A lot of folks have adopted the notion of using try() to attempt operations on objects. It’s especially helpful in views where you can avoid nil-checking by writing code like <code class="language-plaintext highlighter-rouge">&lt;%= @person.try(:name) %&gt;</code>. Well, now it’s baked right into Rails. As implemented in Rails, it raises <code class="language-plaintext highlighter-rouge">NoMethodError</code> on private methods and always returns <code class="language-plaintext highlighter-rouge">nil</code> if the object is nil.</p>

<ul>
  <li>More Information: <a href="http://ozmm.org/posts/try.html">try()</a></li>
</ul>

<h3 id="objecttap-backport">Object#tap Backport</h3>

<p><code class="language-plaintext highlighter-rouge">Object#tap</code> is an addition to <a href="https://docs.ruby-lang.org/en/master/Kernel.html#method-i-tap">Ruby 1.9</a> and 1.8.7 that is similar to the <code class="language-plaintext highlighter-rouge">returning</code> method that Rails has had for a while: it yields to a block, and then returns the object that was yielded. Rails now includes code to make this available under older versions of Ruby as well.</p>

<h3 id="swappable-parsers-for-xmlmini">Swappable Parsers for XMLmini</h3>

<p>The support for XML parsing in Active Support has been made more flexible by allowing you to swap in different parsers. By default, it uses the standard REXML implementation, but you can easily specify the faster LibXML or Nokogiri implementations for your own applications, provided you have the appropriate gems installed:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">XmlMini</span><span class="p">.</span><span class="nf">backend</span> <span class="o">=</span> <span class="s1">'LibXML'</span>
</code></pre></div></div>

<ul>
  <li>Lead Contributor: <a href="http://www.movesonrails.com/">Bart ten Brinke</a></li>
  <li>Lead Contributor: <a href="http://tenderlovemaking.com/">Aaron Patterson</a></li>
</ul>

<h3 id="fractional-seconds-for-timewithzone">Fractional seconds for TimeWithZone</h3>

<p>The <code class="language-plaintext highlighter-rouge">Time</code> and <code class="language-plaintext highlighter-rouge">TimeWithZone</code> classes include an <code class="language-plaintext highlighter-rouge">xmlschema</code> method to return the time in an XML-friendly string. As of Rails 2.3, <code class="language-plaintext highlighter-rouge">TimeWithZone</code> supports the same argument for specifying the number of digits in the fractional second part of the returned string that <code class="language-plaintext highlighter-rouge">Time</code> does:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Time</span><span class="p">.</span><span class="nf">zone</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">xmlschema</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="c1"># =&gt; "2009-01-16T13:00:06.13653Z"</span>
</code></pre></div></div>

<ul>
  <li>Lead Contributor: <a href="http://www.workingwithrails.com/person/13536-nicholas-dainty">Nicholas Dainty</a></li>
</ul>

<h3 id="json-key-quoting">JSON Key Quoting</h3>

<p>If you look up the spec on the “json.org” site, you’ll discover that all keys in a JSON structure must be strings, and they must be quoted with double quotes. Starting with Rails 2.3, we do the right thing here, even with numeric keys.</p>

<h3 id="other-active-support-changes">Other Active Support Changes</h3>

<ul>
  <li>You can use <code class="language-plaintext highlighter-rouge">Enumerable#none?</code> to check that none of the elements match the supplied block.</li>
  <li>If you’re using Active Support <a href="https://afreshcup.com/home/2008/10/19/coming-in-rails-22-delegate-prefixes">delegates</a> the new <code class="language-plaintext highlighter-rouge">:allow_nil</code> option lets you return <code class="language-plaintext highlighter-rouge">nil</code> instead of raising an exception when the target object is nil.</li>
  <li><code class="language-plaintext highlighter-rouge">ActiveSupport::OrderedHash</code>: now implements <code class="language-plaintext highlighter-rouge">each_key</code> and <code class="language-plaintext highlighter-rouge">each_value</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ActiveSupport::MessageEncryptor</code> provides a simple way to encrypt information for storage in an untrusted location (like cookies).</li>
  <li>Active Support’s <code class="language-plaintext highlighter-rouge">from_xml</code> no longer depends on XmlSimple. Instead, Rails now includes its own XmlMini implementation, with just the functionality that it requires. This lets Rails dispense with the bundled copy of XmlSimple that it’s been carting around.</li>
  <li>If you memoize a private method, the result will now be private.</li>
  <li><code class="language-plaintext highlighter-rouge">String#parameterize</code> accepts an optional separator: <code class="language-plaintext highlighter-rouge">"Quick Brown Fox".parameterize('_') =&gt; "quick_brown_fox"</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">number_to_phone</code> accepts 7-digit phone numbers now.</li>
  <li><code class="language-plaintext highlighter-rouge">ActiveSupport::Json.decode</code> now handles <code class="language-plaintext highlighter-rouge">\u0000</code> style escape sequences.</li>
</ul>

<h2 id="railties">Railties</h2>

<p>In addition to the Rack changes covered above, Railties (the core code of Rails itself) sports a number of significant changes, including Rails Metal, application templates, and quiet backtraces.</p>

<h3 id="rails-metal">Rails Metal</h3>

<p>Rails Metal is a new mechanism that provides superfast endpoints inside of your Rails applications. Metal classes bypass routing and Action Controller to give you raw speed (at the cost of all the things in Action Controller, of course). This builds on all of the recent foundation work to make Rails a Rack application with an exposed middleware stack. Metal endpoints can be loaded from your application or from plugins.</p>

<ul>
  <li>More Information:
    <ul>
      <li><a href="https://rubyonrails.org/2008/12/17/introducing-rails-metal">Introducing Rails Metal</a></li>
      <li><a href="http://soylentfoo.jnewland.com/articles/2008/12/16/rails-metal-a-micro-framework-with-the-power-of-rails-m">Rails Metal: a micro-framework with the power of Rails</a></li>
      <li><a href="http://www.railsinside.com/deployment/180-metal-super-fast-endpoints-within-your-rails-apps.html">Metal: Super-fast Endpoints within your Rails Apps</a></li>
      <li><a href="http://archives.ryandaigle.com/articles/2008/12/18/what-s-new-in-edge-rails-rails-metal">What’s New in Edge Rails: Rails Metal</a></li>
    </ul>
  </li>
</ul>

<h3 id="application-templates">Application Templates</h3>

<p>Rails 2.3 incorporates Jeremy McAnally’s <a href="https://github.com/jm/rg">rg</a> application generator. What this means is that we now have template-based application generation built right into Rails; if you have a set of plugins you include in every application (among many other use cases), you can just set up a template once and use it over and over again when you run the <code class="language-plaintext highlighter-rouge">rails</code> command. There’s also a rake task to apply a template to an existing application:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rake rails:template <span class="nv">LOCATION</span><span class="o">=</span>~/template.rb
</code></pre></div></div>

<p>This will layer the changes from the template on top of whatever code the project already contains.</p>

<ul>
  <li>Lead Contributor: <a href="http://www.jeremymcanally.com/">Jeremy McAnally</a></li>
  <li>More Info:<a href="http://m.onkey.org/2008/12/4/rails-templates">Rails templates</a></li>
</ul>

<h3 id="quieter-backtraces">Quieter Backtraces</h3>

<p>Building on thoughtbot’s <a href="https://github.com/thoughtbot/quietbacktrace">Quiet Backtrace</a> plugin, which allows you to selectively remove lines from <code class="language-plaintext highlighter-rouge">Test::Unit</code> backtraces, Rails 2.3 implements <code class="language-plaintext highlighter-rouge">ActiveSupport::BacktraceCleaner</code> and <code class="language-plaintext highlighter-rouge">Rails::BacktraceCleaner</code> in core. This supports both filters (to perform regex-based substitutions on backtrace lines) and silencers (to remove backtrace lines entirely). Rails automatically adds silencers to get rid of the most common noise in a new application, and builds a <code class="language-plaintext highlighter-rouge">config/backtrace_silencers.rb</code> file to hold your own additions. This feature also enables prettier printing from any gem in the backtrace.</p>

<h3 id="faster-boot-time-in-development-mode-with-lazy-loadingautoload">Faster Boot Time in Development Mode with Lazy Loading/Autoload</h3>

<p>Quite a bit of work was done to make sure that bits of Rails (and its dependencies) are only brought into memory when they’re actually needed. The core frameworks - Active Support, Active Record, Action Controller, Action Mailer, and Action View - are now using <code class="language-plaintext highlighter-rouge">autoload</code> to lazy-load their individual classes. This work should help keep the memory footprint down and improve overall Rails performance.</p>

<p>You can also specify (by using the new <code class="language-plaintext highlighter-rouge">preload_frameworks</code> option) whether the core libraries should be autoloaded at startup. This defaults to <code class="language-plaintext highlighter-rouge">false</code> so that Rails autoloads itself piece-by-piece, but there are some circumstances where you still need to bring in everything at once - Passenger and JRuby both want to see all of Rails loaded together.</p>

<h3 id="rake-gem-task-rewrite">rake gem Task Rewrite</h3>

<p>The internals of the various <code>rake gem</code> tasks have been substantially revised, to make the system work better for a variety of cases. The gem system now knows the difference between development and runtime dependencies, has a more robust unpacking system, gives better information when querying for the status of gems, and is less prone to “chicken and egg” dependency issues when you’re bringing things up from scratch. There are also fixes for using gem commands under JRuby and for dependencies that try to bring in external copies of gems that are already vendored.</p>

<ul>
  <li>Lead Contributor: <a href="http://www.workingwithrails.com/person/12240-david-dollar">David Dollar</a></li>
</ul>

<h3 id="other-railties-changes">Other Railties Changes</h3>

<ul>
  <li>The instructions for updating a CI server to build Rails have been updated and expanded.</li>
  <li>Internal Rails testing has been switched from <code class="language-plaintext highlighter-rouge">Test::Unit::TestCase</code> to <code class="language-plaintext highlighter-rouge">ActiveSupport::TestCase</code>, and the Rails core requires Mocha to test.</li>
  <li>The default <code class="language-plaintext highlighter-rouge">environment.rb</code> file has been decluttered.</li>
  <li>The dbconsole script now lets you use an all-numeric password without crashing.</li>
  <li><code class="language-plaintext highlighter-rouge">Rails.root</code> now returns a <code class="language-plaintext highlighter-rouge">Pathname</code> object, which means you can use it directly with the <code class="language-plaintext highlighter-rouge">join</code> method to <a href="https://afreshcup.wordpress.com/2008/12/05/a-little-rails_root-tidiness/">clean up existing code</a> that uses <code class="language-plaintext highlighter-rouge">File.join</code>.</li>
  <li>Various files in /public that deal with CGI and FCGI dispatching are no longer generated in every Rails application by default (you can still get them if you need them by adding <code class="language-plaintext highlighter-rouge">--with-dispatchers</code> when you run the <code class="language-plaintext highlighter-rouge">rails</code> command, or add them later with <code class="language-plaintext highlighter-rouge">rake rails:update:generate_dispatchers</code>).</li>
  <li>Rails Guides have been converted from AsciiDoc to Textile markup.</li>
  <li>Scaffolded views and controllers have been cleaned up a bit.</li>
  <li><code class="language-plaintext highlighter-rouge">script/server</code> now accepts a <code class="language-plaintext highlighter-rouge">--path</code> argument to mount a Rails application from a specific path.</li>
  <li>If any configured gems are missing, the gem rake tasks will skip loading much of the environment. This should solve many of the “chicken-and-egg” problems where rake gems:install couldn’t run because gems were missing.</li>
  <li>Gems are now unpacked exactly once. This fixes issues with gems (hoe, for instance) which are packed with read-only permissions on the files.</li>
</ul>

<h2 id="deprecated">Deprecated</h2>

<p>A few pieces of older code are deprecated in this release:</p>

<ul>
  <li>If you’re one of the (fairly rare) Rails developers who deploys in a fashion that depends on the inspector, reaper, and spawner scripts, you’ll need to know that those scripts are no longer included in core Rails. If you need them, you’ll be able to pick up copies via the <a href="https://github.com/rails/irs_process_scripts">irs_process_scripts</a> plugin.</li>
  <li><code class="language-plaintext highlighter-rouge">render_component</code> goes from “deprecated” to “nonexistent” in Rails 2.3. If you still need it, you can install the <a href="https://github.com/rails/render_component/tree/master">render_component plugin</a>.</li>
  <li>Support for Rails components has been removed.</li>
  <li>If you were one of the people who got used to running <code class="language-plaintext highlighter-rouge">script/performance/request</code> to look at performance based on integration tests, you need to learn a new trick: that script has been removed from core Rails now. There’s a new request_profiler plugin that you can install to get the exact same functionality back.</li>
  <li><code class="language-plaintext highlighter-rouge">ActionController::Base#session_enabled?</code> is deprecated because sessions are lazy-loaded now.</li>
  <li>The <code class="language-plaintext highlighter-rouge">:digest</code> and <code class="language-plaintext highlighter-rouge">:secret</code> options to <code class="language-plaintext highlighter-rouge">protect_from_forgery</code> are deprecated and have no effect.</li>
  <li>Some integration test helpers have been removed. <code class="language-plaintext highlighter-rouge">response.headers["Status"]</code> and <code class="language-plaintext highlighter-rouge">headers["Status"]</code> will no longer return anything. Rack does not allow “Status” in its return headers. However you can still use the <code class="language-plaintext highlighter-rouge">status</code> and <code class="language-plaintext highlighter-rouge">status_message</code> helpers. <code class="language-plaintext highlighter-rouge">response.headers["cookie"]</code> and <code class="language-plaintext highlighter-rouge">headers["cookie"]</code> will no longer return any CGI cookies. You can inspect <code class="language-plaintext highlighter-rouge">headers["Set-Cookie"]</code> to see the raw cookie header or use the <code class="language-plaintext highlighter-rouge">cookies</code> helper to get a hash of the cookies sent to the client.</li>
  <li><code class="language-plaintext highlighter-rouge">formatted_polymorphic_url</code> is deprecated. Use <code class="language-plaintext highlighter-rouge">polymorphic_url</code> with <code class="language-plaintext highlighter-rouge">:format</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">:http_only</code> option in <code class="language-plaintext highlighter-rouge">ActionController::Response#set_cookie</code> has been renamed to <code class="language-plaintext highlighter-rouge">:httponly</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">:connector</code> and <code class="language-plaintext highlighter-rouge">:skip_last_comma</code> options of <code class="language-plaintext highlighter-rouge">to_sentence</code> have been replaced by <code class="language-plaintext highlighter-rouge">:words_connector</code>, <code class="language-plaintext highlighter-rouge">:two_words_connector</code>, and <code class="language-plaintext highlighter-rouge">:last_word_connector</code> options.</li>
  <li>Posting a multipart form with an empty <code class="language-plaintext highlighter-rouge">file_field</code> control used to submit an empty string to the controller. Now it submits a nil, due to differences between Rack’s multipart parser and the old Rails one.</li>
</ul>

<h2 id="credits">Credits</h2>

<p>Release notes compiled by <a href="http://afreshcup.com">Mike Gunderloy</a>. This version of the Rails 2.3 release notes was compiled based on RC2 of Rails 2.3.</p>
</div>
  </article>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toc = document.getElementById("toc");
    const headings = document.querySelectorAll(
      ".guide-content h2, .guide-content h3, .guide-content h4"
    );

    if (headings.length > 0) {
      const tocList = document.createElement("ul");
      const headingMap = new Map();

      // Türkçe karakterleri URL-dostu hale getiren fonksiyon
      function turkishToSlug(text) {
        const turkishChars = {
          'ç': 'c', 'Ç': 'c',
          'ğ': 'g', 'Ğ': 'g',
          'ı': 'i', 'I': 'i',
          'İ': 'i', 'i': 'i',
          'ö': 'o', 'Ö': 'o',
          'ş': 's', 'Ş': 's',
          'ü': 'u', 'Ü': 'u'
        };
        
        return text
          .split('')
          .map(char => turkishChars[char] || char)
          .join('')
          .toLowerCase()
          .replace(/[^a-z0-9]+/g, '-')
          .replace(/^-+|-+$/g, '');
      }

      // Aynı ID'nin tekrarlanmasını önlemek için sayaç
      const idCounts = new Map();

      headings.forEach(function (heading, index) {
        // Başlık metninden anlamlı ID oluştur
        const headingText = heading.textContent.trim();
        let baseId = turkishToSlug(headingText);
        
        // Boş ID kontrolü
        if (!baseId) {
          baseId = "heading-" + index;
        }
        
        // Tekrarlanan ID'leri önle
        let finalId = baseId;
        if (idCounts.has(baseId)) {
          const count = idCounts.get(baseId) + 1;
          idCounts.set(baseId, count);
          finalId = baseId + "-" + count;
        } else {
          idCounts.set(baseId, 1);
        }
        
        heading.id = finalId;

        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = "#" + finalId;
        a.textContent = headingText;
        a.className = "toc-" + heading.tagName.toLowerCase();

        li.appendChild(a);
        tocList.appendChild(li);

        headingMap.set(finalId, a);
      });

      toc.appendChild(tocList);

      // Başlıkların görünürlük oranlarını takip et
      const visibilityMap = new Map();

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            const id = entry.target.getAttribute("id");
            visibilityMap.set(id, entry.intersectionRatio);
          });

          // En çok görünür olan başlığı bul
          let mostVisibleId = null;
          let maxRatio = 0;

          visibilityMap.forEach((ratio, id) => {
            if (ratio > maxRatio) {
              mostVisibleId = id;
              maxRatio = ratio;
            }
          });

          if (mostVisibleId) {
            headingMap.forEach((linkEl) => linkEl.classList.remove("active"));
            const activeLink = headingMap.get(mostVisibleId);
            if (activeLink) {
              activeLink.classList.add("active");

              // Ortalamak için:
              const linkTop = activeLink.offsetTop;
              const linkHeight = activeLink.offsetHeight;
              const tocScrollParent = toc;
              const tocHeight = tocScrollParent.offsetHeight;

              tocScrollParent.scrollTo({
                top: linkTop - tocHeight / 2 + linkHeight / 2,
                behavior: "smooth",
              });
            }
          }
        },
        {
          threshold: [0, 0.25, 0.5, 0.75, 1.0],
        }
      );

      headings.forEach((heading) => {
        observer.observe(heading);
      });

      const toggleBtn = document.getElementById("toc-toggle");
      const sidebar = document.querySelector(".guide-sidebar");

      toggleBtn.addEventListener("click", function () {
        sidebar.classList.toggle("open");
      });
      const closeBtn = document.querySelector(".toc-close");

      closeBtn?.addEventListener("click", function () {
        sidebar.classList.remove("open");
      });
    }
  });
</script>
        <!-- <footer class="guide-footer"> -->
        <div class="feedback">
          <h3>Geri Bildirim</h3>
          <p>
            Bu rehberin kalitesinin iyileştirilmesine yardımcı olmanızı
            öneririz.
          </p>
          <p>
            Herhangi bir yazım hatası veya olgusal hata görürseniz lütfen
            katkıda bulunun. Başlamak için,
            <a
              href="https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation"
              >dokümantasyon katkıları</a
            >
            bölümünü okuyabilirsiniz.
          </p>
          <p>
            Ayrıca eksik veya güncel olmayan içerik de bulabilirsiniz. Lütfen
            main için eksik olan belgeleri ekleyin. Sorunların main dalda zaten
            düzeltilip düzeltilmediğini doğrulamak için önce
            <a href="https://edgeguides.rubyonrails.org/">Edge Guides</a>'ı
            kontrol ettiğinizden emin olun. Stil ve kurallar için
            <a
              href="https://guides.rubyonrails.org/v8.0/ruby_on_rails_guides_guidelines.html"
              >Ruby on Rails Guides Guidelines</a
            >'ı kontrol edin.
          </p>
          <p>
            Herhangi bir sebepten dolayı düzeltebileceğiniz bir şey bulursanız
            ancak kendiniz patch yapamıyorsanız lütfen bir
            <a href="https://github.com/rails/rails/issues">issue</a> açın.
          </p>
          <p>
            Ve son olarak, Ruby on Rails dokümantasyonu ile ilgili her türlü
            tartışma resmi
            <a href="https://discuss.rubyonrails.org/c/rubyonrails-docs/6"
              >Ruby on Rails Forum</a
            >'unda memnuniyetle karşılanacaktır.
          </p>
        </div>
      </div>
    </main>

    <button id="scrollToTop" class="scroll-to-top" aria-label="Yukarı çık">
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <polyline points="18,15 12,9 6,15"></polyline>
      </svg>
    </button>

    <footer class="footer">
      <div class="container">
        <p>
          Bu çalışma <a href=" Creative Commons Attribution-ShareAlike 4.0 International">Creative Commons Attribution-ShareAlike 4.0 International</a> Lisansı kapsamında lisanslanmıştır.
          </p>
        <p>
          "Rails", "Ruby on Rails" ve Rails logosu David Heinemeier Hansson'un ticari markalarıdır. Tüm hakları saklıdır.
        </p><br/>
        <p>
          &copy; 2025 Rails Kılavuzları Türkçe Çevirisi.
          <a href="https://github.com/DilanKaya127">Dilan Kaya</a> tarafından
          hazırlanmıştır.
          Orijinal dokümantasyon
          <a href="https://guides.rubyonrails.org">Ruby on Rails</a> ekibine
          aittir.
        </p>
        

      </div>
    </footer>

    <script>
      hljs.highlightAll();
      // Yukarı çık butonu işlevselliği
      const scrollToTopBtn = document.getElementById("scrollToTop");

      // Scroll pozisyonunu kontrol et
      window.addEventListener("scroll", function () {
        if (window.pageYOffset > 500) {
          scrollToTopBtn.classList.add("visible");
        } else {
          scrollToTopBtn.classList.remove("visible");
        }
      });

      // Butona tıklandığında yukarı çık
      scrollToTopBtn.addEventListener("click", function () {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });
    </script>
  </body>
</html>
