<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      7 0 Release Notes - Rails Dokümantasyonu - Türkçe
    </title>
    <link
      rel="stylesheet"
      href="/assets/css/rails.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css"
    />

    <link
      rel="icon"
      type="image/svg"
      href="/assets/images/logo_rails-circle.svg"
    />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-Y6Q8S53SSQ"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-Y6Q8S53SSQ");
    </script>
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="header-content">
          <h1 class="logo">
            <a href="/rails/">
              <img
                src="/assets/images/logo_rails-circle.svg"
                alt="Rails Logo"
                class="logo-image"
              />
            </a>
          </h1>
          <nav class="nav">
            <a href="/">Ana Sayfa</a>
            <!-- <a href="https://dilankaya127.github.io">Portföy</a> -->

            <div class="dropdown">
              <a class="dropbtn">Kılavuzlar</a>
              <div class="dropdown-content multi-column">
                 
                <div class="dropdown-column">
                  <h4>Buradan Başlayın</h4>
                  
                  <a href="/rails/guides/tr/getting_started">Rails ile Başlarken</a>
                  
                  <a href="/rails/guides/tr/install_ruby_on_rails">Ruby on Rails İndirme Kılavuzu</a>
                  
                </div>
                      
                <div class="dropdown-column">
                  <h4>Controllers</h4>
                  
                  <a href="/rails/guides/tr/action_controller_overview">Action Controller</a>
                  
                </div>
                  
                <div class="dropdown-column">
                  <h4>Diğer Bileşenler</h4>
                  
                  <a href="/rails/guides/tr/action_cable_overview">Action Cable</a>
                  
                </div>
                               
              </div>
            </div>
            <a href="https://github.com/dilankaya127/rails-tr-TR">GitHub</a>
          </nav>
        </div>
      </div>
    </header>

    <main class="main">
      <div class="container">
        <div class="guide-container">
  <button id="toc-toggle" class="toc-toggle">☰ İçindekiler</button>

  <aside class="guide-sidebar">
    <div class="guide-toc">
      <!-- <h3>İçindekiler</h3> -->
      <div id="toc"></div>
      <button class="toc-close" aria-label="İçindekileri Kapat">✕</button>
    </div>

    <!-- <div class="guide-nav">
            <h3>Diğer(Tüm) Kılavuzlar</h3>
            <ul>
                <li><a href="/rails/guides/tr/getting_started">Rails ile Başlarken</a></li>
                <li><a href="/rails/guides/en/active_record_basics">Active Record Temelleri</a></li>
                <li><a href="/rails/guides//en/action_controller_overview">Action Controller</a></li>
                <li><a href="/rails/guides/tr/action_cable_overview">Action Cable</a></li>
            </ul>
        </div> -->
  </aside>

  <article class="guide-content">
    <!-- <header class="guide-header">
            <h1>7 0 Release Notes</h1>
            
        </header> -->

    <div class="guide-body"><p><strong>DO NOT READ THIS FILE ON GITHUB, GUIDES ARE PUBLISHED ON <a href="https://guides.rubyonrails.org">https://guides.rubyonrails.org</a>.</strong></p>

<h1 id="ruby-on-rails-70-release-notes">Ruby on Rails 7.0 Release Notes</h1>

<p>Highlights in Rails 7.0:</p>

<ul>
  <li>Ruby 2.7.0+ required, Ruby 3.0+ preferred</li>
</ul>

<hr />

<h2 id="upgrading-to-rails-70">Upgrading to Rails 7.0</h2>

<p>If you’re upgrading an existing application, it’s a great idea to have good test
coverage before going in. You should also first upgrade to Rails 6.1 in case you
haven’t and make sure your application still runs as expected before attempting
an update to Rails 7.0. A list of things to watch out for when upgrading is
available in the
<a href="upgrading_ruby_on_rails.html#upgrading-from-rails-6-1-to-rails-7-0">Upgrading Ruby on Rails</a>
guide.</p>

<h2 id="major-features">Major Features</h2>

<h2 id="railties">Railties</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/railties/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals">Removals</h3>

<ul>
  <li>Remove deprecated <code class="language-plaintext highlighter-rouge">config</code> in <code class="language-plaintext highlighter-rouge">dbconsole</code>.</li>
</ul>

<h3 id="deprecations">Deprecations</h3>

<h3 id="notable-changes">Notable changes</h3>

<ul>
  <li>
    <p>Sprockets is now an optional dependency</p>

    <p>The gem <code class="language-plaintext highlighter-rouge">rails</code> doesn’t depend on <code class="language-plaintext highlighter-rouge">sprockets-rails</code> anymore. If your application still needs to use Sprockets,
make sure to add <code class="language-plaintext highlighter-rouge">sprockets-rails</code> to your Gemfile.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem "sprockets-rails"
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="action-cable">Action Cable</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actioncable/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-1">Removals</h3>

<h3 id="deprecations-1">Deprecations</h3>

<h3 id="notable-changes-1">Notable changes</h3>

<h2 id="action-pack">Action Pack</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actionpack/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-2">Removals</h3>

<ul>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActionDispatch::Response.return_only_media_type_on_content_type</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">Rails.config.action_dispatch.hosts_response_app</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActionDispatch::SystemTestCase#host!</code>.</p>
  </li>
  <li>
    <p>Remove deprecated support to passing a path to <code class="language-plaintext highlighter-rouge">fixture_file_upload</code> relative to <code class="language-plaintext highlighter-rouge">fixture_path</code>.</p>
  </li>
</ul>

<h3 id="deprecations-2">Deprecations</h3>

<h3 id="notable-changes-2">Notable changes</h3>

<h2 id="action-view">Action View</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actionview/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-3">Removals</h3>

<ul>
  <li>Remove deprecated <code class="language-plaintext highlighter-rouge">Rails.config.action_view.raise_on_missing_translations</code>.</li>
</ul>

<h3 id="deprecations-3">Deprecations</h3>

<h3 id="notable-changes-3">Notable changes</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">button_to</code> infers HTTP verb [method] from an Active Record object if object is used to build URL</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">button_to</span><span class="p">(</span><span class="s2">"Do a POST"</span><span class="p">,</span> <span class="p">[</span><span class="ss">:do_post_action</span><span class="p">,</span> <span class="no">Workshop</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span>
 <span class="c1"># Before</span>
 <span class="c1">#=&gt;   &lt;input type="hidden" name="_method" value="post" autocomplete="off" /&gt;</span>
 <span class="c1"># After</span>
 <span class="c1">#=&gt;   &lt;input type="hidden" name="_method" value="patch" autocomplete="off" /&gt;</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="action-mailer">Action Mailer</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actionmailer/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-4">Removals</h3>

<ul>
  <li>Remove deprecated <code class="language-plaintext highlighter-rouge">ActionMailer::DeliveryJob</code> and <code class="language-plaintext highlighter-rouge">ActionMailer::Parameterized::DeliveryJob</code>
in favor of <code class="language-plaintext highlighter-rouge">ActionMailer::MailDeliveryJob</code>.</li>
</ul>

<h3 id="deprecations-4">Deprecations</h3>

<h3 id="notable-changes-4">Notable changes</h3>

<h2 id="active-record">Active Record</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/activerecord/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-5">Removals</h3>

<ul>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">database</code> kwarg from <code class="language-plaintext highlighter-rouge">connected_to</code>.</p>
  </li>
  <li>
    <p>Remove deprecated  <code class="language-plaintext highlighter-rouge">ActiveRecord::Base.allow_unsafe_raw_sql</code>.</p>
  </li>
  <li>
    <p>Remove deprecated option <code class="language-plaintext highlighter-rouge">:spec_name</code> in the <code class="language-plaintext highlighter-rouge">configs_for</code> method.</p>
  </li>
  <li>
    <p>Remove deprecated support to YAML load <code class="language-plaintext highlighter-rouge">ActiveRecord::Base</code> instance in the Rails 4.2 and 4.1 formats.</p>
  </li>
  <li>
    <p>Remove deprecation warning when <code class="language-plaintext highlighter-rouge">:interval</code> column is used in PostgreSQL database.</p>

    <p>Now, interval columns will return <code class="language-plaintext highlighter-rouge">ActiveSupport::Duration</code> objects instead of strings.</p>

    <p>To keep the old behavior, you can add this line to your model:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">attribute</span> <span class="ss">:column</span><span class="p">,</span> <span class="ss">:string</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Remove deprecated support to resolve connection using <code class="language-plaintext highlighter-rouge">"primary"</code> as connection specification name.</p>
  </li>
  <li>
    <p>Remove deprecated support to quote <code class="language-plaintext highlighter-rouge">ActiveRecord::Base</code> objects.</p>
  </li>
  <li>
    <p>Remove deprecated support to type cast to database values <code class="language-plaintext highlighter-rouge">ActiveRecord::Base</code> objects.</p>
  </li>
  <li>
    <p>Remove deprecated support to pass a column to <code class="language-plaintext highlighter-rouge">type_cast</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">DatabaseConfig#config</code> method.</p>
  </li>
  <li>
    <p>Remove deprecated rake tasks:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">db:schema:load_if_ruby</code></li>
      <li><code class="language-plaintext highlighter-rouge">db:structure:dump</code></li>
      <li><code class="language-plaintext highlighter-rouge">db:structure:load</code></li>
      <li><code class="language-plaintext highlighter-rouge">db:structure:load_if_sql</code></li>
      <li><code class="language-plaintext highlighter-rouge">db:structure:dump:#{name}</code></li>
      <li><code class="language-plaintext highlighter-rouge">db:structure:load:#{name}</code></li>
      <li><code class="language-plaintext highlighter-rouge">db:test:load_structure</code></li>
      <li><code class="language-plaintext highlighter-rouge">db:test:load_structure:#{name}</code></li>
    </ul>
  </li>
  <li>
    <p>Remove deprecated support to <code class="language-plaintext highlighter-rouge">Model.reorder(nil).first</code> to search using non-deterministic order.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">environment</code> and <code class="language-plaintext highlighter-rouge">name</code> arguments from <code class="language-plaintext highlighter-rouge">Tasks::DatabaseTasks.schema_up_to_date?</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">Tasks::DatabaseTasks.dump_filename</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">Tasks::DatabaseTasks.schema_file</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">Tasks::DatabaseTasks.spec</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">Tasks::DatabaseTasks.current_config</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveRecord::Connection#allowed_index_name_length</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveRecord::Connection#in_clause_length</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveRecord::DatabaseConfigurations::DatabaseConfig#spec_name</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveRecord::Base.connection_config</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveRecord::Base.arel_attribute</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveRecord::Base.configurations.default_hash</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveRecord::Base.configurations.to_h</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveRecord::Result#map!</code> and <code class="language-plaintext highlighter-rouge">ActiveRecord::Result#collect!</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveRecord::Base#remove_connection</code>.</p>
  </li>
</ul>

<h3 id="deprecations-5">Deprecations</h3>

<ul>
  <li>Deprecated <code class="language-plaintext highlighter-rouge">Tasks::DatabaseTasks.schema_file_type</code>.</li>
</ul>

<h3 id="notable-changes-5">Notable changes</h3>

<ul>
  <li>
    <p>Rollback transactions when the block returns earlier than expected.</p>

    <p>Before this change, when a transaction block returned early, the transaction would be committed.</p>

    <p>The problem is that timeouts triggered inside the transaction block was also making the incomplete transaction
to be committed, so in order to avoid this mistake, the transaction block is rolled back.</p>
  </li>
  <li>
    <p>Merging conditions on the same column no longer maintain both conditions,
and will be consistently replaced by the latter condition.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Rails 6.1 (IN clause is replaced by merger side equality condition)</span>
<span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="p">[</span><span class="n">david</span><span class="p">.</span><span class="nf">id</span><span class="p">,</span> <span class="n">mary</span><span class="p">.</span><span class="nf">id</span><span class="p">]).</span><span class="nf">merge</span><span class="p">(</span><span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">bob</span><span class="p">))</span> <span class="c1"># =&gt; [bob]</span>
<span class="c1"># Rails 6.1 (both conflict conditions exists, deprecated)</span>
<span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">david</span><span class="p">.</span><span class="nf">id</span><span class="o">..</span><span class="n">mary</span><span class="p">.</span><span class="nf">id</span><span class="p">).</span><span class="nf">merge</span><span class="p">(</span><span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">bob</span><span class="p">))</span> <span class="c1"># =&gt; []</span>
<span class="c1"># Rails 6.1 with rewhere to migrate to Rails 7.0's behavior</span>
<span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">david</span><span class="p">.</span><span class="nf">id</span><span class="o">..</span><span class="n">mary</span><span class="p">.</span><span class="nf">id</span><span class="p">).</span><span class="nf">merge</span><span class="p">(</span><span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">bob</span><span class="p">),</span> <span class="ss">rewhere: </span><span class="kp">true</span><span class="p">)</span> <span class="c1"># =&gt; [bob]</span>
<span class="c1"># Rails 7.0 (same behavior with IN clause, mergee side condition is consistently replaced)</span>
<span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="p">[</span><span class="n">david</span><span class="p">.</span><span class="nf">id</span><span class="p">,</span> <span class="n">mary</span><span class="p">.</span><span class="nf">id</span><span class="p">]).</span><span class="nf">merge</span><span class="p">(</span><span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">bob</span><span class="p">))</span> <span class="c1"># =&gt; [bob]</span>
<span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">david</span><span class="p">.</span><span class="nf">id</span><span class="o">..</span><span class="n">mary</span><span class="p">.</span><span class="nf">id</span><span class="p">).</span><span class="nf">merge</span><span class="p">(</span><span class="no">Author</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">bob</span><span class="p">))</span> <span class="c1"># =&gt; [bob]</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="active-storage">Active Storage</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/activestorage/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-6">Removals</h3>

<h3 id="deprecations-6">Deprecations</h3>

<h3 id="notable-changes-6">Notable changes</h3>

<h2 id="active-model">Active Model</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/activemodel/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-7">Removals</h3>

<ul>
  <li>
    <p>Remove deprecated enumeration of <code class="language-plaintext highlighter-rouge">ActiveModel::Errors</code> instances as a Hash.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveModel::Errors#to_h</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveModel::Errors#slice!</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveModel::Errors#values</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveModel::Errors#keys</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveModel::Errors#to_xml</code>.</p>
  </li>
  <li>
    <p>Remove deprecated support concat errors to <code class="language-plaintext highlighter-rouge">ActiveModel::Errors#messages</code>.</p>
  </li>
  <li>
    <p>Remove deprecated support to <code class="language-plaintext highlighter-rouge">clear</code> errors from <code class="language-plaintext highlighter-rouge">ActiveModel::Errors#messages</code>.</p>
  </li>
  <li>
    <p>Remove deprecated support to <code class="language-plaintext highlighter-rouge">delete</code> errors from <code class="language-plaintext highlighter-rouge">ActiveModel::Errors#messages</code>.</p>
  </li>
  <li>
    <p>Remove deprecated support to use <code class="language-plaintext highlighter-rouge">[]=</code> in <code class="language-plaintext highlighter-rouge">ActiveModel::Errors#messages</code>.</p>
  </li>
  <li>
    <p>Remove support to Marshal and YAML load Rails 5.x error format.</p>
  </li>
  <li>
    <p>Remove support to Marshal load Rails 5.x <code class="language-plaintext highlighter-rouge">ActiveModel::AttributeSet</code> format.</p>
  </li>
</ul>

<h3 id="deprecations-7">Deprecations</h3>

<h3 id="notable-changes-7">Notable changes</h3>

<h2 id="active-support">Active Support</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/activesupport/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-8">Removals</h3>

<ul>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">config.active_support.use_sha1_digests</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">URI.parser</code>.</p>
  </li>
  <li>
    <p>Remove deprecated support to use <code class="language-plaintext highlighter-rouge">Range#include?</code> to check the inclusion of a value in
a date time range is deprecated.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">ActiveSupport::Multibyte::Unicode.default_normalization_form</code>.</p>
  </li>
</ul>

<h3 id="deprecations-8">Deprecations</h3>

<ul>
  <li>
    <p>Deprecate passing a format to <code class="language-plaintext highlighter-rouge">#to_s</code> in favor of <code class="language-plaintext highlighter-rouge">#to_fs</code> in <code class="language-plaintext highlighter-rouge">Array</code>, <code class="language-plaintext highlighter-rouge">Range</code>, <code class="language-plaintext highlighter-rouge">Date</code>, <code class="language-plaintext highlighter-rouge">DateTime</code>, <code class="language-plaintext highlighter-rouge">Time</code>,
<code class="language-plaintext highlighter-rouge">BigDecimal</code>, <code class="language-plaintext highlighter-rouge">Float</code> and, <code class="language-plaintext highlighter-rouge">Integer</code>.</p>

    <p>This deprecation is to allow Rails application to take advantage of a Ruby 3.1
<a href="https://github.com/ruby/ruby/commit/b08dacfea39ad8da3f1fd7fdd0e4538cc892ec44">optimization</a> that makes
interpolation of some types of objects faster.</p>

    <p>New applications will not have the <code class="language-plaintext highlighter-rouge">#to_s</code> method overridden on those classes, existing applications can use
<code class="language-plaintext highlighter-rouge">config.active_support.disable_to_s_conversion</code>.</p>
  </li>
</ul>

<h3 id="notable-changes-8">Notable changes</h3>

<h2 id="active-job">Active Job</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/activejob/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-9">Removals</h3>

<ul>
  <li>
    <p>Removed deprecated behavior that was not halting <code class="language-plaintext highlighter-rouge">after_enqueue</code>/<code class="language-plaintext highlighter-rouge">after_perform</code> callbacks when a
previous callback was halted with <code class="language-plaintext highlighter-rouge">throw :abort</code>.</p>
  </li>
  <li>
    <p>Remove deprecated <code class="language-plaintext highlighter-rouge">:return_false_on_aborted_enqueue</code> option.</p>
  </li>
</ul>

<h3 id="deprecations-9">Deprecations</h3>

<ul>
  <li>Deprecated <code class="language-plaintext highlighter-rouge">Rails.config.active_job.skip_after_callbacks_if_terminated</code>.</li>
</ul>

<h3 id="notable-changes-9">Notable changes</h3>

<h2 id="action-text">Action Text</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actiontext/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-10">Removals</h3>

<h3 id="deprecations-10">Deprecations</h3>

<h3 id="notable-changes-10">Notable changes</h3>

<h2 id="action-mailbox">Action Mailbox</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/actionmailbox/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="removals-11">Removals</h3>

<ul>
  <li>
    <p>Removed deprecated <code class="language-plaintext highlighter-rouge">Rails.application.credentials.action_mailbox.mailgun_api_key</code>.</p>
  </li>
  <li>
    <p>Removed deprecated environment variable <code class="language-plaintext highlighter-rouge">MAILGUN_INGRESS_API_KEY</code>.</p>
  </li>
</ul>

<h3 id="deprecations-11">Deprecations</h3>

<h3 id="notable-changes-11">Notable changes</h3>

<h2 id="ruby-on-rails-guides">Ruby on Rails Guides</h2>

<p>Please refer to the <a href="https://github.com/rails/rails/blob/7-0-stable/guides/CHANGELOG.md">Changelog</a> for detailed changes.</p>

<h3 id="notable-changes-12">Notable changes</h3>

<h2 id="credits">Credits</h2>

<p>See the
<a href="https://contributors.rubyonrails.org/">full list of contributors to Rails</a>
for the many people who spent many hours making Rails, the stable and robust
framework it is. Kudos to all of them.</p>

</div>
  </article>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toc = document.getElementById("toc");
    const headings = document.querySelectorAll(
      ".guide-content h2, .guide-content h3, .guide-content h4"
    );

    if (headings.length > 0) {
      const tocList = document.createElement("ul");
      const headingMap = new Map();

      // Türkçe karakterleri URL-dostu hale getiren fonksiyon
      function turkishToSlug(text) {
        const turkishChars = {
          'ç': 'c', 'Ç': 'c',
          'ğ': 'g', 'Ğ': 'g',
          'ı': 'i', 'I': 'i',
          'İ': 'i', 'i': 'i',
          'ö': 'o', 'Ö': 'o',
          'ş': 's', 'Ş': 's',
          'ü': 'u', 'Ü': 'u'
        };
        
        return text
          .split('')
          .map(char => turkishChars[char] || char)
          .join('')
          .toLowerCase()
          .replace(/[^a-z0-9]+/g, '-')
          .replace(/^-+|-+$/g, '');
      }

      // Aynı ID'nin tekrarlanmasını önlemek için sayaç
      const idCounts = new Map();

      headings.forEach(function (heading, index) {
        // Başlık metninden anlamlı ID oluştur
        const headingText = heading.textContent.trim();
        let baseId = turkishToSlug(headingText);
        
        // Boş ID kontrolü
        if (!baseId) {
          baseId = "heading-" + index;
        }
        
        // Tekrarlanan ID'leri önle
        let finalId = baseId;
        if (idCounts.has(baseId)) {
          const count = idCounts.get(baseId) + 1;
          idCounts.set(baseId, count);
          finalId = baseId + "-" + count;
        } else {
          idCounts.set(baseId, 1);
        }
        
        heading.id = finalId;

        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = "#" + finalId;
        a.textContent = headingText;
        a.className = "toc-" + heading.tagName.toLowerCase();

        li.appendChild(a);
        tocList.appendChild(li);

        headingMap.set(finalId, a);
      });

      toc.appendChild(tocList);

      // Başlıkların görünürlük oranlarını takip et
      const visibilityMap = new Map();

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            const id = entry.target.getAttribute("id");
            visibilityMap.set(id, entry.intersectionRatio);
          });

          // En çok görünür olan başlığı bul
          let mostVisibleId = null;
          let maxRatio = 0;

          visibilityMap.forEach((ratio, id) => {
            if (ratio > maxRatio) {
              mostVisibleId = id;
              maxRatio = ratio;
            }
          });

          if (mostVisibleId) {
            headingMap.forEach((linkEl) => linkEl.classList.remove("active"));
            const activeLink = headingMap.get(mostVisibleId);
            if (activeLink) {
              activeLink.classList.add("active");

              // Ortalamak için:
              const linkTop = activeLink.offsetTop;
              const linkHeight = activeLink.offsetHeight;
              const tocScrollParent = toc;
              const tocHeight = tocScrollParent.offsetHeight;

              tocScrollParent.scrollTo({
                top: linkTop - tocHeight / 2 + linkHeight / 2,
                behavior: "smooth",
              });
            }
          }
        },
        {
          threshold: [0, 0.25, 0.5, 0.75, 1.0],
        }
      );

      headings.forEach((heading) => {
        observer.observe(heading);
      });

      const toggleBtn = document.getElementById("toc-toggle");
      const sidebar = document.querySelector(".guide-sidebar");

      toggleBtn.addEventListener("click", function () {
        sidebar.classList.toggle("open");
      });
      const closeBtn = document.querySelector(".toc-close");

      closeBtn?.addEventListener("click", function () {
        sidebar.classList.remove("open");
      });
    }
  });
</script>
        <!-- <footer class="guide-footer"> -->
        <div class="feedback">
          <h3>Geri Bildirim</h3>
          <p>
            Bu rehberin kalitesinin iyileştirilmesine yardımcı olmanızı
            öneririz.
          </p>
          <p>
            Herhangi bir yazım hatası veya olgusal hata görürseniz lütfen
            katkıda bulunun. Başlamak için,
            <a
              href="https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation"
              >dokümantasyon katkıları</a
            >
            bölümünü okuyabilirsiniz.
          </p>
          <p>
            Ayrıca eksik veya güncel olmayan içerik de bulabilirsiniz. Lütfen
            main için eksik olan belgeleri ekleyin. Sorunların main dalda zaten
            düzeltilip düzeltilmediğini doğrulamak için önce
            <a href="https://edgeguides.rubyonrails.org/">Edge Guides</a>'ı
            kontrol ettiğinizden emin olun. Stil ve kurallar için
            <a
              href="https://guides.rubyonrails.org/v8.0/ruby_on_rails_guides_guidelines.html"
              >Ruby on Rails Guides Guidelines</a
            >'ı kontrol edin.
          </p>
          <p>
            Herhangi bir sebepten dolayı düzeltebileceğiniz bir şey bulursanız
            ancak kendiniz patch yapamıyorsanız lütfen bir
            <a href="https://github.com/rails/rails/issues">issue</a> açın.
          </p>
          <p>
            Ve son olarak, Ruby on Rails dokümantasyonu ile ilgili her türlü
            tartışma resmi
            <a href="https://discuss.rubyonrails.org/c/rubyonrails-docs/6"
              >Ruby on Rails Forum</a
            >'unda memnuniyetle karşılanacaktır.
          </p>
        </div>
      </div>
    </main>

    <button id="scrollToTop" class="scroll-to-top" aria-label="Yukarı çık">
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <polyline points="18,15 12,9 6,15"></polyline>
      </svg>
    </button>

    <footer class="footer">
      <div class="container">
        <p>
          Bu çalışma <a href=" Creative Commons Attribution-ShareAlike 4.0 International">Creative Commons Attribution-ShareAlike 4.0 International</a> Lisansı kapsamında lisanslanmıştır.
          </p>
        <p>
          "Rails", "Ruby on Rails" ve Rails logosu David Heinemeier Hansson'un ticari markalarıdır. Tüm hakları saklıdır.
        </p><br/>
        <p>
          &copy; 2025 Rails Kılavuzları Türkçe Çevirisi.
          <a href="https://github.com/DilanKaya127">Dilan Kaya</a> tarafından
          hazırlanmıştır.
          Orijinal dokümantasyon
          <a href="https://guides.rubyonrails.org">Ruby on Rails</a> ekibine
          aittir.
        </p>
        

      </div>
    </footer>

    <script>
      hljs.highlightAll();
      // Yukarı çık butonu işlevselliği
      const scrollToTopBtn = document.getElementById("scrollToTop");

      // Scroll pozisyonunu kontrol et
      window.addEventListener("scroll", function () {
        if (window.pageYOffset > 500) {
          scrollToTopBtn.classList.add("visible");
        } else {
          scrollToTopBtn.classList.remove("visible");
        }
      });

      // Butona tıklandığında yukarı çık
      scrollToTopBtn.addEventListener("click", function () {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });
    </script>
  </body>
</html>
