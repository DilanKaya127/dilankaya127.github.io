<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      3 2 Release Notes - Rails Dokümantasyonu - Türkçe
    </title>
    <link
      rel="stylesheet"
      href="/assets/css/rails.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css"
    />

    <link
      rel="icon"
      type="image/svg"
      href="/assets/images/logo_rails-circle.svg"
    />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-Y6Q8S53SSQ"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-Y6Q8S53SSQ");
    </script>
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="header-content">
          <h1 class="logo">
            <a href="/rails/">
              <img
                src="/assets/images/logo_rails-circle.svg"
                alt="Rails Logo"
                class="logo-image"
              />
            </a>
          </h1>
          <nav class="nav">
            <a href="/">Ana Sayfa</a>
            <!-- <a href="https://dilankaya127.github.io">Portföy</a> -->

            <div class="dropdown">
              <a class="dropbtn">Kılavuzlar</a>
              <div class="dropdown-content multi-column">
                 
                <div class="dropdown-column">
                  <h4>Buradan Başlayın</h4>
                  
                  <a href="/rails/guides/tr/getting_started">Rails ile Başlarken</a>
                  
                  <a href="/rails/guides/tr/install_ruby_on_rails">Ruby on Rails İndirme Kılavuzu</a>
                  
                </div>
                      
                <div class="dropdown-column">
                  <h4>Controllers</h4>
                  
                  <a href="/rails/guides/tr/action_controller_overview">Action Controller</a>
                  
                </div>
                  
                <div class="dropdown-column">
                  <h4>Diğer Bileşenler</h4>
                  
                  <a href="/rails/guides/tr/action_cable_overview">Action Cable</a>
                  
                </div>
                               
              </div>
            </div>
            <a href="https://github.com/dilankaya127/rails-tr-TR">GitHub</a>
          </nav>
        </div>
      </div>
    </header>

    <main class="main">
      <div class="container">
        <div class="guide-container">
  <button id="toc-toggle" class="toc-toggle">☰ İçindekiler</button>

  <aside class="guide-sidebar">
    <div class="guide-toc">
      <!-- <h3>İçindekiler</h3> -->
      <div id="toc"></div>
      <button class="toc-close" aria-label="İçindekileri Kapat">✕</button>
    </div>

    <!-- <div class="guide-nav">
            <h3>Diğer(Tüm) Kılavuzlar</h3>
            <ul>
                <li><a href="/rails/guides/tr/getting_started">Rails ile Başlarken</a></li>
                <li><a href="/rails/guides/en/active_record_basics">Active Record Temelleri</a></li>
                <li><a href="/rails/guides//en/action_controller_overview">Action Controller</a></li>
                <li><a href="/rails/guides/tr/action_cable_overview">Action Cable</a></li>
            </ul>
        </div> -->
  </aside>

  <article class="guide-content">
    <!-- <header class="guide-header">
            <h1>3 2 Release Notes</h1>
            
        </header> -->

    <div class="guide-body"><p><strong>DO NOT READ THIS FILE ON GITHUB, GUIDES ARE PUBLISHED ON <a href="https://guides.rubyonrails.org">https://guides.rubyonrails.org</a>.</strong></p>

<h1 id="ruby-on-rails-32-release-notes">Ruby on Rails 3.2 Release Notes</h1>

<p>Highlights in Rails 3.2:</p>

<ul>
  <li>Faster Development Mode</li>
  <li>New Routing Engine</li>
  <li>Automatic Query Explains</li>
  <li>Tagged Logging</li>
</ul>

<p>These release notes cover only the major changes. To learn about various bug
fixes and changes, please refer to the changelogs or check out the <a href="https://github.com/rails/rails/commits/3-2-stable">list of
commits</a> in the main Rails
repository on GitHub.</p>

<hr />

<h2 id="upgrading-to-rails-32">Upgrading to Rails 3.2</h2>

<p>If you’re upgrading an existing application, it’s a great idea to have good test coverage before going in. You should also first upgrade to Rails 3.1 in case you haven’t and make sure your application still runs as expected before attempting an update to Rails 3.2. Then take heed of the following changes:</p>

<h3 id="rails-32-requires-at-least-ruby-187">Rails 3.2 requires at least Ruby 1.8.7</h3>

<p>Rails 3.2 requires Ruby 1.8.7 or higher. Support for all of the previous Ruby versions has been dropped officially and you should upgrade as early as possible. Rails 3.2 is also compatible with Ruby 1.9.2.</p>

<p>TIP: Note that Ruby 1.8.7 p248 and p249 have marshalling bugs that crash Rails. Ruby Enterprise Edition has these fixed since the release of 1.8.7-2010.02. On the 1.9 front, Ruby 1.9.1 is not usable because it outright segfaults, so if you want to use 1.9.x, jump on to 1.9.2 or 1.9.3 for smooth sailing.</p>

<h3 id="what-to-update-in-your-apps">What to update in your apps</h3>

<ul>
  <li>Update your <code class="language-plaintext highlighter-rouge">Gemfile</code> to depend on
    <ul>
      <li><code class="language-plaintext highlighter-rouge">rails = 3.2.0</code></li>
      <li><code class="language-plaintext highlighter-rouge">sass-rails ~&gt; 3.2.3</code></li>
      <li><code class="language-plaintext highlighter-rouge">coffee-rails ~&gt; 3.2.1</code></li>
      <li><code class="language-plaintext highlighter-rouge">uglifier &gt;= 1.0.3</code></li>
    </ul>
  </li>
  <li>
    <p>Rails 3.2 deprecates <code class="language-plaintext highlighter-rouge">vendor/plugins</code> and Rails 4.0 will remove them completely. You can start replacing these plugins by extracting them as gems and adding them in your <code class="language-plaintext highlighter-rouge">Gemfile</code>. If you choose not to make them gems, you can move them into, say, <code class="language-plaintext highlighter-rouge">lib/my_plugin/*</code> and add an appropriate initializer in <code class="language-plaintext highlighter-rouge">config/initializers/my_plugin.rb</code>.</p>
  </li>
  <li>
    <p>There are a couple of new configuration changes you’d want to add in <code class="language-plaintext highlighter-rouge">config/environments/development.rb</code>:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1"># Raise exception on mass assignment protection for Active Record models</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">active_record</span><span class="p">.</span><span class="nf">mass_assignment_sanitizer</span> <span class="o">=</span> <span class="ss">:strict</span>

  <span class="c1"># Log the query plan for queries taking more than this (works</span>
  <span class="c1"># with SQLite, MySQL, and PostgreSQL)</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">active_record</span><span class="p">.</span><span class="nf">auto_explain_threshold_in_seconds</span> <span class="o">=</span> <span class="mf">0.5</span>
</code></pre></div>    </div>

    <p>The <code class="language-plaintext highlighter-rouge">mass_assignment_sanitizer</code> config also needs to be added in <code class="language-plaintext highlighter-rouge">config/environments/test.rb</code>:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1"># Raise exception on mass assignment protection for Active Record models</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">active_record</span><span class="p">.</span><span class="nf">mass_assignment_sanitizer</span> <span class="o">=</span> <span class="ss">:strict</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="what-to-update-in-your-engines">What to update in your engines</h3>

<p>Replace the code beneath the comment in <code class="language-plaintext highlighter-rouge">script/rails</code> with the following content:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ENGINE_ROOT</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">expand_path</span><span class="p">(</span><span class="s1">'../..'</span><span class="p">,</span> <span class="kp">__FILE__</span><span class="p">)</span>
<span class="no">ENGINE_PATH</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">expand_path</span><span class="p">(</span><span class="s1">'../../lib/your_engine_name/engine'</span><span class="p">,</span> <span class="kp">__FILE__</span><span class="p">)</span>

<span class="nb">require</span> <span class="s2">"rails/all"</span>
<span class="nb">require</span> <span class="s2">"rails/engine/commands"</span>
</code></pre></div></div>

<h2 id="creating-a-rails-32-application">Creating a Rails 3.2 application</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># You should have the 'rails' RubyGem installed</span>
<span class="nv">$ </span>rails new myapp
<span class="nv">$ </span><span class="nb">cd </span>myapp
</code></pre></div></div>

<h3 id="vendoring-gems">Vendoring Gems</h3>

<p>Rails now uses a <code class="language-plaintext highlighter-rouge">Gemfile</code> in the application root to determine the gems you require for your application to start. This <code class="language-plaintext highlighter-rouge">Gemfile</code> is processed by the <a href="https://github.com/carlhuda/bundler">Bundler</a> gem, which then installs all your dependencies. It can even install all the dependencies locally to your application so that it doesn’t depend on the system gems.</p>

<p>More information: <a href="https://bundler.io/">Bundler homepage</a></p>

<h3 id="living-on-the-edge">Living on the Edge</h3>

<p><code class="language-plaintext highlighter-rouge">Bundler</code> and <code class="language-plaintext highlighter-rouge">Gemfile</code> makes freezing your Rails application easy as pie with the new dedicated <code class="language-plaintext highlighter-rouge">bundle</code> command. If you want to bundle straight from the Git repository, you can pass the <code class="language-plaintext highlighter-rouge">--edge</code> flag:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rails new myapp <span class="nt">--edge</span>
</code></pre></div></div>

<p>If you have a local checkout of the Rails repository and want to generate an application using that, you can pass the <code class="language-plaintext highlighter-rouge">--dev</code> flag:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ruby /path/to/rails/railties/bin/rails new myapp <span class="nt">--dev</span>
</code></pre></div></div>

<h2 id="major-features">Major Features</h2>

<h3 id="faster-development-mode--routing">Faster Development Mode &amp; Routing</h3>

<p>Rails 3.2 comes with a development mode that’s noticeably faster. Inspired by <a href="https://github.com/paneq/active_reload">Active Reload</a>, Rails reloads classes only when files actually change. The performance gains are dramatic on a larger application. Route recognition also got a bunch faster thanks to the new <a href="https://github.com/rails/journey">Journey</a> engine.</p>

<h3 id="automatic-query-explains">Automatic Query Explains</h3>

<p>Rails 3.2 comes with a nice feature that explains queries generated by Arel by defining an <code class="language-plaintext highlighter-rouge">explain</code> method in <code class="language-plaintext highlighter-rouge">ActiveRecord::Relation</code>. For example, you can run something like <code class="language-plaintext highlighter-rouge">puts Person.active.limit(5).explain</code> and the query Arel produces is explained. This allows to check for the proper indexes and further optimizations.</p>

<p>Queries that take more than half a second to run are <em>automatically</em> explained in the development mode. This threshold, of course, can be changed.</p>

<h3 id="tagged-logging">Tagged Logging</h3>

<p>When running a multi-user, multi-account application, it’s a great help to be able to filter the log by who did what. TaggedLogging in Active Support helps in doing exactly that by stamping log lines with subdomains, request ids, and anything else to aid debugging such applications.</p>

<h2 id="documentation">Documentation</h2>

<p>From Rails 3.2, the Rails guides are available for the Kindle and free Kindle Reading Apps for the iPad, iPhone, Mac, Android, etc.</p>

<h2 id="railties">Railties</h2>

<ul>
  <li>
    <p>Speed up development by only reloading classes if dependencies files changed. This can be turned off by setting <code class="language-plaintext highlighter-rouge">config.reload_classes_only_on_change</code> to false.</p>
  </li>
  <li>
    <p>New applications get a flag <code class="language-plaintext highlighter-rouge">config.active_record.auto_explain_threshold_in_seconds</code> in the environments configuration files. With a value of <code class="language-plaintext highlighter-rouge">0.5</code> in <code class="language-plaintext highlighter-rouge">development.rb</code> and commented out in <code class="language-plaintext highlighter-rouge">production.rb</code>. No mention in <code class="language-plaintext highlighter-rouge">test.rb</code>.</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">config.exceptions_app</code> to set the exceptions application invoked by the <code class="language-plaintext highlighter-rouge">ShowException</code> middleware when an exception happens. Defaults to <code class="language-plaintext highlighter-rouge">ActionDispatch::PublicExceptions.new(Rails.public_path)</code>.</p>
  </li>
  <li>
    <p>Added a <code class="language-plaintext highlighter-rouge">DebugExceptions</code> middleware which contains features extracted from <code class="language-plaintext highlighter-rouge">ShowExceptions</code> middleware.</p>
  </li>
  <li>
    <p>Display mounted engines’ routes in <code class="language-plaintext highlighter-rouge">rake routes</code>.</p>
  </li>
  <li>
    <p>Allow to change the loading order of railties with <code class="language-plaintext highlighter-rouge">config.railties_order</code> like:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">config</span><span class="p">.</span><span class="nf">railties_order</span> <span class="o">=</span> <span class="p">[</span><span class="no">Blog</span><span class="o">::</span><span class="no">Engine</span><span class="p">,</span> <span class="ss">:main_app</span><span class="p">,</span> <span class="ss">:all</span><span class="p">]</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Scaffold returns 204 No Content for API requests without content. This makes scaffold work with jQuery out of the box.</p>
  </li>
  <li>
    <p>Update <code class="language-plaintext highlighter-rouge">Rails::Rack::Logger</code> middleware to apply any tags set in <code class="language-plaintext highlighter-rouge">config.log_tags</code> to <code class="language-plaintext highlighter-rouge">ActiveSupport::TaggedLogging</code>. This makes it easy to tag log lines with debug information like subdomain and request id – both very helpful in debugging multi-user production applications.</p>
  </li>
  <li>
    <p>Default options to <code class="language-plaintext highlighter-rouge">rails new</code> can be set in <code class="language-plaintext highlighter-rouge">~/.railsrc</code>. You can specify extra command-line arguments to be used every time <code class="language-plaintext highlighter-rouge">rails new</code> runs in the <code class="language-plaintext highlighter-rouge">.railsrc</code> configuration file in your home directory.</p>
  </li>
  <li>
    <p>Add an alias <code class="language-plaintext highlighter-rouge">d</code> for <code class="language-plaintext highlighter-rouge">destroy</code>. This works for engines too.</p>
  </li>
  <li>
    <p>Attributes on scaffold and model generators default to string. This allows the following: <code class="language-plaintext highlighter-rouge">bin/rails g scaffold Post title body:text author</code></p>
  </li>
  <li>
    <p>Allow scaffold/model/migration generators to accept “index” and “uniq” modifiers. For example,</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>bin/rails g scaffold Post title:string:index author:uniq price:decimal<span class="o">{</span>7,2<span class="o">}</span>
</code></pre></div>    </div>

    <p>will create indexes for <code class="language-plaintext highlighter-rouge">title</code> and <code class="language-plaintext highlighter-rouge">author</code> with the latter being a unique index. Some types such as decimal accept custom options. In the example, <code class="language-plaintext highlighter-rouge">price</code> will be a decimal column with precision and scale set to 7 and 2 respectively.</p>
  </li>
  <li>
    <p>Turn gem has been removed from default <code class="language-plaintext highlighter-rouge">Gemfile</code>.</p>
  </li>
  <li>
    <p>Remove old plugin generator <code class="language-plaintext highlighter-rouge">rails generate plugin</code> in favor of <code class="language-plaintext highlighter-rouge">rails plugin new</code> command.</p>
  </li>
  <li>
    <p>Remove old <code class="language-plaintext highlighter-rouge">config.paths.app.controller</code> API in favor of <code class="language-plaintext highlighter-rouge">config.paths["app/controller"]</code>.</p>
  </li>
</ul>

<h3 id="deprecations">Deprecations</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Rails::Plugin</code> is deprecated and will be removed in Rails 4.0. Instead of adding plugins to <code class="language-plaintext highlighter-rouge">vendor/plugins</code> use gems or bundler with path or git dependencies.</li>
</ul>

<h2 id="action-mailer">Action Mailer</h2>

<ul>
  <li>
    <p>Upgraded <code class="language-plaintext highlighter-rouge">mail</code> version to 2.4.0.</p>
  </li>
  <li>
    <p>Removed the old Action Mailer API which was deprecated since Rails 3.0.</p>
  </li>
</ul>

<h2 id="action-pack">Action Pack</h2>

<h3 id="action-controller">Action Controller</h3>

<ul>
  <li>
    <p>Make <code class="language-plaintext highlighter-rouge">ActiveSupport::Benchmarkable</code> a default module for <code class="language-plaintext highlighter-rouge">ActionController::Base,</code> so the <code class="language-plaintext highlighter-rouge">#benchmark</code> method is once again available in the controller context like it used to be.</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">:gzip</code> option to <code class="language-plaintext highlighter-rouge">caches_page</code>. The default option can be configured globally using <code class="language-plaintext highlighter-rouge">page_cache_compression</code>.</p>
  </li>
  <li>
    <p>Rails will now use your default layout (such as “layouts/application”) when you specify a layout with <code class="language-plaintext highlighter-rouge">:only</code> and <code class="language-plaintext highlighter-rouge">:except</code> condition, and those conditions fail.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">CarsController</span>
    <span class="n">layout</span> <span class="s1">'single_car'</span><span class="p">,</span> <span class="ss">:only</span> <span class="o">=&gt;</span> <span class="ss">:show</span>
  <span class="k">end</span>
</code></pre></div>    </div>

    <p>Rails will use <code class="language-plaintext highlighter-rouge">layouts/single_car</code> when a request comes in <code class="language-plaintext highlighter-rouge">:show</code> action, and use <code class="language-plaintext highlighter-rouge">layouts/application</code> (or <code class="language-plaintext highlighter-rouge">layouts/cars</code>, if exists) when a request comes in for any other actions.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">form_for</code> is changed to use <code class="language-plaintext highlighter-rouge">#{action}_#{as}</code> as the CSS class and id if <code class="language-plaintext highlighter-rouge">:as</code> option is provided. Earlier versions used <code class="language-plaintext highlighter-rouge">#{as}_#{action}</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActionController::ParamsWrapper</code> on Active Record models now only wrap <code class="language-plaintext highlighter-rouge">attr_accessible</code> attributes if they were set. If not, only the attributes returned by the class method <code class="language-plaintext highlighter-rouge">attribute_names</code> will be wrapped. This fixes the wrapping of nested attributes by adding them to <code class="language-plaintext highlighter-rouge">attr_accessible</code>.</p>
  </li>
  <li>
    <p>Log “Filter chain halted as CALLBACKNAME rendered or redirected” every time a before callback halts.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActionDispatch::ShowExceptions</code> is refactored. The controller is responsible for choosing to show exceptions. It’s possible to override <code class="language-plaintext highlighter-rouge">show_detailed_exceptions?</code> in controllers to specify which requests should provide debugging information on errors.</p>
  </li>
  <li>
    <p>Responders now return 204 No Content for API requests without a response body (as in the new scaffold).</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActionController::TestCase</code> cookies is refactored. Assigning cookies for test cases should now use <code class="language-plaintext highlighter-rouge">cookies[]</code></p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">cookies</span><span class="p">[</span><span class="ss">:email</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'user@example.com'</span>
  <span class="n">get</span> <span class="ss">:index</span>
  <span class="n">assert_equal</span> <span class="s1">'user@example.com'</span><span class="p">,</span> <span class="n">cookies</span><span class="p">[</span><span class="ss">:email</span><span class="p">]</span>
</code></pre></div>    </div>

    <p>To clear the cookies, use <code class="language-plaintext highlighter-rouge">clear</code>.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">cookies</span><span class="p">.</span><span class="nf">clear</span>
  <span class="n">get</span> <span class="ss">:index</span>
  <span class="n">assert_nil</span> <span class="n">cookies</span><span class="p">[</span><span class="ss">:email</span><span class="p">]</span>
</code></pre></div>    </div>

    <p>We now no longer write out HTTP_COOKIE and the cookie jar is persistent between requests so if you need to manipulate the environment for your test you need to do it before the cookie jar is created.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">send_file</code> now guesses the MIME type from the file extension if <code class="language-plaintext highlighter-rouge">:type</code> is not provided.</p>
  </li>
  <li>
    <p>MIME type entries for PDF, ZIP and other formats were added.</p>
  </li>
  <li>
    <p>Allow <code class="language-plaintext highlighter-rouge">fresh_when/stale?</code> to take a record instead of an options hash.</p>
  </li>
  <li>
    <p>Changed log level of warning for missing CSRF token from <code class="language-plaintext highlighter-rouge">:debug</code> to <code class="language-plaintext highlighter-rouge">:warn</code>.</p>
  </li>
  <li>
    <p>Assets should use the request protocol by default or default to relative if no request is available.</p>
  </li>
</ul>

<h4 id="deprecations-1">Deprecations</h4>

<ul>
  <li>
    <p>Deprecated implied layout lookup in controllers whose parent had an explicit layout set:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">ApplicationController</span>
    <span class="n">layout</span> <span class="s2">"application"</span>
  <span class="k">end</span>

  <span class="k">class</span> <span class="nc">PostsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">end</span>
</code></pre></div>    </div>

    <p>In the example above, <code class="language-plaintext highlighter-rouge">PostsController</code> will no longer automatically look up for a posts layout. If you need this functionality you could either remove <code class="language-plaintext highlighter-rouge">layout "application"</code> from <code class="language-plaintext highlighter-rouge">ApplicationController</code> or explicitly set it to <code class="language-plaintext highlighter-rouge">nil</code> in <code class="language-plaintext highlighter-rouge">PostsController</code>.</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">ActionController::UnknownAction</code> in favor of <code class="language-plaintext highlighter-rouge">AbstractController::ActionNotFound</code>.</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">ActionController::DoubleRenderError</code> in favor of <code class="language-plaintext highlighter-rouge">AbstractController::DoubleRenderError</code>.</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">method_missing</code> in favor of <code class="language-plaintext highlighter-rouge">action_missing</code> for missing actions.</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">ActionController#rescue_action</code>, <code class="language-plaintext highlighter-rouge">ActionController#initialize_template_class</code> and <code class="language-plaintext highlighter-rouge">ActionController#assign_shortcuts</code>.</p>
  </li>
</ul>

<h3 id="action-dispatch">Action Dispatch</h3>

<ul>
  <li>
    <p>Add <code class="language-plaintext highlighter-rouge">config.action_dispatch.default_charset</code> to configure default charset for <code class="language-plaintext highlighter-rouge">ActionDispatch::Response</code>.</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">ActionDispatch::RequestId</code> middleware that’ll make a unique X-Request-Id header available to the response and enables the <code class="language-plaintext highlighter-rouge">ActionDispatch::Request#uuid</code> method. This makes it easy to trace requests from end-to-end in the stack and to identify individual requests in mixed logs like Syslog.</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">ShowExceptions</code> middleware now accepts an exceptions application that is responsible to render an exception when the application fails. The application is invoked with a copy of the exception in <code class="language-plaintext highlighter-rouge">env["action_dispatch.exception"]</code> and with the <code class="language-plaintext highlighter-rouge">PATH_INFO</code> rewritten to the status code.</p>
  </li>
  <li>
    <p>Allow rescue responses to be configured through a railtie as in <code class="language-plaintext highlighter-rouge">config.action_dispatch.rescue_responses</code>.</p>
  </li>
</ul>

<h4 id="deprecations-2">Deprecations</h4>

<ul>
  <li>Deprecated the ability to set a default charset at the controller level, use the new <code class="language-plaintext highlighter-rouge">config.action_dispatch.default_charset</code> instead.</li>
</ul>

<h3 id="action-view">Action View</h3>

<ul>
  <li>
    <p>Add <code class="language-plaintext highlighter-rouge">button_tag</code> support to <code class="language-plaintext highlighter-rouge">ActionView::Helpers::FormBuilder</code>. This support mimics the default behavior of <code class="language-plaintext highlighter-rouge">submit_tag</code>.</p>

    <div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">&lt;%=</span> <span class="n">form_for</span> <span class="vi">@post</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">button</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Date helpers accept a new option <code class="language-plaintext highlighter-rouge">:use_two_digit_numbers =&gt; true</code>, that renders select boxes for months and days with a leading zero without changing the respective values. For example, this is useful for displaying ISO 8601-style dates such as ‘2011-08-01’.</p>
  </li>
  <li>
    <p>You can provide a namespace for your form to ensure uniqueness of id attributes on form elements. The namespace attribute will be prefixed with underscore on the generated HTML id.</p>

    <div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">&lt;%=</span> <span class="n">form_for</span><span class="p">(</span><span class="vi">@offer</span><span class="p">,</span> <span class="ss">:namespace</span> <span class="o">=&gt;</span> <span class="s1">'namespace'</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:version</span><span class="p">,</span> <span class="s1">'Version'</span> <span class="cp">%&gt;</span>:
    <span class="cp">&lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">text_field</span> <span class="ss">:version</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Limit the number of options for <code class="language-plaintext highlighter-rouge">select_year</code> to 1000. Pass <code class="language-plaintext highlighter-rouge">:max_years_allowed</code> option to set your own limit.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">content_tag_for</code> and <code class="language-plaintext highlighter-rouge">div_for</code> can now take a collection of records. It will also yield the record as the first argument if you set a receiving argument in your block. So instead of having to do this:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="vi">@items</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
    <span class="n">content_tag_for</span><span class="p">(</span><span class="ss">:li</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span> <span class="k">do</span>
      <span class="no">Title</span><span class="p">:</span> <span class="o">&lt;</span><span class="sx">%= item.title %&gt;
    end
  end
</span></code></pre></div>    </div>

    <p>You can do this:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">content_tag_for</span><span class="p">(</span><span class="ss">:li</span><span class="p">,</span> <span class="vi">@items</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
    <span class="no">Title</span><span class="p">:</span> <span class="o">&lt;</span><span class="sx">%= item.title %&gt;
  end
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">font_path</code> helper method that computes the path to a font asset in <code class="language-plaintext highlighter-rouge">public/fonts</code>.</p>
  </li>
</ul>

<h4 id="deprecations-3">Deprecations</h4>

<ul>
  <li>Passing formats or handlers to render :template and friends like <code class="language-plaintext highlighter-rouge">render :template =&gt; "foo.html.erb"</code> is deprecated. Instead, you can provide :handlers and :formats directly as options: <code class="language-plaintext highlighter-rouge">render :template =&gt; "foo", :formats =&gt; [:html, :js], :handlers =&gt; :erb</code>.</li>
</ul>

<h3 id="sprockets">Sprockets</h3>

<ul>
  <li>Adds a configuration option <code class="language-plaintext highlighter-rouge">config.assets.logger</code> to control Sprockets logging. Set it to <code class="language-plaintext highlighter-rouge">false</code> to turn off logging and to <code class="language-plaintext highlighter-rouge">nil</code> to default to <code class="language-plaintext highlighter-rouge">Rails.logger</code>.</li>
</ul>

<h2 id="active-record">Active Record</h2>

<ul>
  <li>
    <p>Boolean columns with ‘on’ and ‘ON’ values are type cast to true.</p>
  </li>
  <li>
    <p>When the <code class="language-plaintext highlighter-rouge">timestamps</code> method creates the <code class="language-plaintext highlighter-rouge">created_at</code> and <code class="language-plaintext highlighter-rouge">updated_at</code> columns, it makes them non-nullable by default.</p>
  </li>
  <li>
    <p>Implemented <code class="language-plaintext highlighter-rouge">ActiveRecord::Relation#explain</code>.</p>
  </li>
  <li>
    <p>Implements <code class="language-plaintext highlighter-rouge">ActiveRecord::Base.silence_auto_explain</code> which allows the user to selectively disable automatic EXPLAINs within a block.</p>
  </li>
  <li>
    <p>Implements automatic EXPLAIN logging for slow queries. A new configuration parameter <code class="language-plaintext highlighter-rouge">config.active_record.auto_explain_threshold_in_seconds</code> determines what’s to be considered a slow query. Setting that to nil disables this feature. Defaults are 0.5 in development mode, and nil in test and production modes. Rails 3.2 supports this feature in SQLite, MySQL (mysql2 adapter), and PostgreSQL.</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">ActiveRecord::Base.store</code> for declaring simple single-column key/value stores.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
    <span class="n">store</span> <span class="ss">:settings</span><span class="p">,</span> <span class="ss">accessors: </span><span class="p">[</span> <span class="ss">:color</span><span class="p">,</span> <span class="ss">:homepage</span> <span class="p">]</span>
  <span class="k">end</span>

  <span class="n">u</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">color: </span><span class="s1">'black'</span><span class="p">,</span> <span class="ss">homepage: </span><span class="s1">'37signals.com'</span><span class="p">)</span>
  <span class="n">u</span><span class="p">.</span><span class="nf">color</span>                          <span class="c1"># Accessor stored attribute</span>
  <span class="n">u</span><span class="p">.</span><span class="nf">settings</span><span class="p">[</span><span class="ss">:country</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Denmark'</span> <span class="c1"># Any attribute, even if not specified with an accessor</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Added ability to run migrations only for a given scope, which allows to run migrations only from one engine (for example to revert changes from an engine that need to be removed).</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  rake db:migrate SCOPE=blog
</code></pre></div>    </div>
  </li>
  <li>
    <p>Migrations copied from engines are now scoped with engine’s name, for example <code class="language-plaintext highlighter-rouge">01_create_posts.blog.rb</code>.</p>
  </li>
  <li>
    <p>Implemented <code class="language-plaintext highlighter-rouge">ActiveRecord::Relation#pluck</code> method that returns an array of column values directly from the underlying table. This also works with serialized attributes.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="no">Client</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">:active</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">).</span><span class="nf">pluck</span><span class="p">(</span><span class="ss">:id</span><span class="p">)</span>
  <span class="c1"># SELECT id from clients where active = 1</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Generated association methods are created within a separate module to allow overriding and composition. For a class named MyModel, the module is named <code class="language-plaintext highlighter-rouge">MyModel::GeneratedFeatureMethods</code>. It is included into the model class immediately after the <code class="language-plaintext highlighter-rouge">generated_attributes_methods</code> module defined in Active Model, so association methods override attribute methods of the same name.</p>
  </li>
  <li>
    <p>Add <code class="language-plaintext highlighter-rouge">ActiveRecord::Relation#uniq</code> for generating unique queries.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="no">Client</span><span class="p">.</span><span class="nf">select</span><span class="p">(</span><span class="s1">'DISTINCT name'</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>..can be written as:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="no">Client</span><span class="p">.</span><span class="nf">select</span><span class="p">(</span><span class="ss">:name</span><span class="p">).</span><span class="nf">uniq</span>
</code></pre></div>    </div>

    <p>This also allows you to revert the uniqueness in a relation:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="no">Client</span><span class="p">.</span><span class="nf">select</span><span class="p">(</span><span class="ss">:name</span><span class="p">).</span><span class="nf">uniq</span><span class="p">.</span><span class="nf">uniq</span><span class="p">(</span><span class="kp">false</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Support index sort order in SQLite, MySQL and PostgreSQL adapters.</p>
  </li>
  <li>
    <p>Allow the <code class="language-plaintext highlighter-rouge">:class_name</code> option for associations to take a symbol in addition to a string. This is to avoid confusing newbies, and to be consistent with the fact that other options like <code class="language-plaintext highlighter-rouge">:foreign_key</code> already allow a symbol or a string.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">has_many</span> <span class="ss">:clients</span><span class="p">,</span> <span class="ss">:class_name</span> <span class="o">=&gt;</span> <span class="ss">:Client</span> <span class="c1"># Note that the symbol need to be capitalized</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>In development mode, <code class="language-plaintext highlighter-rouge">db:drop</code> also drops the test database in order to be symmetric with <code class="language-plaintext highlighter-rouge">db:create</code>.</p>
  </li>
  <li>
    <p>Case-insensitive uniqueness validation avoids calling LOWER in MySQL when the column already uses a case-insensitive collation.</p>
  </li>
  <li>
    <p>Transactional fixtures enlist all active database connections. You can test models on different connections without disabling transactional fixtures.</p>
  </li>
  <li>
    <p>Add <code class="language-plaintext highlighter-rouge">first_or_create</code>, <code class="language-plaintext highlighter-rouge">first_or_create!</code>, <code class="language-plaintext highlighter-rouge">first_or_initialize</code> methods to Active Record. This is a better approach over the old <code class="language-plaintext highlighter-rouge">find_or_create_by</code> dynamic methods because it’s clearer which arguments are used to find the record and which are used to create it.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="no">User</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">:first_name</span> <span class="o">=&gt;</span> <span class="s2">"Scarlett"</span><span class="p">).</span><span class="nf">first_or_create!</span><span class="p">(</span><span class="ss">:last_name</span> <span class="o">=&gt;</span> <span class="s2">"Johansson"</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Added a <code class="language-plaintext highlighter-rouge">with_lock</code> method to Active Record objects, which starts a transaction, locks the object (pessimistically) and yields to the block. The method takes one (optional) parameter and passes it to <code class="language-plaintext highlighter-rouge">lock!</code>.</p>

    <p>This makes it possible to write the following:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">Order</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
    <span class="k">def</span> <span class="nf">cancel!</span>
      <span class="n">transaction</span> <span class="k">do</span>
        <span class="n">lock!</span>
        <span class="c1"># ... cancelling logic</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
</code></pre></div>    </div>

    <p>as:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">Order</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
    <span class="k">def</span> <span class="nf">cancel!</span>
      <span class="n">with_lock</span> <span class="k">do</span>
        <span class="c1"># ... cancelling logic</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="deprecations-4">Deprecations</h3>

<ul>
  <li>
    <p>Automatic closure of connections in threads is deprecated. For example the following code is deprecated:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="no">Thread</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span> <span class="no">Post</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">}.</span><span class="nf">join</span>
</code></pre></div>    </div>

    <p>It should be changed to close the database connection at the end of the thread:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="no">Thread</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span>
    <span class="no">Post</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="no">Post</span><span class="p">.</span><span class="nf">connection</span><span class="p">.</span><span class="nf">close</span>
  <span class="p">}.</span><span class="nf">join</span>
</code></pre></div>    </div>

    <p>Only people who spawn threads in their application code need to worry about this change.</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">set_table_name</code>, <code class="language-plaintext highlighter-rouge">set_inheritance_column</code>, <code class="language-plaintext highlighter-rouge">set_sequence_name</code>, <code class="language-plaintext highlighter-rouge">set_primary_key</code>, <code class="language-plaintext highlighter-rouge">set_locking_column</code> methods are deprecated. Use an assignment method instead. For example, instead of <code class="language-plaintext highlighter-rouge">set_table_name</code>, use <code class="language-plaintext highlighter-rouge">self.table_name=</code>.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">Project</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">table_name</span> <span class="o">=</span> <span class="s2">"project"</span>
  <span class="k">end</span>
</code></pre></div>    </div>

    <p>Or define your own <code class="language-plaintext highlighter-rouge">self.table_name</code> method:</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">Post</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">table_name</span>
      <span class="s2">"special_"</span> <span class="o">+</span> <span class="k">super</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="no">Post</span><span class="p">.</span><span class="nf">table_name</span> <span class="c1"># =&gt; "special_posts"</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="active-model">Active Model</h2>

<ul>
  <li>
    <p>Add <code class="language-plaintext highlighter-rouge">ActiveModel::Errors#added?</code> to check if a specific error has been added.</p>
  </li>
  <li>
    <p>Add ability to define strict validations with <code class="language-plaintext highlighter-rouge">strict =&gt; true</code> that always raises exception when fails.</p>
  </li>
  <li>
    <p>Provide mass_assignment_sanitizer as an easy API to replace the sanitizer behavior. Also support both :logger (default) and :strict sanitizer behavior.</p>
  </li>
</ul>

<h3 id="deprecations-5">Deprecations</h3>

<ul>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">define_attr_method</code> in <code class="language-plaintext highlighter-rouge">ActiveModel::AttributeMethods</code> because this only existed to support methods like <code class="language-plaintext highlighter-rouge">set_table_name</code> in Active Record, which are themselves being deprecated.</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">Model.model_name.partial_path</code> in favor of <code class="language-plaintext highlighter-rouge">model.to_partial_path</code>.</p>
  </li>
</ul>

<h2 id="active-resource">Active Resource</h2>

<ul>
  <li>Redirect responses: 303 See Other and 307 Temporary Redirect now behave like 301 Moved Permanently and 302 Found.</li>
</ul>

<h2 id="active-support">Active Support</h2>

<ul>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">ActiveSupport:TaggedLogging</code> that can wrap any standard <code class="language-plaintext highlighter-rouge">Logger</code> class to provide tagging capabilities.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="no">Logger</span> <span class="o">=</span> <span class="no">ActiveSupport</span><span class="o">::</span><span class="no">TaggedLogging</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="no">Logger</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="no">STDOUT</span><span class="p">))</span>

  <span class="no">Logger</span><span class="p">.</span><span class="nf">tagged</span><span class="p">(</span><span class="s2">"BCX"</span><span class="p">)</span> <span class="p">{</span> <span class="no">Logger</span><span class="p">.</span><span class="nf">info</span> <span class="s2">"Stuff"</span> <span class="p">}</span>
  <span class="c1"># Logs "[BCX] Stuff"</span>

  <span class="no">Logger</span><span class="p">.</span><span class="nf">tagged</span><span class="p">(</span><span class="s2">"BCX"</span><span class="p">,</span> <span class="s2">"Jason"</span><span class="p">)</span> <span class="p">{</span> <span class="no">Logger</span><span class="p">.</span><span class="nf">info</span> <span class="s2">"Stuff"</span> <span class="p">}</span>
  <span class="c1"># Logs "[BCX] [Jason] Stuff"</span>

  <span class="no">Logger</span><span class="p">.</span><span class="nf">tagged</span><span class="p">(</span><span class="s2">"BCX"</span><span class="p">)</span> <span class="p">{</span> <span class="no">Logger</span><span class="p">.</span><span class="nf">tagged</span><span class="p">(</span><span class="s2">"Jason"</span><span class="p">)</span> <span class="p">{</span> <span class="no">Logger</span><span class="p">.</span><span class="nf">info</span> <span class="s2">"Stuff"</span> <span class="p">}</span> <span class="p">}</span>
  <span class="c1"># Logs "[BCX] [Jason] Stuff"</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">beginning_of_week</code> method in <code class="language-plaintext highlighter-rouge">Date</code>, <code class="language-plaintext highlighter-rouge">Time</code> and <code class="language-plaintext highlighter-rouge">DateTime</code> accepts an optional argument representing the day in which the week is assumed to start.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveSupport::Notifications.subscribed</code> provides subscriptions to events while a block runs.</p>
  </li>
  <li>
    <p>Defined new methods <code class="language-plaintext highlighter-rouge">Module#qualified_const_defined?</code>, <code class="language-plaintext highlighter-rouge">Module#qualified_const_get</code> and <code class="language-plaintext highlighter-rouge">Module#qualified_const_set</code> that are analogous to the corresponding methods in the standard API, but accept qualified constant names.</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">#deconstantize</code> which complements <code class="language-plaintext highlighter-rouge">#demodulize</code> in inflections. This removes the rightmost segment in a qualified constant name.</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">safe_constantize</code> that constantizes a string but returns <code class="language-plaintext highlighter-rouge">nil</code> instead of raising an exception if the constant (or part of it) does not exist.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveSupport::OrderedHash</code> is now marked as extractable when using <code class="language-plaintext highlighter-rouge">Array#extract_options!</code>.</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">Array#prepend</code> as an alias for <code class="language-plaintext highlighter-rouge">Array#unshift</code> and <code class="language-plaintext highlighter-rouge">Array#append</code> as an alias for <code class="language-plaintext highlighter-rouge">Array#&lt;&lt;</code>.</p>
  </li>
  <li>
    <p>The definition of a blank string for Ruby 1.9 has been extended to Unicode whitespace. Also, in Ruby 1.8 the ideographic space U`3000 is considered to be whitespace.</p>
  </li>
  <li>
    <p>The inflector understands acronyms.</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">Time#all_day</code>, <code class="language-plaintext highlighter-rouge">Time#all_week</code>, <code class="language-plaintext highlighter-rouge">Time#all_quarter</code> and <code class="language-plaintext highlighter-rouge">Time#all_year</code> as a way of generating ranges.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="no">Event</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">:created_at</span> <span class="o">=&gt;</span> <span class="no">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">all_week</span><span class="p">)</span>
  <span class="no">Event</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">:created_at</span> <span class="o">=&gt;</span> <span class="no">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">all_day</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">instance_accessor: false</code> as an option to <code class="language-plaintext highlighter-rouge">Class#cattr_accessor</code> and friends.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveSupport::OrderedHash</code> now has different behavior for <code class="language-plaintext highlighter-rouge">#each</code> and <code class="language-plaintext highlighter-rouge">#each_pair</code> when given a block accepting its parameters with a splat.</p>
  </li>
  <li>
    <p>Added <code class="language-plaintext highlighter-rouge">ActiveSupport::Cache::NullStore</code> for use in development and testing.</p>
  </li>
  <li>
    <p>Removed <code class="language-plaintext highlighter-rouge">ActiveSupport::SecureRandom</code> in favor of <code class="language-plaintext highlighter-rouge">SecureRandom</code> from the standard library.</p>
  </li>
</ul>

<h3 id="deprecations-6">Deprecations</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveSupport::Base64</code> is deprecated in favor of <code class="language-plaintext highlighter-rouge">::Base64</code>.</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">ActiveSupport::Memoizable</code> in favor of Ruby memoization pattern.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Module#synchronize</code> is deprecated with no replacement. Please use monitor from ruby’s standard library.</p>
  </li>
  <li>
    <p>Deprecated <code class="language-plaintext highlighter-rouge">ActiveSupport::MessageEncryptor#encrypt</code> and <code class="language-plaintext highlighter-rouge">ActiveSupport::MessageEncryptor#decrypt</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveSupport::BufferedLogger#silence</code> is deprecated. If you want to squelch logs for a certain block, change the log level for that block.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveSupport::BufferedLogger#open_log</code> is deprecated. This method should not have been public in the first place.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveSupport::BufferedLogger's</code> behavior of automatically creating the directory for your log file is deprecated. Please make sure to create the directory for your log file before instantiating.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveSupport::BufferedLogger#auto_flushing</code> is deprecated. Either set the sync level on the underlying file handle like this. Or tune your filesystem. The FS cache is now what controls flushing.</p>

    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">f</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="s1">'foo.log'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span>
  <span class="n">f</span><span class="p">.</span><span class="nf">sync</span> <span class="o">=</span> <span class="kp">true</span>
  <span class="no">ActiveSupport</span><span class="o">::</span><span class="no">BufferedLogger</span><span class="p">.</span><span class="nf">new</span> <span class="n">f</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ActiveSupport::BufferedLogger#flush</code> is deprecated. Set sync on your filehandle, or tune your filesystem.</p>
  </li>
</ul>

<h2 id="credits">Credits</h2>

<p>See the <a href="http://contributors.rubyonrails.org/">full list of contributors to Rails</a> for the many people who spent many hours making Rails, the stable and robust framework it is. Kudos to all of them.</p>

<p>Rails 3.2 Release Notes were compiled by <a href="https://github.com/vijaydev">Vijay Dev</a>.</p>
</div>
  </article>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toc = document.getElementById("toc");
    const headings = document.querySelectorAll(
      ".guide-content h2, .guide-content h3, .guide-content h4"
    );

    if (headings.length > 0) {
      const tocList = document.createElement("ul");
      const headingMap = new Map();

      // Türkçe karakterleri URL-dostu hale getiren fonksiyon
      function turkishToSlug(text) {
        const turkishChars = {
          'ç': 'c', 'Ç': 'c',
          'ğ': 'g', 'Ğ': 'g',
          'ı': 'i', 'I': 'i',
          'İ': 'i', 'i': 'i',
          'ö': 'o', 'Ö': 'o',
          'ş': 's', 'Ş': 's',
          'ü': 'u', 'Ü': 'u'
        };
        
        return text
          .split('')
          .map(char => turkishChars[char] || char)
          .join('')
          .toLowerCase()
          .replace(/[^a-z0-9]+/g, '-')
          .replace(/^-+|-+$/g, '');
      }

      // Aynı ID'nin tekrarlanmasını önlemek için sayaç
      const idCounts = new Map();

      headings.forEach(function (heading, index) {
        // Başlık metninden anlamlı ID oluştur
        const headingText = heading.textContent.trim();
        let baseId = turkishToSlug(headingText);
        
        // Boş ID kontrolü
        if (!baseId) {
          baseId = "heading-" + index;
        }
        
        // Tekrarlanan ID'leri önle
        let finalId = baseId;
        if (idCounts.has(baseId)) {
          const count = idCounts.get(baseId) + 1;
          idCounts.set(baseId, count);
          finalId = baseId + "-" + count;
        } else {
          idCounts.set(baseId, 1);
        }
        
        heading.id = finalId;

        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = "#" + finalId;
        a.textContent = headingText;
        a.className = "toc-" + heading.tagName.toLowerCase();

        li.appendChild(a);
        tocList.appendChild(li);

        headingMap.set(finalId, a);
      });

      toc.appendChild(tocList);

      // Başlıkların görünürlük oranlarını takip et
      const visibilityMap = new Map();

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            const id = entry.target.getAttribute("id");
            visibilityMap.set(id, entry.intersectionRatio);
          });

          // En çok görünür olan başlığı bul
          let mostVisibleId = null;
          let maxRatio = 0;

          visibilityMap.forEach((ratio, id) => {
            if (ratio > maxRatio) {
              mostVisibleId = id;
              maxRatio = ratio;
            }
          });

          if (mostVisibleId) {
            headingMap.forEach((linkEl) => linkEl.classList.remove("active"));
            const activeLink = headingMap.get(mostVisibleId);
            if (activeLink) {
              activeLink.classList.add("active");

              // Ortalamak için:
              const linkTop = activeLink.offsetTop;
              const linkHeight = activeLink.offsetHeight;
              const tocScrollParent = toc;
              const tocHeight = tocScrollParent.offsetHeight;

              tocScrollParent.scrollTo({
                top: linkTop - tocHeight / 2 + linkHeight / 2,
                behavior: "smooth",
              });
            }
          }
        },
        {
          threshold: [0, 0.25, 0.5, 0.75, 1.0],
        }
      );

      headings.forEach((heading) => {
        observer.observe(heading);
      });

      const toggleBtn = document.getElementById("toc-toggle");
      const sidebar = document.querySelector(".guide-sidebar");

      toggleBtn.addEventListener("click", function () {
        sidebar.classList.toggle("open");
      });
      const closeBtn = document.querySelector(".toc-close");

      closeBtn?.addEventListener("click", function () {
        sidebar.classList.remove("open");
      });
    }
  });
</script>
        <!-- <footer class="guide-footer"> -->
        <div class="feedback">
          <h3>Geri Bildirim</h3>
          <p>
            Bu rehberin kalitesinin iyileştirilmesine yardımcı olmanızı
            öneririz.
          </p>
          <p>
            Herhangi bir yazım hatası veya olgusal hata görürseniz lütfen
            katkıda bulunun. Başlamak için,
            <a
              href="https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation"
              >dokümantasyon katkıları</a
            >
            bölümünü okuyabilirsiniz.
          </p>
          <p>
            Ayrıca eksik veya güncel olmayan içerik de bulabilirsiniz. Lütfen
            main için eksik olan belgeleri ekleyin. Sorunların main dalda zaten
            düzeltilip düzeltilmediğini doğrulamak için önce
            <a href="https://edgeguides.rubyonrails.org/">Edge Guides</a>'ı
            kontrol ettiğinizden emin olun. Stil ve kurallar için
            <a
              href="https://guides.rubyonrails.org/v8.0/ruby_on_rails_guides_guidelines.html"
              >Ruby on Rails Guides Guidelines</a
            >'ı kontrol edin.
          </p>
          <p>
            Herhangi bir sebepten dolayı düzeltebileceğiniz bir şey bulursanız
            ancak kendiniz patch yapamıyorsanız lütfen bir
            <a href="https://github.com/rails/rails/issues">issue</a> açın.
          </p>
          <p>
            Ve son olarak, Ruby on Rails dokümantasyonu ile ilgili her türlü
            tartışma resmi
            <a href="https://discuss.rubyonrails.org/c/rubyonrails-docs/6"
              >Ruby on Rails Forum</a
            >'unda memnuniyetle karşılanacaktır.
          </p>
        </div>
      </div>
    </main>

    <button id="scrollToTop" class="scroll-to-top" aria-label="Yukarı çık">
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <polyline points="18,15 12,9 6,15"></polyline>
      </svg>
    </button>

    <footer class="footer">
      <div class="container">
        <p>
          Bu çalışma <a href=" Creative Commons Attribution-ShareAlike 4.0 International">Creative Commons Attribution-ShareAlike 4.0 International</a> Lisansı kapsamında lisanslanmıştır.
          </p>
        <p>
          "Rails", "Ruby on Rails" ve Rails logosu David Heinemeier Hansson'un ticari markalarıdır. Tüm hakları saklıdır.
        </p><br/>
        <p>
          &copy; 2025 Rails Kılavuzları Türkçe Çevirisi.
          <a href="https://github.com/DilanKaya127">Dilan Kaya</a> tarafından
          hazırlanmıştır.
          Orijinal dokümantasyon
          <a href="https://guides.rubyonrails.org">Ruby on Rails</a> ekibine
          aittir.
        </p>
        

      </div>
    </footer>

    <script>
      hljs.highlightAll();
      // Yukarı çık butonu işlevselliği
      const scrollToTopBtn = document.getElementById("scrollToTop");

      // Scroll pozisyonunu kontrol et
      window.addEventListener("scroll", function () {
        if (window.pageYOffset > 500) {
          scrollToTopBtn.classList.add("visible");
        } else {
          scrollToTopBtn.classList.remove("visible");
        }
      });

      // Butona tıklandığında yukarı çık
      scrollToTopBtn.addEventListener("click", function () {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });
    </script>
  </body>
</html>
