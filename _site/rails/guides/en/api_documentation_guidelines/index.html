<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Api Documentation Guidelines - Rails Dokümantasyonu - Türkçe
    </title>
    <link
      rel="stylesheet"
      href="/assets/css/rails.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css"
    />

    <link
      rel="icon"
      type="image/svg"
      href="/assets/img/logo_rails-circle.svg"
    />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-Y6Q8S53SSQ"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-Y6Q8S53SSQ");
    </script>
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="header-content">
          <h1 class="logo">
            <a href="/rails/">
              <img
                src="/assets/img/logo_rails-circle.svg"
                alt="Rails Logo"
                class="logo-image"
              />
            </a>
          </h1>
          <nav class="nav">
            <a href="/">Ana Sayfa</a>
            <!-- <a href="https://dilankaya127.github.io">Portföy</a> -->

            <div class="dropdown">
              <a class="dropbtn">Kılavuzlar</a>
              <div class="dropdown-content multi-column">
                 
                <div class="dropdown-column">
                  <h4>Buradan Başlayın</h4>
                  
                  <a href="/rails/guides/tr/getting_started">Rails ile Başlarken</a>
                  
                </div>
                      
                <div class="dropdown-column">
                  <h4>Controllers</h4>
                  
                  <a href="/rails/guides/tr/action_controller_overview">Action Controller</a>
                  
                </div>
                  
                <div class="dropdown-column">
                  <h4>Diğer Bileşenler</h4>
                  
                  <a href="/rails/guides/tr/action_cable_overview">Action Cable</a>
                  
                </div>
                               
              </div>
            </div>
            <a href="https://github.com/dilankaya127/rails-tr-TR">GitHub</a>
          </nav>
        </div>
      </div>
    </header>

    <main class="main">
      <div class="container"><div class="guide-container">
  <button id="toc-toggle" class="toc-toggle">☰ İçindekiler</button>

  <aside class="guide-sidebar">
    <div class="guide-toc">
      <!-- <h3>İçindekiler</h3> -->
      <div id="toc"></div>
      <button class="toc-close" aria-label="İçindekileri Kapat">✕</button>
    </div>

    <!-- <div class="guide-nav">
            <h3>Diğer(Tüm) Kılavuzlar</h3>
            <ul>
                <li><a href="/rails/guides/tr/getting_started">Rails ile Başlarken</a></li>
                <li><a href="/rails/guides/en/active_record_basics">Active Record Temelleri</a></li>
                <li><a href="/rails/guides//en/action_controller_overview">Action Controller</a></li>
                <li><a href="/rails/guides/tr/action_cable_overview">Action Cable</a></li>
            </ul>
        </div> -->
  </aside>

  <article class="guide-content">
    <!-- <header class="guide-header">
            <h1>Api Documentation Guidelines</h1>
            
        </header> -->

    <div class="guide-body"><p><strong>DO NOT READ THIS FILE ON GITHUB, GUIDES ARE PUBLISHED ON <a href="https://guides.rubyonrails.org">https://guides.rubyonrails.org</a>.</strong></p>

<h1 id="api-documentation-guidelines">API Documentation Guidelines</h1>

<p>This guide documents the Ruby on Rails API documentation guidelines.</p>

<p>After reading this guide, you will know:</p>

<ul>
  <li>How to write effective prose for documentation purposes.</li>
  <li>Style guidelines for documenting different kinds of Ruby code.</li>
</ul>

<hr />

<h2 id="rdoc">RDoc</h2>

<p>The <a href="https://api.rubyonrails.org">Rails API documentation</a> is generated with
<a href="https://ruby.github.io/rdoc/">RDoc</a>. To generate it, make sure you are
in the rails root directory, run <code class="language-plaintext highlighter-rouge">bundle install</code> and execute:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bundle <span class="nb">exec </span>rake rdoc
</code></pre></div></div>

<p>Resulting HTML files can be found in the <code class="language-plaintext highlighter-rouge">./doc/rdoc</code> directory.</p>

<p>NOTE: Please consult the <a href="https://ruby.github.io/rdoc/RDoc/MarkupReference.html">RDoc Markup Reference</a> for help with the syntax.</p>

<h2 id="links">Links</h2>

<p>Rails API documentation are not meant to be viewed on GitHub and therefore links should use the <a href="https://ruby.github.io/rdoc/RDoc/MarkupReference.html#class-RDoc::MarkupReference-label-Links">RDoc link markup</a> markup relative to the current API.</p>

<p>This is due to differences between GitHub Markdown and the generated RDoc that is published at <a href="https://api.rubyonrails.org">api.rubyonrails.org</a> and <a href="https://edgeapi.rubyonrails.org">edgeapi.rubyonrails.org</a>.</p>

<p>For example, we use <code class="language-plaintext highlighter-rouge">[link:classes/ActiveRecord/Base.html]</code> to create a link to the <code class="language-plaintext highlighter-rouge">ActiveRecord::Base</code> class generated by RDoc.</p>

<p>This is preferred over absolute URLs such as <code class="language-plaintext highlighter-rouge">[https://api.rubyonrails.org/classes/ActiveRecord/Base.html]</code>, which would take the reader outside their current documentation version (e.g. edgeapi.rubyonrails.org).</p>

<h2 id="wording">Wording</h2>

<p>Write simple, declarative sentences. Brevity is a plus. Get to the point.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># BAD</span>
<span class="c1"># Caching may interfere with being able to see the results</span>
<span class="c1"># of code changes.</span>

<span class="c1"># GOOD</span>
<span class="c1"># Caching interferes with seeing the results of code changes.</span>
</code></pre></div></div>

<p>Use present tense:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># BAD</span>
<span class="c1"># Returned a hash that...</span>
<span class="c1"># Will return a hash that...</span>
<span class="c1"># Return a hash that...</span>

<span class="c1"># GOOD</span>
<span class="c1"># Returns a hash that...</span>
</code></pre></div></div>

<p>Start comments in upper case. Follow regular punctuation rules:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># BAD</span>
<span class="c1"># declares an attribute reader backed by an internally-named</span>
<span class="c1"># instance variable</span>

<span class="c1"># GOOD</span>
<span class="c1"># Declares an attribute reader backed by an internally-named</span>
<span class="c1"># instance variable.</span>
</code></pre></div></div>

<p>Communicate to the reader the current way of doing things, both explicitly and implicitly. Use the idioms recommended in edge. Reorder sections to emphasize favored approaches if needed, etc. The documentation should be a model for best practices and canonical, modern Rails usage.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># BAD</span>
<span class="c1"># Book.where('name = ?', "Where the Wild Things Are")</span>
<span class="c1"># Book.where('year_published &lt; ?', 50.years.ago)</span>

<span class="c1"># GOOD</span>
<span class="c1"># Book.where(name: "Where the Wild Things Are")</span>
<span class="c1"># Book.where(year_published: ...50.years.ago)</span>
</code></pre></div></div>

<p>Documentation has to be brief but comprehensive. Explore and document edge cases. What happens if a module is anonymous? What if a collection is empty? What if an argument is nil?</p>

<h3 id="naming">Naming</h3>

<p>The proper names of Rails components have a space in between the words, like “Active Support”. <code class="language-plaintext highlighter-rouge">ActiveRecord</code> is a Ruby module, whereas Active Record is an ORM. All Rails documentation should consistently refer to Rails components by their proper names.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># GOOD</span>
<span class="c1"># Active Record classes can be created by inheriting from</span>
<span class="c1"># ActiveRecord::Base.</span>
</code></pre></div></div>

<p>When referencing a “Rails application”, as opposed to an “engine” or “plugin”, always use “application”. Rails apps are not “services”, unless specifically discussing about service-oriented architecture.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># BAD</span>
<span class="c1"># Production services can report their status upstream.</span>
<span class="c1"># Devise is a Rails authentication application.</span>

<span class="c1"># GOOD</span>
<span class="c1"># Production applications can report their status upstream.</span>
<span class="c1"># Devise is a Rails authentication engine.</span>
</code></pre></div></div>

<p>Spell software names correctly. When in doubt, please have a look at some authoritative source like their official documentation.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># GOOD</span>
<span class="c1"># Arel</span>
<span class="c1"># ERB</span>
<span class="c1"># Hotwire</span>
<span class="c1"># HTML</span>
<span class="c1"># JavaScript</span>
<span class="c1"># minitest</span>
<span class="c1"># MySQL</span>
<span class="c1"># npm</span>
<span class="c1"># PostgreSQL</span>
<span class="c1"># RSpec</span>
</code></pre></div></div>

<p>Use the article “an” for “SQL”:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># BAD</span>
<span class="c1"># Creates a SQL statement.</span>
<span class="c1"># Starts a SQLite database.</span>

<span class="c1"># GOOD</span>
<span class="c1"># Creates an SQL statement.</span>
<span class="c1"># Starts an SQLite database.</span>
</code></pre></div></div>

<h3 id="pronouns">Pronouns</h3>

<p>Prefer wordings that avoid “you”s and “your”s.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># BAD</span>
<span class="c1"># If you need to use +return+ statements in your callbacks, it is</span>
<span class="c1"># recommended that you explicitly define them as methods.</span>

<span class="c1"># GOOD</span>
<span class="c1"># If +return+ is needed, it is recommended to explicitly define a</span>
<span class="c1"># method.</span>
</code></pre></div></div>

<p>That said, when using pronouns in reference to a hypothetical person, such as “a
user with a session cookie”, gender neutral pronouns (they/their/them) should be
used. Instead of:</p>

<ul>
  <li>he or she… use they.</li>
  <li>him or her… use them.</li>
  <li>his or her… use their.</li>
  <li>his or hers… use theirs.</li>
  <li>himself or herself… use themselves.</li>
</ul>

<h3 id="american-english">American English</h3>

<p>Please use American English (<em>color</em>, <em>center</em>, <em>modularize</em>, etc). See <a href="https://en.wikipedia.org/wiki/American_and_British_English_spelling_differences">a list of American and British English spelling differences here</a>.</p>

<h3 id="oxford-comma">Oxford Comma</h3>

<p>Please use the <a href="https://en.wikipedia.org/wiki/Serial_comma">Oxford comma</a>
(“red, white, and blue”, instead of “red, white and blue”).</p>

<h2 id="example-code">Example Code</h2>

<p>Choose meaningful examples that depict and cover the basics as well as interesting points or gotchas.</p>

<p>For proper rendering, indent code by two spaces from the left margin. The examples themselves should use <a href="contributing_to_ruby_on_rails.html#follow-the-coding-conventions">Rails coding conventions</a>.</p>

<p>Short docs do not need an explicit “Examples” label to introduce snippets; they just follow paragraphs:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Converts a collection of elements into a formatted string by</span>
<span class="c1"># calling +to_s+ on all elements and joining them.</span>
<span class="c1">#</span>
<span class="c1">#   Blog.all.to_fs # =&gt; "First PostSecond PostThird Post"</span>
</code></pre></div></div>

<p>On the other hand, big chunks of structured documentation may have a separate “Examples” section:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ==== Examples</span>
<span class="c1">#</span>
<span class="c1">#   Person.exists?(5)</span>
<span class="c1">#   Person.exists?('5')</span>
<span class="c1">#   Person.exists?(name: "David")</span>
<span class="c1">#   Person.exists?(['name LIKE ?', "%#{query}%"])</span>
</code></pre></div></div>

<p>The results of expressions follow them and are introduced by “# =&gt; “, vertically aligned:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># For checking if an integer is even or odd.</span>
<span class="c1">#</span>
<span class="c1">#   1.even? # =&gt; false</span>
<span class="c1">#   1.odd?  # =&gt; true</span>
<span class="c1">#   2.even? # =&gt; true</span>
<span class="c1">#   2.odd?  # =&gt; false</span>
</code></pre></div></div>

<p>If a line is too long, the comment may be placed on the next line:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#   label(:article, :title)</span>
<span class="c1">#   # =&gt; &lt;label for="article_title"&gt;Title&lt;/label&gt;</span>
<span class="c1">#</span>
<span class="c1">#   label(:article, :title, "A short title")</span>
<span class="c1">#   # =&gt; &lt;label for="article_title"&gt;A short title&lt;/label&gt;</span>
<span class="c1">#</span>
<span class="c1">#   label(:article, :title, "A short title", class: "title_label")</span>
<span class="c1">#   # =&gt; &lt;label for="article_title" class="title_label"&gt;A short title&lt;/label&gt;</span>
</code></pre></div></div>

<p>Avoid using any printing methods like <code class="language-plaintext highlighter-rouge">puts</code> or <code class="language-plaintext highlighter-rouge">p</code> for that purpose.</p>

<p>On the other hand, regular comments do not use an arrow:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#   polymorphic_url(record)  # same as comment_url(record)</span>
</code></pre></div></div>

<h3 id="sql">SQL</h3>

<p>When documenting SQL statements, the result should not have <code class="language-plaintext highlighter-rouge">=&gt;</code> before the output.</p>

<p>For example,</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#   User.where(name: 'Oscar').to_sql</span>
<span class="c1">#   # SELECT "users".* FROM "users"  WHERE "users"."name" = 'Oscar'</span>
</code></pre></div></div>

<h3 id="irb">IRB</h3>

<p>When documenting the behavior for IRB, Ruby’s interactive REPL, always prefix commands with <code class="language-plaintext highlighter-rouge">irb&gt;</code>. The output should be prefixed with <code class="language-plaintext highlighter-rouge">=&gt;</code>.</p>

<p>For example,</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Find the customer with primary key (id) 10.</span>
<span class="c1">#   irb&gt; customer = Customer.find(10)</span>
<span class="c1">#   # =&gt; #&lt;Customer id: 10, first_name: "Ryan"&gt;</span>
</code></pre></div></div>

<h3 id="bash--command-line">Bash / Command-line</h3>

<p>For command-line examples, always prefix the command with <code class="language-plaintext highlighter-rouge">$</code>. The output doesn’t have to be prefixed with anything.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Run the following command:</span>
<span class="c1">#   $ bin/rails new zomg</span>
<span class="c1">#   ...</span>
</code></pre></div></div>

<h2 id="booleans">Booleans</h2>

<p>For predicates and flags, prefer documenting boolean semantics over exact values.</p>

<p>When “true” or “false” are used as defined in Ruby use regular font. The
singletons <code class="language-plaintext highlighter-rouge">true</code> and <code class="language-plaintext highlighter-rouge">false</code> need fixed-width font. Please avoid terms like
“truthy”. Ruby defines what is true and false in the language, and thus those
words have a technical meaning and need no substitutes.</p>

<p>As a rule of thumb, do not document singletons unless absolutely necessary. That
prevents artificial constructs like <code class="language-plaintext highlighter-rouge">!!</code> or ternaries, allows refactors, and the
code does not need to rely on the exact values returned by methods being called
in the implementation.</p>

<p>For example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># +config.action_mailer.perform_deliveries+ specifies whether mail</span>
<span class="c1"># will actually be delivered and is true by default</span>
</code></pre></div></div>

<p>the user does not need to know which is the actual default value of the flag,
and so we only document its boolean semantics.</p>

<p>An example with a predicate:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Returns true if the collection is empty.</span>
<span class="c1">#</span>
<span class="c1"># If the collection has been loaded it is equivalent to</span>
<span class="c1"># +collection.size.zero?+. If the collection has not been loaded,</span>
<span class="c1"># it is equivalent to +!collection.exists?+. If the collection has</span>
<span class="c1"># not already been loaded and you are going to fetch the records</span>
<span class="c1"># anyway, it is better to check +collection.length.zero?+.</span>
<span class="k">def</span> <span class="nf">empty?</span>
  <span class="k">if</span> <span class="n">loaded?</span>
    <span class="n">size</span><span class="p">.</span><span class="nf">zero?</span>
  <span class="k">else</span>
    <span class="vi">@target</span><span class="p">.</span><span class="nf">blank?</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">scope</span><span class="p">.</span><span class="nf">exists?</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>The API is careful not to commit to any particular value, the method has
predicate semantics, which is sufficient.</p>

<h2 id="file-names">File Names</h2>

<p>As a rule of thumb, use filenames relative to the application root:
<code class="language-plaintext highlighter-rouge">config/routes.rb</code> instead of <code class="language-plaintext highlighter-rouge">routes.rb</code> or <code class="language-plaintext highlighter-rouge">RAILS_ROOT/config/routes.rb</code>.</p>

<h2 id="fonts">Fonts</h2>

<h3 id="fixed-width-font">Fixed-width Font</h3>

<p>Use fixed-width fonts for:</p>

<ul>
  <li>Constants, in particular class and module names</li>
  <li>Method names</li>
  <li>Literals like <code class="language-plaintext highlighter-rouge">nil</code>, <code class="language-plaintext highlighter-rouge">false</code>, <code class="language-plaintext highlighter-rouge">true</code>, <code class="language-plaintext highlighter-rouge">self</code></li>
  <li>Symbols</li>
  <li>Method parameters</li>
  <li>File names</li>
  <li>HTML tags and attributes</li>
  <li>CSS selectors, attributes and values</li>
</ul>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Array</span>
  <span class="c1"># Calls +to_param+ on all its elements and joins the result with</span>
  <span class="c1"># slashes. This is used by +url_for+ in Action Pack.</span>
  <span class="k">def</span> <span class="nf">to_param</span>
    <span class="n">collect</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">e</span><span class="p">.</span><span class="nf">to_param</span> <span class="p">}.</span><span class="nf">join</span> <span class="s2">"/"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>WARNING: Using <code class="language-plaintext highlighter-rouge">+...+</code> for fixed-width font only works with simple content like
ordinary classes, modules, method names, symbols, paths (with forward slashes),
etc. Use <code class="language-plaintext highlighter-rouge">&lt;tt&gt;...&lt;/tt&gt;</code> for everything else.</p>

<p>You can quickly test the RDoc output with the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"+:to_param+"</span> | rdoc <span class="nt">--pipe</span>
<span class="c"># =&gt; &lt;p&gt;&lt;code&gt;:to_param&lt;/code&gt;&lt;/p&gt;</span>
</code></pre></div></div>

<p>For example, code with spaces or quotes should use the <code class="language-plaintext highlighter-rouge">&lt;tt&gt;...&lt;/tt&gt;</code> form.</p>

<h3 id="regular-font">Regular Font</h3>

<p>When “true” and “false” are English words rather than Ruby keywords use a regular font:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Runs all the validations within the specified context.</span>
<span class="c1"># Returns true if no errors are found, false otherwise.</span>
<span class="c1">#</span>
<span class="c1"># If the argument is false (default is +nil+), the context is</span>
<span class="c1"># set to &lt;tt&gt;:create&lt;/tt&gt; if &lt;tt&gt;new_record?&lt;/tt&gt; is true,</span>
<span class="c1"># and to &lt;tt&gt;:update&lt;/tt&gt; if it is not.</span>
<span class="c1">#</span>
<span class="c1"># Validations with no &lt;tt&gt;:on&lt;/tt&gt; option will run no</span>
<span class="c1"># matter the context. Validations with # some &lt;tt&gt;:on&lt;/tt&gt;</span>
<span class="c1"># option will only run in the specified context.</span>
<span class="k">def</span> <span class="nf">valid?</span><span class="p">(</span><span class="n">context</span> <span class="o">=</span> <span class="kp">nil</span><span class="p">)</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="description-lists">Description Lists</h2>

<p>In lists of options, parameters, etc. use a hyphen between the item and its description (reads better than a colon because normally options are symbols):</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># * &lt;tt&gt;:allow_nil&lt;/tt&gt; - Skip validation if attribute is +nil+.</span>
</code></pre></div></div>

<p>The description starts in upper case and ends with a full stop—it’s standard English.</p>

<p>An alternative approach, when you want to provide additional detail and examples is to use option section style.</p>

<p><a href="https://api.rubyonrails.org/classes/ActiveSupport/MessageEncryptor.html#method-i-encrypt_and_sign"><code class="language-plaintext highlighter-rouge">ActiveSupport::MessageEncryptor#encrypt_and_sign</code></a> is a great example of this.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ==== Options</span>
<span class="c1">#</span>
<span class="c1"># [+:expires_at+]</span>
<span class="c1">#   The datetime at which the message expires. After this datetime,</span>
<span class="c1">#   verification of the message will fail.</span>
<span class="c1">#</span>
<span class="c1">#     message = encryptor.encrypt_and_sign("hello", expires_at: Time.now.tomorrow)</span>
<span class="c1">#     encryptor.decrypt_and_verify(message) # =&gt; "hello"</span>
<span class="c1">#     # 24 hours later...</span>
<span class="c1">#     encryptor.decrypt_and_verify(message) # =&gt; nil</span>
</code></pre></div></div>

<h2 id="dynamically-generated-methods">Dynamically Generated Methods</h2>

<p>Methods created with <code class="language-plaintext highlighter-rouge">(module|class)_eval(STRING)</code> have a comment by their side with an instance of the generated code. That comment is 2 spaces away from the template:</p>

<table>
  <tbody>
    <tr>
      <td>[![(module</td>
      <td>class)_eval(STRING) code comments](images/dynamic_method_class_eval.png)](images/dynamic_method_class_eval.png)</td>
    </tr>
  </tbody>
</table>

<p>If the resulting lines are too wide, say 200 columns or more, put the comment above the call:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># def self.find_by_login_and_activated(*args)</span>
<span class="c1">#   options = args.extract_options!</span>
<span class="c1">#   ...</span>
<span class="c1"># end</span>
<span class="nb">self</span><span class="p">.</span><span class="nf">class_eval</span> <span class="sx">%{
  def self.</span><span class="si">#{</span><span class="n">method_id</span><span class="si">}</span><span class="sx">(*args)
    options = args.extract_options!
    ...
  end
}</span><span class="p">,</span> <span class="kp">__FILE__</span><span class="p">,</span> <span class="kp">__LINE__</span>
</code></pre></div></div>

<h2 id="method-visibility">Method Visibility</h2>

<p>When writing documentation for Rails, it’s important to differentiate between
the user-facing API and the internal API.</p>

<p>Methods that are in Ruby’s private scope are excluded from the user-facing API.
However, some internal API methods must be in Ruby’s public scope so that they
can be called elsewhere in the framework. To exclude such methods from the
user-facing API, use RDoc’s <code class="language-plaintext highlighter-rouge">:nodoc:</code> directive.</p>

<p>An example is <code class="language-plaintext highlighter-rouge">ActiveRecord::Core::ClassMethods#arel_table</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">ActiveRecord::Core::ClassMethods</span>
  <span class="k">def</span> <span class="nf">arel_table</span> <span class="c1"># :nodoc:</span>
    <span class="c1"># do some magic..</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Even though it is a public method, users should not rely on it. The name of this
method may change, or the return value may change, or this method may be removed
entirely. By marking it with <code class="language-plaintext highlighter-rouge">:nodoc:</code>, it is removed from the user-facing API
documentation.</p>

<p>As a contributor, it’s important to think about whether an API should be
user-facing or internal. The Rails team is committed to not making breaking
changes to the user-facing API without first going through a full deprecation
cycle. Therefore, you should add <code class="language-plaintext highlighter-rouge">:nodoc:</code> to any internal methods or modules,
unless they are already private. (Adding <code class="language-plaintext highlighter-rouge">:nodoc:</code> to a module or class
indicates that all methods are internal API, and it should be removed from the
user-facing API documentation.)</p>

<h2 id="regarding-the-rails-stack">Regarding the Rails Stack</h2>

<p>When documenting parts of Rails’ API, it’s important to be mindful of the entire
Rails stack. Behavior of the method or class you’re documenting may change
depending on context.</p>

<p>One such example is <code class="language-plaintext highlighter-rouge">ActionView::Helpers::AssetTagHelper#image_tag</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># image_tag("icon.png")</span>
<span class="c1">#   # =&gt; &lt;img src="/assets/icon.png" /&gt;</span>
</code></pre></div></div>

<p>In isolation, <code class="language-plaintext highlighter-rouge">image_tag</code> would return <code class="language-plaintext highlighter-rouge">/images/icon.png</code>. However, when we take
into account the full Rails stack, including the Asset Pipeline, we may see the
above result.</p>

<p>We want to document the behavior of the <em>framework</em>, not just isolated methods.
Our concern is the behavior that the user experiences when using the full
default Rails stack.</p>

<p>If you have a question on how the Rails team handles certain API, don’t hesitate to open a ticket or send a patch to the <a href="https://github.com/rails/rails/issues">issue tracker</a>.</p>
</div>
  </article>
</div>
<footer class="guide-footer">
      <div class="feedback">
        <h3>Geri Bildirim</h3>
        <p>
          Bu kılavuzun kalitesini artırmamıza yardımcı olmak için geri
          bildirimlerinizi bekliyoruz.
        </p>
        <p>
          Lütfen
          <a href="https://github.com/dilankaya127/rails-tr-TR"
            >GitHub Issues</a
          >
          üzerinden katkıda bulunun.
        </p>
      </div>
    </footer>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toc = document.getElementById("toc");
    const headings = document.querySelectorAll(
      ".guide-content h2, .guide-content h3, .guide-content h4"
    );

    if (headings.length > 0) {
      const tocList = document.createElement("ul");
      const headingMap = new Map();

      headings.forEach(function (heading, index) {
        const id = "heading-" + index;
        heading.id = id;

        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = "#" + id;
        a.textContent = heading.textContent;
        a.className = "toc-" + heading.tagName.toLowerCase();

        li.appendChild(a);
        tocList.appendChild(li);

        headingMap.set(id, a);
      });

      toc.appendChild(tocList);

      // Başlıkların görünürlük oranlarını takip et
      const visibilityMap = new Map();

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            const id = entry.target.getAttribute("id");
            visibilityMap.set(id, entry.intersectionRatio);
          });

          // En çok görünür olan başlığı bul
          let mostVisibleId = null;
          let maxRatio = 0;

          visibilityMap.forEach((ratio, id) => {
            if (ratio > maxRatio) {
              mostVisibleId = id;
              maxRatio = ratio;
            }
          });

          if (mostVisibleId) {
            headingMap.forEach((linkEl) => linkEl.classList.remove("active"));
            const activeLink = headingMap.get(mostVisibleId);
            if (activeLink) {
              activeLink.classList.add("active");

              // Ortalamak için:
              const linkTop = activeLink.offsetTop;
              const linkHeight = activeLink.offsetHeight;
              const tocScrollParent = toc;
              const tocHeight = tocScrollParent.offsetHeight;

              tocScrollParent.scrollTo({
                top: linkTop - tocHeight / 2 + linkHeight / 2,
                behavior: "smooth",
              });
            }
          }
        },
        {
          threshold: [0, 0.25, 0.5, 0.75, 1.0],
        }
      );

      headings.forEach((heading) => {
        observer.observe(heading);
      });

      const toggleBtn = document.getElementById("toc-toggle");
      const sidebar = document.querySelector(".guide-sidebar");

      toggleBtn.addEventListener("click", function () {
        sidebar.classList.toggle("open");
      });
      const closeBtn = document.querySelector(".toc-close");

      closeBtn?.addEventListener("click", function () {
        sidebar.classList.remove("open");
      });
    }
  });
</script>
</div>
    </main>

    <footer class="footer">
      <div class="container">
        <p>
          &copy; 2025 Rails Kılavuzları Türkçe Çevirisi.
          <a href="https://github.com/DilanKaya127">Dilan Kaya</a> tarafından
          hazırlanmıştır.
        </p>
        <p>
          Orijinal dokümantasyon
          <a href="https://guides.rubyonrails.org">Ruby on Rails</a> ekibine
          aittir.
        </p>
      </div>
    </footer>

    <script>
      hljs.highlightAll();
    </script>
  </body>
</html>
